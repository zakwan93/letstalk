(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{"./webpack/assets/javascripts/libs/eventTracking.js":function(t,e,n){"use strict";var r=n("./webpack/assets/javascripts/libs/ccdata.js"),i=n("./node_modules/jsuri/Uri.js"),a=n.n(i),s=n("./webpack/assets/javascripts/libs/userAttributes.js"),o=n("./node_modules/superagent/lib/client.js"),u=n.n(o),c=n("./webpack/assets/javascripts/libs/superagent-auth.js"),d=function beacon(t,e){var n=!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&function canUseBeacon(){return window.navigator&&"function"==typeof window.navigator.sendBeacon}(),r=new a.a(t).addQueryParam("authentication_token",s.a.get("authentication_token")).toString();n?function sendBeacon(t,e){navigator.sendBeacon(t,e)}(r,e):function sendXHR(t,e){var n=u.a.post(t).use(c.b).use(c.c);e instanceof FormData||n.setHeader("Content-Type","text/plain;charset=UTF-8"),n.send(e).end()}(r,e)};function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){_defineProperty(t,e,n[e])})}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _objectWithoutProperties(t,e){if(null==t)return{};var n,r,i=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}n.d(e,"b",function(){return p}),n.d(e,"c",function(){return f}),n.d(e,"e",function(){return v}),n.d(e,"f",function(){return h}),n.d(e,"d",function(){return l}),n.d(e,"a",function(){return g});var p=function track(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i="";"undefined"!=typeof CCDATA&&"development"===CCDATA.env&&(i="http://".concat(window.location.hostname,":").concat(window.location.port)),i="".concat(i,"/events/").concat(t),n.fullpath=window.location.pathname+window.location.search;var a=new FormData;a.append("category",t),a.append("event",e),a.append("properties",JSON.stringify(n)),a.append("authenticity_token",r.a.get("authenticity_token")),d(i,a)},f=function trackContentItemEvent(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.contentItem,i=_objectWithoutProperties(n,["contentItem"]);if(r){var a=r.type,s=r.progress;if(void 0===a||void 0===s)return;var o="quiz"===a,u=s.progress_percentage;o&&(u=s.passed?100:0),i=_objectSpread({up_next:r.upNext,content_item_progress:u,content_item_score:o?s.highest_percentage:null,content_item_type:a,quiz_retake:o&&s.taken},i)}i=_objectSpread({version:"v2_dashboard"},i),p(t,e,i)},v=function trackUserClick(t){p("user","click",t)},h=function trackUserVisit(t){p("user","visit",t)},l=function trackTabChangeEvent(t,e){return function(n){var r=e[n],i="".concat(t,"_").concat(r);v({target:i})}},g=function pushDataLayerEvent(t){void 0===window.dataLayer&&(window.dataLayer=[]),window.dataLayer.push({event:t})}},"./webpack/assets/javascripts/libs/gtm/userSignUp.js":function(t,e,n){"use strict";n.r(e);var r=n("./webpack/assets/javascripts/libs/ccdata.js"),i=n("./webpack/assets/javascripts/libs/eventTracking.js"),a={track:function track(){r.a.get("push_sign_up_event")&&Object(i.a)("user_sign_up")}};e.default=a},"./webpack/assets/javascripts/libs/superagent-auth.js":function(t,e,n){"use strict";n.d(e,"b",function(){return csrf}),n.d(e,"c",function(){return userAuth}),n.d(e,"a",function(){return apiAuth});var r=n("./webpack/assets/javascripts/libs/userAttributes.js"),i=n("./webpack/assets/javascripts/libs/ccdata.js"),a=n("./node_modules/jsuri/Uri.js"),s=n.n(a);function csrf(t){var e=i.a.get("authenticity_token");return e&&t.set("X-CSRF-Token",e),t}function userAuth(t){var e=r.a.get("authentication_token");if(!r.a.isAnon()&&e){var n=new s.a(t.url).addQueryParam("authentication_token",e);t.url=n.toString()}return window.CCDATA.current_user&&t.set("X-Auth-Token",window.CCDATA.current_user.authentication_token),t}function apiAuth(t){var e=r.a.get("authentication_token");return!r.a.isAnon()&&e&&(t.set("X-Auth-Token",e),t.set("X-User-Id",r.a.id())),t}},"./webpack/assets/javascripts/libs/userAttributes.js":function(t,e,n){"use strict";var r=n("./webpack/assets/javascripts/libs/ccdata.js"),i=(n("./webpack/assets/javascripts/vendor/plugins/jquery.auth_prefilter.js"),{isAdmin:function isAdmin(){return this._hasRole("admin")},isAdvisor:function isAdvisor(){return this._hasRole("advisor")||this._hasRole("advisor_candidate")},isCustomerService:function isCustomerService(){return this._hasRole("customer_service")},isAuthor:function isAuthor(){return this._hasRole("author")},_hasRole:function _hasRole(t){return(this.get("roles")||[]).indexOf(t)>=0},isAnon:function isAnon(){return!r.a.has("current_user",void 0)},isPro:function isPro(){return this.get("pro",!1)},id:function id(){return this.get("_id","anon")},authenticationToken:function authenticationToken(){return this.get("authentication_token","")},getExperiments:function getExperiments(){return this.isAnon()?r.a.get("anonymous_user.experiments"):r.a.get("current_user.experiments")},getExperimentGroup:function getExperimentGroup(t){return(this.getExperiments()||{})[t]},getCurrentUser:function getCurrentUser(){return r.a.get("current_user")},get:function get(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return r.a.get("current_user.".concat(t),e)},hasGodMode:function hasGodMode(){return i.isAdmin()||i.isAdvisor()||i.isAuthor()},isSafari:function isSafari(){var t=navigator.userAgent.toLowerCase();return-1!==t.indexOf("safari")&&!(t.indexOf("chrome")>-1)}});e.a=i},"./webpack/assets/javascripts/vendor/plugins/jquery.auth_prefilter.js":function(t,e,n){"use strict";var r=n("./node_modules/jquery/dist/jquery.js");n.n(r).a.ajaxPrefilter(function(t,e,n){if("undefined"!=typeof CCDATA){if(CCDATA.current_user){var r=CCDATA.current_user.authentication_token,i=t.url.indexOf("?")>0?"&":"?";t.url+=i+"authentication_token="+r}CCDATA.authenticity_token&&!t.crossDomain&&n.setRequestHeader("X-CSRF-Token",CCDATA.authenticity_token)}})}}]);
//# sourceMappingURL=6360b76507804e59618c-139be4c4c0942fb84d98.js.map