(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"./node_modules/@codecademy/gamut-styles/core/index.scss":function(e,t,n){},"./node_modules/braintree-web/index.js":function(e,t){!function(n){if("object"==typeof t&&void 0!==e)e.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).braintree=n()}}(function(){return function t(e,n,o){function r(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return r(n||t)},l,l.exports,t,e,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t,n){"use strict";function i(e){var t,n,r;return e?(t=e.prefixPattern.source,n=e.exactPattern.source,(r=JSON.parse(JSON.stringify(e))).prefixPattern=t,r.exactPattern=n,r):null}function r(e){var t,n,r,a=[],s=[];if(!("string"==typeof e||e instanceof String))return[];for(r=0;r<_.length;r++)t=_[r],n=o[t],0!==e.length?n.exactPattern.test(e)?s.push(i(n)):n.prefixPattern.test(e)&&a.push(i(n)):a.push(i(n));return s.length?s:a}var o={},a="visa",s="master-card",c="american-express",u="diners-club",l="discover",d="jcb",f="unionpay",p="maestro",h="CVV",_=[a,s,c,u,l,d,f,p];o[a]={niceType:"Visa",type:a,prefixPattern:/^4$/,exactPattern:/^4\d*$/,gaps:[4,8,12],lengths:[16],code:{name:h,size:3}},o[s]={niceType:"MasterCard",type:s,prefixPattern:/^(5|5[1-5]|2|22|222|222[1-9]|2[3-6]|27[0-1]|2720)$/,exactPattern:/^(5[1-5]|222[1-9]|2[3-6]|27[0-1]|2720)\d*$/,gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},o[c]={niceType:"American Express",type:c,prefixPattern:/^(3|34|37)$/,exactPattern:/^3[47]\d*$/,isAmex:!0,gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},o[u]={niceType:"Diners Club",type:u,prefixPattern:/^(3|3[0689]|30[0-5])$/,exactPattern:/^3(0[0-5]|[689])\d*$/,gaps:[4,10],lengths:[14],code:{name:h,size:3}},o[l]={niceType:"Discover",type:l,prefixPattern:/^(6|60|601|6011|65|64|64[4-9])$/,exactPattern:/^(6011|65|64[4-9])\d*$/,gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},o[d]={niceType:"JCB",type:d,prefixPattern:/^(2|21|213|2131|1|18|180|1800|3|35)$/,exactPattern:/^(2131|1800|35)\d*$/,gaps:[4,8,12],lengths:[16],code:{name:h,size:3}},o[f]={niceType:"UnionPay",type:f,prefixPattern:/^(6|62)$/,exactPattern:/^62\d*$/,gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVN",size:3}},o[p]={niceType:"Maestro",type:p,prefixPattern:/^(5|5[06-9]|6\d*)$/,exactPattern:/^5[06-9]\d*$/,gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},r.getTypeInfo=function(e){return i(o[e])},r.types={VISA:a,MASTERCARD:s,AMERICAN_EXPRESS:c,DINERS_CLUB:u,DISCOVER:l,JCB:d,UNIONPAY:f,MAESTRO:p},t.exports=r},{}],2:[function(e,t,n){(function(e){"use strict";!function(r,o){"object"==typeof n&&void 0!==t?t.exports=o(void 0===e?r:e):r.framebus=o(r)}(this,function(e){function i(e){var t,n=a(this);return!s(e)&&(!s(n)&&(!1!==(t=c(e,Array.prototype.slice.call(arguments,1),n))&&(h(m.top,t,n),!0)))}function r(e,t){var n=a(this);return!y(e,t,n)&&(v[n]=v[n]||{},v[n][e]=v[n][e]||[],v[n][e].push(t),!0)}function o(e,t){var n,r,o=a(this);if(y(e,t,o))return!1;if(!(r=v[o]&&v[o][e]))return!1;for(n=0;n<r.length;n++)if(r[n]===t)return r.splice(n,1),!0;return!1}function a(e){return e&&e._origin||"*"}function s(e){return"string"!=typeof e}function c(e,t,n){var r=!1,o={event:e,origin:n},i=t[t.length-1];"function"==typeof i&&(o.reply=function I(e,t){var r=function u(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}();return b.target(t).subscribe(r,function n(o,i){e(o,i),b.target(t).unsubscribe(r,n)}),r}(i,n),t=t.slice(0,-1)),o.args=t;try{r=A+JSON.stringify(o)}catch(e){throw new Error("Could not stringify event: "+e.message)}return r}function p(e){var t;s(e.data)||(t=function l(e){var t,n,r,o;if(e.data.slice(0,A.length)!==A)return!1;try{t=JSON.parse(e.data.slice(A.length))}catch(e){return!1}return null!=t.reply&&(n=e.origin,r=e.source,o=t.reply,t.reply=function(e){var t=c(o,[e],n);return!1!==t&&void r.postMessage(t,n)},t.args.push(t.reply)),t}(e))&&(_("*",t.event,t.args,e),_(e.origin,t.event,t.args,e),function E(e,t,n){var r,o;for(r=g.length-1;r>=0;r--)!0===(o=g[r]).closed?g=g.slice(r,1):n!==o&&h(o.top,e,t)}(e.data,t.origin,e.source))}function _(e,t,n,r){var o;if(v[e]&&v[e][t])for(o=0;o<v[e][t].length;o++)v[e][t][o].apply(r,n)}function h(e,t,n){var r;try{for(e.postMessage(t,n),function f(e){return e.top===e&&null!=e.opener&&e.opener!==e&&!0!==e.opener.closed}(e)&&h(e.opener.top,t,n),r=0;r<e.frames.length;r++)h(e.frames[r],t,n)}catch(e){}}function y(e,t,n){return!!s(e)||("function"!=typeof t||!!s(n))}var m,b,g=[],v={},A="/*framebus*/";return function d(t){m||((m=t||e).addEventListener?m.addEventListener("message",p,!1):m.attachEvent?m.attachEvent("onmessage",p):null===m.onmessage?m.onmessage=p:m=null)}(),b={target:function n(e){var t,n={};for(t in b)b.hasOwnProperty(t)&&(n[t]=b[t]);return n._origin=e||"*",n},include:function t(e){return null!=e&&null!=e.Window&&e.constructor===e.Window&&(g.push(e),!0)},publish:i,pub:i,trigger:i,emit:i,subscribe:r,sub:r,on:r,unsubscribe:o,unsub:o,off:o}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){"use strict";var r=e("./lib/set-attributes"),o=e("./lib/default-attributes"),i=e("./lib/assign");t.exports=function(e){var t=document.createElement("iframe"),n=i({},o,e);return n.style&&"string"!=typeof n.style&&(i(t.style,n.style),delete n.style),r(t,n),t.getAttribute("id")||(t.id=t.name),t}},{"./lib/assign":4,"./lib/default-attributes":5,"./lib/set-attributes":6}],4:[function(e,t,n){"use strict";t.exports=function(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){"object"==typeof t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}},{}],5:[function(e,t,n){t.exports={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],6:[function(e,t,n){"use strict";t.exports=function(e,t){var n;for(var r in t)t.hasOwnProperty(r)&&(null==(n=t[r])?e.removeAttribute(r):e.setAttribute(r,n))}},{}],7:[function(e,t,n){"use strict";function i(e){this._client=e.client}var r=e("../lib/error"),o=e("../lib/deferred"),a=e("./errors"),s=e("../lib/throw-if-no-callback");i.prototype.getRewardsBalance=function(e,t){return s(t,"getRewardsBalance"),t=o(t),e.nonce?void this._client.request({method:"get",endpoint:"payment_methods/amex_rewards_balance",data:{_meta:{source:"american-express"},paymentMethodNonce:e.nonce}},function(e,n){e?t(new r({type:a.AMEX_NETWORK_ERROR.type,code:a.AMEX_NETWORK_ERROR.code,message:"A network error occurred when getting the American Express rewards balance.",details:{originalError:e}})):t(null,n)}):void t(new r({type:a.AMEX_NONCE_REQUIRED.type,code:a.AMEX_NONCE_REQUIRED.code,message:"getRewardsBalance must be called with a nonce."}))},i.prototype.getExpressCheckoutProfile=function(e,t){return s(t,"getExpressCheckoutProfile"),t=o(t),e.nonce?void this._client.request({method:"get",endpoint:"payment_methods/amex_express_checkout_cards/"+e.nonce,data:{_meta:{source:"american-express"},paymentMethodNonce:e.nonce}},function(e,n){e?t(new r({type:a.AMEX_NETWORK_ERROR.type,code:a.AMEX_NETWORK_ERROR.code,message:"A network error occurred when getting the American Express Checkout nonce profile.",details:{originalError:e}})):t(null,n)}):void t(new r({type:a.AMEX_NONCE_REQUIRED.type,code:a.AMEX_NONCE_REQUIRED.code,message:"getExpressCheckoutProfile must be called with a nonce."}))},t.exports=i},{"../lib/deferred":50,"../lib/error":53,"../lib/throw-if-no-callback":71,"./errors":8}],8:[function(e,t,n){"use strict";var r=e("../lib/error");t.exports={AMEX_NONCE_REQUIRED:{type:r.types.MERCHANT,code:"AMEX_NONCE_REQUIRED"},AMEX_NETWORK_ERROR:{type:r.types.NETWORK,code:"AMEX_NETWORK_ERROR"}}},{"../lib/error":53}],9:[function(e,t,n){"use strict";var r=e("../lib/error"),o=e("./american-express"),a=e("../lib/deferred"),s=e("../errors"),c="3.5.0",u=e("../lib/throw-if-no-callback");t.exports={create:function i(e,t){var n;return u(t,"create"),t=a(t),null==e.client?void t(new r({type:s.INSTANTIATION_OPTION_REQUIRED.type,code:s.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating American Express."})):(n=e.client.getConfiguration().analyticsMetadata.sdkVersion)!==c?void t(new r({type:s.INCOMPATIBLE_VERSIONS.type,code:s.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+n+") and American Express (version "+c+") components must be from the same SDK version."})):void t(null,new o(e))},VERSION:c}},{"../errors":29,"../lib/deferred":50,"../lib/error":53,"../lib/throw-if-no-callback":71,"./american-express":7}],10:[function(e,t,n){(function(n){"use strict";function i(e){this._client=e.client,Object.defineProperty(this,"merchantIdentifier",{value:this._client.getConfiguration().gatewayConfiguration.applePayWeb.merchantIdentifier,configurable:!1,writable:!1})}var r=e("../lib/error"),o=e("../lib/analytics"),a=e("../lib/deferred"),s=e("../errors"),c=e("./errors");i.prototype.createPaymentRequest=function(e){var t=this._client.getConfiguration().gatewayConfiguration.applePayWeb,n={countryCode:t.countryCode,currencyCode:t.currencyCode,merchantCapabilities:t.merchantCapabilities||["supports3DS"],supportedNetworks:t.supportedNetworks.map(function(e){return"mastercard"===e?"masterCard":e})};return Object.assign({},n,e)},i.prototype.performValidation=function(e,t){var i;if("function"!=typeof t)throw new r({type:s.CALLBACK_REQUIRED.type,code:s.CALLBACK_REQUIRED.code,message:"performValidation requires a callback."});return t=a(t),e&&e.validationURL?(i={validationUrl:e.validationURL,domainName:e.domainName||n.location.hostname,merchantIdentifier:e.merchantIdentifier||this.merchantIdentifier},null!=e.displayName&&(i.displayName=e.displayName),void this._client.request({method:"post",endpoint:"apple_pay_web/sessions",data:{_meta:{source:"apple-pay"},applePayWebSession:i}},function(e,n){e?(t("CLIENT_REQUEST_ERROR"===e.code?new r({type:c.APPLE_PAY_MERCHANT_VALIDATION_FAILED.type,code:c.APPLE_PAY_MERCHANT_VALIDATION_FAILED.code,message:c.APPLE_PAY_MERCHANT_VALIDATION_FAILED.message,details:{originalError:e.details.originalError}}):new r({type:c.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.type,code:c.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.code,message:c.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.message,details:{originalError:e}})),o.sendEvent(this._client,"web.applepay.performValidation.failed")):(t(null,n),o.sendEvent(this._client,"web.applepay.performValidation.succeeded"))}.bind(this))):void t(new r(c.APPLE_PAY_VALIDATION_URL_REQUIRED))},i.prototype.tokenize=function(e,t){if("function"!=typeof t)throw new r({type:s.CALLBACK_REQUIRED.type,code:s.CALLBACK_REQUIRED.code,message:"tokenize requires a callback."});return t=a(t),e.token?void this._client.request({method:"post",endpoint:"payment_methods/apple_payment_tokens",data:{_meta:{source:"apple-pay"},applePaymentToken:Object.assign({},e.token,{paymentData:btoa(JSON.stringify(e.token.paymentData))})}},function(e,n){e?(t(new r({type:c.APPLE_PAY_TOKENIZATION.type,code:c.APPLE_PAY_TOKENIZATION.code,message:c.APPLE_PAY_TOKENIZATION.message,details:{originalError:e}})),o.sendEvent(this._client,"web.applepay.tokenize.failed")):(t(null,n.applePayCards[0]),o.sendEvent(this._client,"web.applepay.tokenize.succeeded"))}.bind(this)):void t(new r(c.APPLE_PAY_PAYMENT_TOKEN_REQUIRED))},t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":29,"../lib/analytics":39,"../lib/deferred":50,"../lib/error":53,"./errors":11}],11:[function(e,t,n){"use strict";var r=e("../lib/error");t.exports={APPLE_PAY_NOT_ENABLED:{type:r.types.MERCHANT,code:"APPLE_PAY_NOT_ENABLED",message:"Apple Pay is not enabled for this merchant."},APPLE_PAY_VALIDATION_URL_REQUIRED:{type:r.types.MERCHANT,code:"APPLE_PAY_VALIDATION_URL_REQUIRED",message:"performValidation must be called with a validationURL."},APPLE_PAY_MERCHANT_VALIDATION_NETWORK:{type:r.types.NETWORK,code:"APPLE_PAY_MERCHANT_VALIDATION_NETWORK",message:"A network error occurred when validating the Apple Pay merchant."},APPLE_PAY_MERCHANT_VALIDATION_FAILED:{type:r.types.MERCHANT,code:"APPLE_PAY_MERCHANT_VALIDATION_FAILED",message:"Make sure you have registered your domain name in the Braintree Control Panel."},APPLE_PAY_PAYMENT_TOKEN_REQUIRED:{type:r.types.MERCHANT,code:"APPLE_PAY_PAYMENT_TOKEN_REQUIRED",message:"tokenize must be called with a payment token."},APPLE_PAY_TOKENIZATION:{type:r.types.NETWORK,code:"APPLE_PAY_TOKENIZATION",message:"A network error occurred when processing the Apple Pay payment."}}},{"../lib/error":53}],12:[function(e,t,n){"use strict";var r=e("../lib/error"),o=e("./apple-pay"),a=e("../lib/analytics"),s=e("../lib/deferred"),c=e("../lib/throw-if-no-callback"),u=e("../errors"),l=e("./errors"),d="3.5.0";t.exports={create:function i(e,t){var n;return c(t,"create"),t=s(t),null==e.client?void t(new r({type:u.INSTANTIATION_OPTION_REQUIRED.type,code:u.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating Apple Pay."})):(n=e.client.getConfiguration().analyticsMetadata.sdkVersion)!==d?void t(new r({type:u.INCOMPATIBLE_VERSIONS.type,code:u.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+n+") and Apple Pay (version "+d+") components must be from the same SDK version."})):e.client.getConfiguration().gatewayConfiguration.applePayWeb?(a.sendEvent(e.client,"web.applepay.initialized"),void t(null,new o(e))):void t(new r(l.APPLE_PAY_NOT_ENABLED))},VERSION:d}},{"../errors":29,"../lib/analytics":39,"../lib/deferred":50,"../lib/error":53,"../lib/throw-if-no-callback":71,"./apple-pay":10,"./errors":11}],13:[function(e,t,n){"use strict";function i(e){var t,n;if(e=e||{},t=JSON.stringify(e),!(n=e.gatewayConfiguration))throw new a(u.CLIENT_MISSING_GATEWAY_CONFIGURATION);["assetsUrl","clientApiUrl","configUrl"].forEach(function(e){if(e in n&&!o(n[e]))throw new a({type:u.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:u.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:e+" property is on an invalid domain."})}),this.getConfiguration=function(){return JSON.parse(t)},this._request=r,this._baseUrl=e.gatewayConfiguration.clientApiUrl+"/v1/",this._configuration=this.getConfiguration(),this.toJSON=this.getConfiguration}var r=e("./request"),o=e("../lib/is-whitelisted-domain"),a=e("../lib/error"),s=e("../lib/add-metadata"),c=e("../lib/deferred"),u=e("./errors");i.prototype.request=function(e,t){var n;return e.method?e.endpoint||(n="options.endpoint"):n="options.method",n?void(t=c(t))(new a({type:u.CLIENT_OPTION_REQUIRED.type,code:u.CLIENT_OPTION_REQUIRED.code,message:n+" is required when making a request."})):void this._request({url:this._baseUrl+e.endpoint,method:e.method,data:s(this._configuration,e.data),headers:e._headers,timeout:e.timeout},this._bindRequestCallback(t))},i.prototype._bindRequestCallback=function(e){return function(t,n,r){-1===r?e(new a(u.CLIENT_REQUEST_TIMEOUT),null,r):403===r?e(new a(u.CLIENT_AUTHORIZATION_INSUFFICIENT),null,r):429===r?e(new a(u.CLIENT_RATE_LIMITED),null,r):r>=500?e(new a(u.CLIENT_GATEWAY_NETWORK),null,r):200>r||r>=400?e(new a({type:u.CLIENT_REQUEST_ERROR.type,code:u.CLIENT_REQUEST_ERROR.code,message:u.CLIENT_REQUEST_ERROR.message,details:{originalError:t}}),null,r):e(null,n,r)}},t.exports=i},{"../lib/add-metadata":38,"../lib/deferred":50,"../lib/error":53,"../lib/is-whitelisted-domain":65,"./errors":14,"./request":19}],14:[function(e,t,n){"use strict";var r=e("../lib/error");t.exports={CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN:{type:r.types.MERCHANT,code:"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"},CLIENT_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"CLIENT_OPTION_REQUIRED"},CLIENT_MISSING_GATEWAY_CONFIGURATION:{type:r.types.INTERNAL,code:"CLIENT_MISSING_GATEWAY_CONFIGURATION",message:"Missing gatewayConfiguration."},CLIENT_INVALID_AUTHORIZATION:{type:r.types.MERCHANT,code:"CLIENT_INVALID_AUTHORIZATION",message:"Authorization is invalid. Make sure your client token or tokenization key is valid."},CLIENT_GATEWAY_NETWORK:{type:r.types.NETWORK,code:"CLIENT_GATEWAY_NETWORK",message:"Cannot contact the gateway at this time."},CLIENT_REQUEST_TIMEOUT:{type:r.types.NETWORK,code:"CLIENT_REQUEST_TIMEOUT",message:"Request timed out waiting for a reply."},CLIENT_REQUEST_ERROR:{type:r.types.NETWORK,code:"CLIENT_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_RATE_LIMITED:{type:r.types.MERCHANT,code:"CLIENT_RATE_LIMITED",message:"You are being rate-limited; please try again in a few minutes."},CLIENT_AUTHORIZATION_INSUFFICIENT:{type:r.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INSUFFICIENT",message:"The authorization used has insufficient privileges."}}},{"../lib/error":53}],15:[function(e,t,n){(function(n){"use strict";var r=e("../lib/error"),o=e("./request"),a=e("../lib/uuid"),s=e("../lib/constants"),c=e("../lib/create-authorization-data"),u=e("./errors");t.exports={getConfiguration:function i(e,t){var i,l,d,f,p=a(),h={merchantAppId:n.location.host,platform:s.PLATFORM,sdkVersion:s.VERSION,source:s.SOURCE,integration:s.INTEGRATION,integrationType:s.INTEGRATION,sessionId:p};try{l=c(e.authorization)}catch(e){return void t(new r(u.CLIENT_INVALID_AUTHORIZATION))}d=l.attrs,f=l.configUrl,d._meta=h,d.braintreeLibraryVersion=s.BRAINTREE_LIBRARY_VERSION,d.configVersion="3",o({url:f,method:"GET",data:d},function(n,o,a){var s;return n?(s=403===a?u.CLIENT_AUTHORIZATION_INSUFFICIENT:u.CLIENT_GATEWAY_NETWORK,void t(new r({type:s.type,code:s.code,message:s.message,details:{originalError:n}}))):(i={authorization:e.authorization,authorizationType:d.tokenizationKey?"TOKENIZATION_KEY":"CLIENT_TOKEN",analyticsMetadata:h,gatewayConfiguration:o},void t(null,i))})}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/constants":47,"../lib/create-authorization-data":49,"../lib/error":53,"../lib/uuid":72,"./errors":14,"./request":19}],16:[function(e,t,n){"use strict";var r=e("../lib/error"),o=e("./client"),a=e("./get-configuration").getConfiguration,s=e("../lib/throw-if-no-callback"),c=e("../lib/deferred"),u=e("../errors");t.exports={create:function i(e,t){return s(t,"create"),t=c(t),e.authorization?void a(e,function(e,n){var r;if(e)t(e);else{try{r=new o(n)}catch(e){return void t(e)}t(null,r)}}):void t(new r({type:u.INSTANTIATION_OPTION_REQUIRED.type,code:u.INSTANTIATION_OPTION_REQUIRED.code,message:"options.authorization is required when instantiating a client."}))},VERSION:"3.5.0"}},{"../errors":29,"../lib/deferred":50,"../lib/error":53,"../lib/throw-if-no-callback":71,"./client":13,"./get-configuration":15}],17:[function(e,t,n){(function(n){"use strict";var o=e("../../lib/querystring"),a=e("./prep-body"),s=e("./parse-body"),c=n.XMLHttpRequest&&"withCredentials"in new n.XMLHttpRequest;t.exports={request:function r(e,t){var n,r,u=e.method,l=e.url,d=e.data,f=e.timeout,p=e.headers||{},h=function i(){return c?new XMLHttpRequest:new XDomainRequest}(),_=t;"GET"===u&&(l=o.queryify(l,d),d=null),c?h.onreadystatechange=function(){4===h.readyState&&(n=h.status,r=s(h.responseText),n>=400||200>n?_(r||"error",null,n||500):_(null,r,n))}:(h.onload=function(){_(null,s(h.responseText),h.status)},h.onerror=function(){_("error",null,500)},h.onprogress=function(){},h.ontimeout=function(){_("timeout",null,-1)}),h.open(u,l,!0),h.timeout=f,c&&"POST"===u&&(h.setRequestHeader("Content-Type","application/json"),Object.keys(p).forEach(function(e){h.setRequestHeader(e,p[e])}));try{h.send(a(u,d))}catch(e){}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/querystring":70,"./parse-body":22,"./prep-body":23}],18:[function(e,t,n){(function(e){"use strict";t.exports=function(){return e.navigator.userAgent}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(e,t,n){"use strict";var r,o=e("../../lib/once"),a=e("./jsonp-driver"),s=e("./ajax-driver"),c=e("./get-user-agent"),u=e("./is-http");t.exports=function(e,t){t=o(t||Function.prototype),e.method=(e.method||"GET").toUpperCase(),e.timeout=null==e.timeout?6e4:e.timeout,e.data=e.data||{},function i(){return null==r&&(r=!(u()&&/MSIE\s(8|9)/.test(c()))),r}()?s.request(e,t):a.request(e,t)}},{"../../lib/once":68,"./ajax-driver":17,"./get-user-agent":18,"./is-http":20,"./jsonp-driver":21}],20:[function(e,t,n){(function(e){"use strict";t.exports=function(){return"http:"===e.location.protocol}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(e,t,n){(function(n){"use strict";function r(e,t){var r=document.createElement("script"),o=!1;return r.src=e,r.async=!0,r.onerror=function(){n[t]({message:"error",status:500})},r.onload=r.onreadystatechange=function(){o||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(o=!0,r.onload=r.onreadystatechange=null)},r}function o(e){try{delete n[e]}catch(t){n[e]=null}}function a(e,t){f[t]=setTimeout(function(){f[t]=null,n[t]({error:"timeout",status:-1}),n[t]=function(){o(t)}},e)}function s(e,t,r){n[r]=function(n){var a=n.status||500,s=null,c=null;delete n.status,a>=400||200>a?s=n:c=n,o(r),function i(e){e&&e.parentNode&&e.parentNode.removeChild(e)}(e),clearTimeout(f[r]),t(s,c,a)}}var u,l=e("../../lib/uuid"),d=e("../../lib/querystring"),f={};t.exports={request:function c(e,t){var n,o="callback_json_"+l().replace(/-/g,""),i=e.url,c=e.data,f=e.method,p=e.timeout;i=d.queryify(i,c),s(n=r(i=d.queryify(i,{_method:f,callback:o}),o),t,o),a(p,o),u||(u=document.getElementsByTagName("head")[0]),u.appendChild(n)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/querystring":70,"../../lib/uuid":72}],22:[function(e,t,n){"use strict";t.exports=function(e){try{e=JSON.parse(e)}catch(e){}return e}},{}],23:[function(e,t,n){"use strict";t.exports=function(e,t){if("string"!=typeof e)throw new Error("Method must be a string");return"get"!==e.toLowerCase()&&null!=t&&(t="string"==typeof t?t:JSON.stringify(t)),t}},{}],24:[function(e,t,n){"use strict";var r=e("../lib/error");t.exports={DATA_COLLECTOR_KOUNT_NOT_ENABLED:{type:r.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_NOT_ENABLED",message:"Kount is not enabled for this merchant."},DATA_COLLECTOR_KOUNT_ERROR:{type:r.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_ERROR"},DATA_COLLECTOR_PAYPAL_NOT_ENABLED:{type:r.types.MERCHANT,code:"DATA_COLLECTOR_PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS:{type:r.types.MERCHANT,code:"DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS",message:"Data Collector must be created with Kount and/or PayPal."}}},{"../lib/error":53}],25:[function(e,t,n){"use strict";function r(){this.sessionId=function o(){var e,t="";for(e=0;32>e;e++)t+=Math.floor(16*Math.random()).toString(16);return t}(),this._beaconId=function a(e){var t=(new Date).getTime()/1e3;return"https://b.stats.paypal.com/counter.cgi?i=127.0.0.1&p="+e+"&t="+t+"&a=14"}(this.sessionId),this._parameterBlock=function s(e,t){var n=document.body.appendChild(document.createElement("script"));return n.type="application/json",n.setAttribute("fncls","fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99"),n.text=JSON.stringify({f:e,s:"BRAINTREE_SIGNIN",b:t}),n}(this.sessionId,this._beaconId),this._thirdPartyBlock=function c(){function e(){n._l()}var t,n,r=document.createElement("iframe");r.src="about:blank",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="width: 0; height: 0; border: 0",document.body.appendChild(r);try{n=r.contentWindow.document}catch(e){t=document.domain,r.src='javascript:var d=document.open();d.domain="'+t+'";void(0);',n=r.contentWindow.document}return n.open()._l=function(){var e=this.createElement("script");t&&(this.domain=t),e.id="js-iframe-async",e.src="https://www.paypalobjects.com/webstatic/r/fb/fb-all-prod.pp.min.js",this.body.appendChild(e)},r.addEventListener?r.addEventListener("load",e,!1):r.attachEvent?r.attachEvent("onload",e):n.write('<body onload="document._l();">'),n.close(),r}()}r.prototype.teardown=function(){this._thirdPartyBlock.parentNode.removeChild(this._thirdPartyBlock)},t.exports={setup:function i(){return new r}}},{}],26:[function(e,t,r){"use strict";var o=e("./kount"),a=e("./fraudnet"),s=e("../lib/error"),c=e("../lib/methods"),u=e("../lib/throw-if-no-callback"),l=e("../lib/convert-methods-to-error"),d=e("../lib/deferred"),f="3.5.0",p=e("../errors"),h=e("./errors");t.exports={create:function i(e,t){var r,i,_,E,y,m,b=[];if(u(t,"create"),t=d(t),null!=e.client){if((m=(y=e.client.getConfiguration()).analyticsMetadata.sdkVersion)===f){if(!0===e.kount){if(!y.gatewayConfiguration.kount)return void t(new s(h.DATA_COLLECTOR_KOUNT_NOT_ENABLED));try{i=o.setup({environment:y.gatewayConfiguration.environment,merchantId:y.gatewayConfiguration.kount.kountMerchantId})}catch(e){return void t(new s({type:h.DATA_COLLECTOR_KOUNT_ERROR.type,code:h.DATA_COLLECTOR_KOUNT_ERROR.code,message:e.message}))}r=i.deviceData,b.push(i)}else r={};if(!0===e.paypal){if(!0!==y.gatewayConfiguration.paypalEnabled)return void t(new s(h.DATA_COLLECTOR_PAYPAL_NOT_ENABLED));_=a.setup(),r.correlation_id=_.sessionId,b.push(_)}return 0===b.length?void t(new s(h.DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS)):(E={deviceData:JSON.stringify(r),teardown:function n(e){var t;for(t=0;t<b.length;t++)b[t].teardown();l(E,c(E)),e&&(e=d(e))()}},void t(null,E))}t(new s({type:p.INCOMPATIBLE_VERSIONS.type,code:p.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+m+") and Data Collector (version "+f+") components must be from the same SDK version."}))}else t(new s({type:p.INSTANTIATION_OPTION_REQUIRED.type,code:p.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating Data Collector."}))},VERSION:f}},{"../errors":29,"../lib/convert-methods-to-error":48,"../lib/deferred":50,"../lib/error":53,"../lib/methods":67,"../lib/throw-if-no-callback":71,"./errors":24,"./fraudnet":25,"./kount":27}],27:[function(e,t,n){"use strict";function r(e){o.random.startCollectors(),this._currentEnvironment=this._initializeEnvironment(e),this._deviceSessionId=this._generateDeviceSessionId(),this.deviceData=this._getDeviceData(),this._iframe=this._setupIFrame()}var o=e("./vendor/sjcl"),a="https://assets.qa.braintreepayments.com/data",s="braintreeDataFrame",c={development:a,qa:a,sandbox:"https://assets.braintreegateway.com/sandbox/data",production:"https://assets.braintreegateway.com/data"};r.prototype.teardown=function(){o.random.stopCollectors(),this._removeIframe()},r.prototype._removeIframe=function(){this._iframe.parentNode.removeChild(this._iframe)},r.prototype._getDeviceData=function(){return{device_session_id:this._deviceSessionId,fraud_merchant_id:this._currentEnvironment.id}},r.prototype._generateDeviceSessionId=function(){var e;return e=o.random.randomWords(4,0),o.codec.hex.fromBits(e)},r.prototype._setupIFrame=function(){var e,t=this,n=document.getElementById(s);return null!=n?n:(e="?m="+this._currentEnvironment.id+"&s="+this._deviceSessionId,(n=document.createElement("iframe")).width=1,n.id=s,n.height=1,n.frameBorder=0,n.scrolling="no",document.body.appendChild(n),setTimeout(function(){n.src=t._currentEnvironment.url+"/logo.htm"+e,n.innerHTML='<img src="'+t._currentEnvironment.url+"/logo.gif"+e+'" />'},10),n)},r.prototype._initializeEnvironment=function(e){var t=c[e.environment];if(null==t)throw new Error(e.environment+" is not a valid environment for kount.environment");return{url:t,name:e.environment,id:e.merchantId}},t.exports={setup:function i(e){return new r(null!=e?e:{})},Kount:r,environmentUrls:c}},{"./vendor/sjcl":28}],28:[function(e,t,n){"use strict";function r(e,t,n){if(4!==t.length)throw new i.exception.invalid("invalid aes block size");var r=e.b[n],o=t[0]^r[0],a=t[n?3:1]^r[1],s=t[2]^r[2];t=t[n?1:3]^r[3];var c,u,l,d,f=r.length/4-2,p=4,h=[0,0,0,0];e=(c=e.l[n])[0];var _=c[1],E=c[2],y=c[3],m=c[4];for(d=0;f>d;d++)c=e[o>>>24]^_[a>>16&255]^E[s>>8&255]^y[255&t]^r[p],u=e[a>>>24]^_[s>>16&255]^E[t>>8&255]^y[255&o]^r[p+1],l=e[s>>>24]^_[t>>16&255]^E[o>>8&255]^y[255&a]^r[p+2],t=e[t>>>24]^_[o>>16&255]^E[a>>8&255]^y[255&s]^r[p+3],p+=4,o=c,a=u,s=l;for(d=0;4>d;d++)h[n?3&-d:d]=m[o>>>24]<<24^m[a>>16&255]<<16^m[s>>8&255]<<8^m[255&t]^r[p++],c=o,o=a,a=s,s=t,t=c;return h}function o(e,t){var n,r,o,i=e.u,a=e.b,s=i[0],c=i[1],u=i[2],l=i[3],d=i[4],f=i[5],p=i[6],h=i[7];for(n=0;64>n;n++)16>n?r=t[n]:(r=t[n+1&15],o=t[n+14&15],r=t[15&n]=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(o>>>17^o>>>19^o>>>10^o<<15^o<<13)+t[15&n]+t[n+9&15]|0),r=r+h+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(p^d&(f^p))+a[n],h=p,p=f,f=d,d=l+r|0,l=u,u=c,s=r+((c=s)&u^l&(c^u))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;i[0]=i[0]+s|0,i[1]=i[1]+c|0,i[2]=i[2]+u|0,i[3]=i[3]+l|0,i[4]=i[4]+d|0,i[5]=i[5]+f|0,i[6]=i[6]+p|0,i[7]=i[7]+h|0}function a(e,t){var n,r=i.random.B[e],o=[];for(n in r)r.hasOwnProperty(n)&&o.push(r[n]);for(n=0;n<o.length;n++)o[n](t)}function s(e,t){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?e.addEntropy(window.performance.now(),t,"loadtime"):e.addEntropy((new Date).valueOf(),t,"loadtime")}function c(e){e.b=l(e).concat(l(e)),e.C=new i.cipher.aes(e.b)}function l(e){for(var t=0;4>t&&(e.g[t]=e.g[t]+1|0,!e.g[t]);t++);return e.C.encrypt(e.g)}function d(e,t){return function(){t.apply(e,arguments)}}var i={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};i.cipher.aes=function(e){this.l[0][0][0]||this.G();var t,n,r,o,a=this.l[0][4],s=this.l[1],c=1;if(4!==(t=e.length)&&6!==t&&8!==t)throw new i.exception.invalid("invalid aes key size");for(this.b=[r=e.slice(0),o=[]],e=t;4*t+28>e;e++)n=r[e-1],(0==e%t||8===t&&4==e%t)&&(n=a[n>>>24]<<24^a[n>>16&255]<<16^a[n>>8&255]<<8^a[255&n],0==e%t&&(n=n<<8^n>>>24^c<<24,c=c<<1^283*(c>>7))),r[e]=r[e-t]^n;for(t=0;e;t++,e--)n=r[3&t?e:e-4],o[t]=4>=e||4>t?n:s[0][a[n>>>24]]^s[1][a[n>>16&255]]^s[2][a[n>>8&255]]^s[3][a[255&n]]},i.cipher.aes.prototype={encrypt:function(e){return r(this,e,0)},decrypt:function(e){return r(this,e,1)},l:[[[],[],[],[],[]],[[],[],[],[],[]]],G:function(){var e,t,n,r,o,i,a,s=this.l[0],c=this.l[1],u=s[4],l=c[4],d=[],f=[];for(e=0;256>e;e++)f[(d[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!u[t];t^=r||1,n=f[n]||1)for(i=(i=n^n<<1^n<<2^n<<3^n<<4)>>8^255&i^99,u[t]=i,l[i]=t,a=16843009*(o=d[e=d[r=d[t]]])^65537*e^257*r^16843008*t,o=257*d[i]^16843008*i,e=0;4>e;e++)s[e][t]=o=o<<24^o>>>8,c[e][i]=a=a<<24^a>>>8;for(e=0;5>e;e++)s[e]=s[e].slice(0),c[e]=c[e].slice(0)}},i.bitArray={bitSlice:function(e,t,n){return e=i.bitArray.M(e.slice(t/32),32-(31&t)).slice(1),void 0===n?e:i.bitArray.clamp(e,n-t)},extract:function(e,t,n){var r=Math.floor(-t-n&31);return(-32&(t+n-1^t)?e[t/32|0]<<32-r^e[t/32+1|0]>>>r:e[t/32|0]>>>r)&(1<<n)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var n=e[e.length-1],r=i.bitArray.getPartial(n);return 32===r?e.concat(t):i.bitArray.M(t,r,0|n,e.slice(0,e.length-1))},bitLength:function(e){var t=e.length;return 0===t?0:32*(t-1)+i.bitArray.getPartial(e[t-1])},clamp:function(e,t){if(32*e.length<t)return e;var n=(e=e.slice(0,Math.ceil(t/32))).length;return t&=31,n>0&&t&&(e[n-1]=i.bitArray.partial(t,e[n-1]&2147483648>>t-1,1)),e},partial:function(e,t,n){return 32===e?t:(n?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(i.bitArray.bitLength(e)!==i.bitArray.bitLength(t))return!1;var n,r=0;for(n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},M:function(e,t,n,r){var o;for(o=0,void 0===r&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(o=0;o<e.length;o++)r.push(n|e[o]>>>t),n=e[o]<<32-t;return o=e.length?e[e.length-1]:0,e=i.bitArray.getPartial(o),r.push(i.bitArray.partial(t+e&31,t+e>32?n:r.pop(),1)),r},Y:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]},byteswapM:function(e){var t,n;for(t=0;t<e.length;++t)n=e[t],e[t]=n>>>24|n>>>8&65280|(65280&n)<<8|n<<24;return e}},i.codec.utf8String={fromBits:function(e){var t,n,r="",o=i.bitArray.bitLength(e);for(t=0;o/8>t;t++)0==(3&t)&&(n=e[t/4]),r+=String.fromCharCode(n>>>24),n<<=8;return decodeURIComponent(escape(r))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,n=[],r=0;for(t=0;t<e.length;t++)r=r<<8|e.charCodeAt(t),3==(3&t)&&(n.push(r),r=0);return 3&t&&n.push(i.bitArray.partial(8*(3&t),r)),n}},i.codec.hex={fromBits:function(e){var t,n="";for(t=0;t<e.length;t++)n+=(0xf00000000000+(0|e[t])).toString(16).substr(4);return n.substr(0,i.bitArray.bitLength(e)/4)},toBits:function(e){var t,n,r=[];for(n=(e=e.replace(/\s|0x/g,"")).length,e+="00000000",t=0;t<e.length;t+=8)r.push(0^parseInt(e.substr(t,8),16));return i.bitArray.clamp(r,4*n)}},i.hash.sha256=function(e){this.b[0]||this.G(),e?(this.u=e.u.slice(0),this.o=e.o.slice(0),this.h=e.h):this.reset()},i.hash.sha256.hash=function(e){return(new i.hash.sha256).update(e).finalize()},i.hash.sha256.prototype={blockSize:512,reset:function(){return this.u=this.K.slice(0),this.o=[],this.h=0,this},update:function(e){"string"==typeof e&&(e=i.codec.utf8String.toBits(e));var t,n=this.o=i.bitArray.concat(this.o,e);if(t=this.h,(e=this.h=t+i.bitArray.bitLength(e))>9007199254740991)throw new i.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var r=new Uint32Array(n),a=0;for(t=512+t-(512+t&511);e>=t;t+=512)o(this,r.subarray(16*a,16*(a+1))),a+=1;n.splice(0,16*a)}else for(t=512+t-(512+t&511);e>=t;t+=512)o(this,n.splice(0,16));return this},finalize:function(){var e,t=this.o,n=this.u;for(e=(t=i.bitArray.concat(t,[i.bitArray.partial(1,1)])).length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this.h/4294967296)),t.push(0|this.h);t.length;)o(this,t.splice(0,16));return this.reset(),n},K:[],b:[],G:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}for(var t,n,r=0,o=2;64>r;o++){for(n=!0,t=2;o>=t*t;t++)if(0==o%t){n=!1;break}n&&(8>r&&(this.K[r]=e(Math.pow(o,.5))),this.b[r]=e(Math.pow(o,1/3)),r++)}}},i.prng=function(e){this.c=[new i.hash.sha256],this.i=[0],this.H=0,this.v={},this.F=0,this.J={},this.L=this.f=this.j=this.T=0,this.b=[0,0,0,0,0,0,0,0],this.g=[0,0,0,0],this.C=void 0,this.D=e,this.s=!1,this.B={progress:{},seeded:{}},this.m=this.S=0,this.w=1,this.A=2,this.O=65536,this.I=[0,48,64,96,128,192,256,384,512,768,1024],this.P=3e4,this.N=80},i.prng.prototype={randomWords:function(e,t){var n,r,o=[];if((n=this.isReady(t))===this.m)throw new i.exception.notReady("generator isn't seeded");if(n&this.A){n=!(n&this.w),r=[];var a,s=0;for(this.L=r[0]=(new Date).valueOf()+this.P,a=0;16>a;a++)r.push(4294967296*Math.random()|0);for(a=0;a<this.c.length&&(r=r.concat(this.c[a].finalize()),s+=this.i[a],this.i[a]=0,n||!(this.H&1<<a));a++);for(this.H>=1<<this.c.length&&(this.c.push(new i.hash.sha256),this.i.push(0)),this.f-=s,s>this.j&&(this.j=s),this.H++,this.b=i.hash.sha256.hash(this.b.concat(r)),this.C=new i.cipher.aes(this.b),n=0;4>n&&(this.g[n]=this.g[n]+1|0,!this.g[n]);n++);}for(n=0;e>n;n+=4)0==(n+1)%this.O&&c(this),r=l(this),o.push(r[0],r[1],r[2],r[3]);return c(this),o.slice(0,e)},setDefaultParanoia:function(e,t){if(0===e&&"Setting paranoia=0 will ruin your security; use it only for testing"!==t)throw new i.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.D=e},addEntropy:function(e,t,n){n=n||"user";var r,o,s=(new Date).valueOf(),c=this.v[n],u=this.isReady(),l=0;switch(void 0===(r=this.J[n])&&(r=this.J[n]=this.T++),void 0===c&&(c=this.v[n]=0),this.v[n]=(this.v[n]+1)%this.c.length,typeof e){case"number":void 0===t&&(t=1),this.c[c].update([r,this.F++,1,t,s,1,0|e]);break;case"object":if("[object Uint32Array]"===(n=Object.prototype.toString.call(e))){for(o=[],n=0;n<e.length;n++)o.push(e[n]);e=o}else for("[object Array]"!==n&&(l=1),n=0;n<e.length&&!l;n++)"number"!=typeof e[n]&&(l=1);if(!l){if(void 0===t)for(n=t=0;n<e.length;n++)for(o=e[n];o>0;)t++,o>>>=1;this.c[c].update([r,this.F++,2,t,s,e.length].concat(e))}break;case"string":void 0===t&&(t=e.length),this.c[c].update([r,this.F++,3,t,s,e.length]),this.c[c].update(e);break;default:l=1}if(l)throw new i.exception.bug("random: addEntropy only supports number, array of numbers or string");this.i[c]+=t,this.f+=t,u===this.m&&(this.isReady()!==this.m&&a("seeded",Math.max(this.j,this.f)),a("progress",this.getProgress()))},isReady:function(e){return e=this.I[void 0!==e?e:this.D],this.j&&this.j>=e?this.i[0]>this.N&&(new Date).valueOf()>this.L?this.A|this.w:this.w:this.f>=e?this.A|this.m:this.m},getProgress:function(e){return e=this.I[e||this.D],this.j>=e?1:this.f>e?1:this.f/e},startCollectors:function(){if(!this.s){if(this.a={loadTimeCollector:d(this,this.V),mouseCollector:d(this,this.W),keyboardCollector:d(this,this.U),accelerometerCollector:d(this,this.R),touchCollector:d(this,this.X)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent)throw new i.exception.bug("can't attach event");document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)}this.s=!0}},stopCollectors:function(){this.s&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.s=!1)},addEventListener:function(e,t){this.B[e][this.S++]=t},removeEventListener:function(e,t){var n,r,o=this.B[e],i=[];for(r in o)o.hasOwnProperty(r)&&o[r]===t&&i.push(r);for(n=0;n<i.length;n++)delete o[r=i[n]]},U:function(){s(this,1)},W:function(e){var t,n;try{t=e.x||e.clientX||e.offsetX||0,n=e.y||e.clientY||e.offsetY||0}catch(e){n=t=0}0!=t&&0!=n&&this.addEntropy([t,n],2,"mouse"),s(this,0)},X:function(e){e=e.touches[0]||e.changedTouches[0],this.addEntropy([e.pageX||e.clientX,e.pageY||e.clientY],1,"touch"),s(this,0)},V:function(){s(this,2)},R:function(e){if(e=e.accelerationIncludingGravity.x||e.accelerationIncludingGravity.y||e.accelerationIncludingGravity.z,window.orientation){var t=window.orientation;"number"==typeof t&&this.addEntropy(t,1,"accelerometer")}e&&this.addEntropy(e,2,"accelerometer"),s(this,0)}},i.random=new i.prng(6);e:try{var u,f,p,h;if(h=void 0!==t&&t.exports){var _;try{_=e("crypto")}catch(e){_=null}h=f=_}if(h&&f.randomBytes)u=f.randomBytes(128),u=new Uint32Array(new Uint8Array(u).buffer),i.random.addEntropy(u,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(p=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(p);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break e;window.msCrypto.getRandomValues(p)}i.random.addEntropy(p,1024,"crypto['getRandomValues']")}}catch(e){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(e))}void 0!==t&&t.exports&&(t.exports=i)},{crypto:void 0}],29:[function(e,t,n){"use strict";var r=e("./lib/error");t.exports={CALLBACK_REQUIRED:{type:r.types.MERCHANT,code:"CALLBACK_REQUIRED"},INSTANTIATION_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:r.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},METHOD_CALLED_AFTER_TEARDOWN:{type:r.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"},BRAINTREE_API_ACCESS_RESTRICTED:{type:r.types.MERCHANT,code:"BRAINTREE_API_ACCESS_RESTRICTED",message:"Your access is restricted and cannot use this part of the Braintree API."}}},{"./lib/error":53}],30:[function(e,t,n){"use strict";var r=e("../shared/constants");t.exports=function(e,t){return e+"/web/"+r.VERSION+"/html/hosted-fields-frame.min.html#"+t}},{"../shared/constants":34}],31:[function(e,t,o){"use strict";function r(e){var t,n,o=this,E={},y=0,m=_();if(!e.client)throw new l({type:C.INSTANTIATION_OPTION_REQUIRED.type,code:C.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating Hosted Fields."});if((n=e.client.getConfiguration().analyticsMetadata.sdkVersion)!==O)throw new l({type:C.INCOMPATIBLE_VERSIONS.type,code:C.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+n+") and Hosted Fields (version "+O+") components must be from the same SDK version."});if(!e.fields)throw new l({type:C.INSTANTIATION_OPTION_REQUIRED.type,code:C.INSTANTIATION_OPTION_REQUIRED.code,message:"options.fields is required when instantiating Hosted Fields."});g.call(this),this._injectedNodes=[],this._destructor=new a,this._fields=E,this._state={fields:{},cards:w("")},this._bus=new u({channel:m,merchantUrl:location.href}),this._destructor.registerFunctionForTeardown(function(){o._bus.teardown()}),this._client=e.client,I.sendEvent(this._client,"web.custom.hosted-fields.initialized"),Object.keys(e.fields).forEach(function(t){var n,r,i;if(!f.whitelistedFields.hasOwnProperty(t))throw new l({type:p.HOSTED_FIELDS_INVALID_FIELD_KEY.type,code:p.HOSTED_FIELDS_INVALID_FIELD_KEY.code,message:'"'+t+'" is not a valid field.'});if(n=e.fields[t],!(r=document.querySelector(n.selector)))throw new l({type:p.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.type,code:p.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.code,message:p.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.message,details:{fieldSelector:n.selector,fieldKey:t}});if(r.querySelector('iframe[name^="braintree-"]'))throw new l({type:p.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.type,code:p.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.code,message:p.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.message,details:{fieldSelector:n.selector,fieldKey:t}});i=c({type:t,name:"braintree-hosted-field-"+t,style:f.defaultIFrameStyle}),this._injectedNodes=this._injectedNodes.concat(v(i,r)),this._setupLabelFocus(t,r),E[t]={frameElement:i,containerElement:r},y++,this._state.fields[t]={isEmpty:!0,isValid:!1,isPotentiallyValid:!0,isFocused:!1,container:r},setTimeout(function(){i.src=d(o._client.getConfiguration().gatewayConfiguration.assetsUrl,m)},0)}.bind(this)),t=setTimeout(function(){I.sendEvent(o._client,"web.custom.hosted-fields.load.timed-out")},h),this._bus.on(b.FRAME_READY,function(n){0===--y&&(clearTimeout(t),n(e),o._emit("ready"))}),this._bus.on(b.INPUT_EVENT,function i(e){return function(t){var n,r=t.merchantPayload,o=r.emittedBy,i=e[o].containerElement;Object.keys(r.fields).forEach(function(t){r.fields[t].container=e[t].containerElement}),n=r.fields[o],s.toggle(i,f.externalClasses.FOCUSED,n.isFocused),s.toggle(i,f.externalClasses.VALID,n.isValid),s.toggle(i,f.externalClasses.INVALID,!n.isPotentiallyValid),this._state={cards:r.cards,fields:r.fields},this._emit(t.type,r)}}(E).bind(this)),this._destructor.registerFunctionForTeardown(function(){var e,t,n;for(e=0;e<o._injectedNodes.length;e++)(n=(t=o._injectedNodes[e]).parentNode).removeChild(t),s.remove(n,f.externalClasses.FOCUSED,f.externalClasses.INVALID,f.externalClasses.VALID)}),this._destructor.registerFunctionForTeardown(function(){var e=T(r.prototype).concat(T(g.prototype));N(o,e)})}var a=e("../../lib/destructor"),s=e("../../lib/classlist"),c=e("iframer"),u=e("../../lib/bus"),l=e("../../lib/error"),d=e("./compose-url"),f=e("../shared/constants"),p=e("../shared/errors"),h=e("../../lib/constants").INTEGRATION_TIMEOUT_MS,_=e("../../lib/uuid"),E=e("../shared/find-parent-tags"),y=e("../../lib/throw-if-no-callback"),m=e("../../lib/is-ios"),b=f.events,g=e("../../lib/event-emitter"),v=e("./inject-frame"),I=e("../../lib/analytics"),A=f.whitelistedFields,O="3.5.0",T=e("../../lib/methods"),N=e("../../lib/convert-methods-to-error"),R=e("../../lib/deferred"),C=e("../../errors"),w=e("credit-card-type");r.prototype=Object.create(g.prototype,{constructor:r}),r.prototype._setupLabelFocus=function(e,t){function n(){a.emit(b.TRIGGER_INPUT_FOCUS,e)}var r,o,i=m(),a=this._bus;if(!i&&null!=t.id){for(r=(r=Array.prototype.slice.call(document.querySelectorAll('label[for="'+t.id+'"]'))).concat(E(t,"label")),o=0;o<r.length;o++)r[o].addEventListener("click",n,!1);this._destructor.registerFunctionForTeardown(function(){for(o=0;o<r.length;o++)r[o].removeEventListener("click",n,!1)})}},r.prototype.teardown=function(e){var t=this._client;this._destructor.teardown(function(n){I.sendEvent(t,"web.custom.hosted-fields.teardown-completed"),"function"==typeof e&&(e=R(e))(n)})},r.prototype.tokenize=function(e,t){t||(t=e,e={}),y(t,"tokenize"),this._bus.emit(b.TOKENIZATION_REQUEST,e,function(e){t.apply(null,e)})},r.prototype.addClass=function(e,t,n){var r;A.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(b.ADD_CLASS,e,t):r=new l({type:p.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:p.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot add class to "'+e+'" field because it is not part of the current Hosted Fields options.'}):r=new l({type:p.HOSTED_FIELDS_FIELD_INVALID.type,code:p.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when adding a class.'}),"function"==typeof n&&(n=R(n))(r)},r.prototype.removeClass=function(e,t,n){var r;A.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(b.REMOVE_CLASS,e,t):r=new l({type:p.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:p.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot remove class from "'+e+'" field because it is not part of the current Hosted Fields options.'}):r=new l({type:p.HOSTED_FIELDS_FIELD_INVALID.type,code:p.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when removing a class.'}),"function"==typeof n&&(n=R(n))(r)},r.prototype.setPlaceholder=function(e,t,n){var r;A.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(b.SET_PLACEHOLDER,e,t):r=new l({type:p.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:p.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot set placeholder for "'+e+'" field because it is not part of the current Hosted Fields options.'}):r=new l({type:p.HOSTED_FIELDS_FIELD_INVALID.type,code:p.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when setting a placeholder.'}),"function"==typeof n&&(n=R(n))(r)},r.prototype.clear=function(e,t){var n;A.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(b.CLEAR_FIELD,e):n=new l({type:p.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:p.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot clear "'+e+'" field because it is not part of the current Hosted Fields options.'}):n=new l({type:p.HOSTED_FIELDS_FIELD_INVALID.type,code:p.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when clearing a field.'}),"function"==typeof t&&(t=R(t))(n)},r.prototype.getState=function(){return this._state},t.exports=r},{"../../errors":29,"../../lib/analytics":39,"../../lib/bus":44,"../../lib/classlist":46,"../../lib/constants":47,"../../lib/convert-methods-to-error":48,"../../lib/deferred":50,"../../lib/destructor":51,"../../lib/error":53,"../../lib/event-emitter":54,"../../lib/is-ios":64,"../../lib/methods":67,"../../lib/throw-if-no-callback":71,"../../lib/uuid":72,"../shared/constants":34,"../shared/errors":35,"../shared/find-parent-tags":36,"./compose-url":30,"./inject-frame":32,"credit-card-type":1,iframer:3}],32:[function(e,t,n){"use strict";t.exports=function(e,t){var n=document.createElement("div"),r=document.createDocumentFragment();return n.style.clear="both",r.appendChild(e),r.appendChild(n),t.appendChild(r),[e,n]}},{}],33:[function(e,t,n){"use strict";var r=e("./external/hosted-fields"),o=e("../lib/deferred"),a=e("../lib/throw-if-no-callback");t.exports={create:function i(e,t){var n;a(t,"create");try{n=new r(e)}catch(e){return void(t=o(t))(e)}n.on("ready",function(){t(null,n)})},VERSION:"3.5.0"}},{"../lib/deferred":50,"../lib/throw-if-no-callback":71,"./external/hosted-fields":31}],34:[function(e,t,n){"use strict";var r=e("../../lib/enumerate"),o={VERSION:"3.5.0",maxExpirationYearAge:19,externalEvents:{FOCUS:"focus",BLUR:"blur",EMPTY:"empty",NOT_EMPTY:"notEmpty",VALIDITY_CHANGE:"validityChange",CARD_TYPE_CHANGE:"cardTypeChange"},defaultMaxLengths:{number:19,postalCode:8,expirationDate:7,expirationMonth:2,expirationYear:4,cvv:3},externalClasses:{FOCUSED:"braintree-hosted-fields-focused",INVALID:"braintree-hosted-fields-invalid",VALID:"braintree-hosted-fields-valid"},defaultIFrameStyle:{border:"none",width:"100%",height:"100%",float:"left"},whitelistedStyles:["-moz-osx-font-smoothing","-moz-tap-highlight-color","-moz-transition","-webkit-font-smoothing","-webkit-tap-highlight-color","-webkit-transition","color","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-weight","line-height","opacity","outline","text-shadow","transition"],whitelistedFields:{number:{name:"credit-card-number",label:"Credit Card Number"},cvv:{name:"cvv",label:"CVV"},expirationDate:{name:"expiration",label:"Expiration Date"},expirationMonth:{name:"expiration-month",label:"Expiration Month"},expirationYear:{name:"expiration-year",label:"Expiration Year"},postalCode:{name:"postal-code",label:"Postal Code"}}};o.events=r(["FRAME_READY","VALIDATE_STRICT","CONFIGURATION","TOKENIZATION_REQUEST","INPUT_EVENT","TRIGGER_INPUT_FOCUS","ADD_CLASS","REMOVE_CLASS","SET_PLACEHOLDER","CLEAR_FIELD"],"hosted-fields:"),t.exports=o},{"../../lib/enumerate":52}],35:[function(e,t,n){"use strict";var r=e("../../lib/error");t.exports={HOSTED_FIELDS_INVALID_FIELD_KEY:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_KEY"},HOSTED_FIELDS_INVALID_FIELD_SELECTOR:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_SELECTOR",message:"Selector does not reference a valid DOM node."},HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME",message:"Element already contains a Braintree iframe."},HOSTED_FIELDS_FIELD_INVALID:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_INVALID"},HOSTED_FIELDS_FIELD_NOT_PRESENT:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_NOT_PRESENT"},HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR:{type:r.types.NETWORK,code:"HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},HOSTED_FIELDS_FAILED_TOKENIZATION:{type:r.types.CUSTOMER,code:"HOSTED_FIELDS_FAILED_TOKENIZATION",message:"The supplied card data failed tokenization."},HOSTED_FIELDS_FIELDS_EMPTY:{type:r.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_EMPTY",message:"All fields are empty. Cannot tokenize empty card fields."},HOSTED_FIELDS_FIELDS_INVALID:{type:r.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_INVALID",message:"Some payment input fields are invalid. Cannot tokenize invalid card fields."}}},{"../../lib/error":53}],36:[function(e,t,n){"use strict";t.exports=function i(e,t){for(var n=e.parentNode,r=[];null!=n;)null!=n.tagName&&n.tagName.toLowerCase()===t&&r.push(n),n=n.parentNode;return r}},{}],37:[function(e,t,n){"use strict";var r=e("./client"),o=e("./paypal"),i=e("./hosted-fields"),a=e("./data-collector"),s=e("./american-express"),c=e("./unionpay"),u=e("./apple-pay"),l=e("./three-d-secure"),d=e("./us-bank-account");t.exports={client:r,paypal:o,hostedFields:i,threeDSecure:l,dataCollector:a,americanExpress:s,unionpay:c,applePay:u,usBankAccount:d,VERSION:"3.5.0"}},{"./american-express":9,"./apple-pay":12,"./client":16,"./data-collector":26,"./hosted-fields":33,"./paypal":74,"./three-d-secure":78,"./unionpay":82,"./us-bank-account":88}],38:[function(e,t,n){"use strict";var r=e("./create-authorization-data"),o=e("./json-clone"),a=e("./constants");t.exports=function i(e,t){var n,i=t?o(t):{},s=r(e.authorization).attrs,c=o(e.analyticsMetadata);for(n in i.braintreeLibraryVersion=a.BRAINTREE_LIBRARY_VERSION,i._meta)i._meta.hasOwnProperty(n)&&(c[n]=i._meta[n]);return i._meta=c,s.tokenizationKey?i.tokenizationKey=s.tokenizationKey:i.authorizationFingerprint=s.authorizationFingerprint,i}},{"./constants":47,"./create-authorization-data":49,"./json-clone":66}],39:[function(e,t,n){"use strict";var o=e("./constants"),a=e("./add-metadata");t.exports={sendEvent:function r(e,t,n){var r=e.getConfiguration(),s=e._request,c=function i(e){return Math.floor(e/1e3)}(Date.now());s({url:r.gatewayConfiguration.analytics.url,method:"post",data:a(r,{analytics:[{kind:t,timestamp:c}]}),timeout:o.ANALYTICS_REQUEST_TIMEOUT_MS},n)}}},{"./add-metadata":38,"./constants":47}],40:[function(e,t,r){"use strict";function i(e,t){0===e.length?(e(),t(null)):e(t)}var o=e("./once");t.exports=function(e,t){function n(e){return e?void c(e):void(0===(s-=1)&&c(null))}var r,a=e.length,s=a,c=o(t);if(0!==a)for(r=0;a>r;r++)i(e[r],n);else c(null)}},{"./once":68}],41:[function(e,t,u){(function(e){"use strict";function n(t){return(t=t||e.navigator.userAgent).indexOf("Opera Mini")>-1}function a(t){return t=t||e.navigator.userAgent,/iPhone|iPod|iPad/.test(t)}function s(t){return t=t||e.navigator.userAgent,/Android/.test(t)}t.exports={isOperaMini:n,isAndroidFirefox:function i(t){return s(t=t||e.navigator.userAgent)&&t.indexOf("Firefox")>-1},getIEVersion:function r(t){return-1!==(t=t||e.navigator.userAgent).indexOf("MSIE")?parseInt(t.replace(/.*MSIE ([0-9]+)\..*/,"$1"),10):/Trident.*rv:11/.test(t)?11:null},isHTTPS:function o(t){return"https:"===(t=t||e.location.protocol)},isIos:a,isAndroid:s,supportsPopups:function c(t){return!(function d(t){return!!a(t=t||e.navigator.userAgent)&&(!!function l(e){return/\bGSA\b/.test(e)}(t)||/.+AppleWebKit(?!.*Safari)/.test(t))}(t=t||e.navigator.userAgent)||function u(t){return!!s(t=t||e.navigator.userAgent)&&/Version\/[\d\.]+/.test(t)&&!n(t)}(t)||n(t))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],42:[function(e,t,n){"use strict";var r=e("../is-whitelisted-domain");t.exports={checkOrigin:function i(e,t){var n,o=document.createElement("a");return o.href=t,n="https:"===o.protocol?o.host.replace(/:443$/,""):"http:"===o.protocol?o.host.replace(/:80$/,""):o.host,o.protocol+"//"+n===e||(o.href=e,r(e))}}},{"../is-whitelisted-domain":65}],43:[function(e,t,n){"use strict";var r=e("../enumerate");t.exports=r(["CONFIGURATION_REQUEST"],"bus:")},{"../enumerate":52}],44:[function(e,t,n){"use strict";function i(e){if(e=e||{},this.channel=e.channel,!this.channel)throw new s({type:s.types.INTERNAL,code:"MISSING_CHANNEL_ID",message:"Channel ID must be specified."});this.merchantUrl=e.merchantUrl,this._isDestroyed=!1,this._isVerbose=!1,this._listeners=[],this._log("new bus on channel "+this.channel,[location.href])}var r=e("framebus"),o=e("./events"),a=e("./check-origin").checkOrigin,s=e("../error");i.prototype.on=function(e,t){var n,o,i=t,s=this;this._isDestroyed||(this.merchantUrl&&(i=function(){a(this.origin,s.merchantUrl)&&t.apply(this,arguments)}),n=this._namespaceEvent(e),(o=Array.prototype.slice.call(arguments))[0]=n,o[1]=i,this._log("on",o),r.on.apply(r,o),this._listeners.push({eventName:e,handler:i,originalHandler:t}))},i.prototype.emit=function(e){var t;this._isDestroyed||((t=Array.prototype.slice.call(arguments))[0]=this._namespaceEvent(e),this._log("emit",t),r.emit.apply(r,t))},i.prototype._offDirect=function(e){var t=Array.prototype.slice.call(arguments);this._isDestroyed||(t[0]=this._namespaceEvent(e),this._log("off",t),r.off.apply(r,t))},i.prototype.off=function(e,t){var n,r,o=t;if(!this._isDestroyed){if(this.merchantUrl)for(n=0;n<this._listeners.length;n++)(r=this._listeners[n]).originalHandler===t&&(o=r.handler);this._offDirect(e,o)}},i.prototype._namespaceEvent=function(e){return["braintree",this.channel,e].join(":")},i.prototype.teardown=function(){var e,t;for(t=0;t<this._listeners.length;t++)e=this._listeners[t],this._offDirect(e.eventName,e.handler);this._listeners.length=0,this._isDestroyed=!0},i.prototype._log=function(e,t){this._isVerbose&&console.log(e,t)},i.events=o,t.exports=i},{"../error":53,"./check-origin":42,"./events":43,framebus:2}],45:[function(e,t,n){"use strict";t.exports=function(e){return Object.keys(e).reduce(function(t,n){return t[function i(e){return e.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()}(n)]=e[n],t},{})}},{}],46:[function(e,t,n){"use strict";function i(e){return e.className.trim().split(/\s+/)}function r(e){var t=Array.prototype.slice.call(arguments,1),n=i(e).filter(function(e){return-1===t.indexOf(e)}).concat(t).join(" ");e.className=n}function o(e){var t=Array.prototype.slice.call(arguments,1),n=i(e).filter(function(e){return-1===t.indexOf(e)}).join(" ");e.className=n}t.exports={add:r,remove:o,toggle:function a(e,t,n){n?r(e,t):o(e,t)}}},{}],47:[function(e,t,n){"use strict";var r="3.5.0";t.exports={ANALYTICS_REQUEST_TIMEOUT_MS:2e3,INTEGRATION_TIMEOUT_MS:6e4,VERSION:r,INTEGRATION:"custom",SOURCE:"client",PLATFORM:"web",BRAINTREE_LIBRARY_VERSION:"braintree/web/"+r}},{}],48:[function(e,t,n){"use strict";var r=e("./error"),o=e("../errors");t.exports=function(e,t){t.forEach(function(t){e[t]=function(){throw new r({type:o.METHOD_CALLED_AFTER_TEARDOWN.type,code:o.METHOD_CALLED_AFTER_TEARDOWN.code,message:t+" cannot be called after teardown."})}})}},{"../errors":29,"./error":53}],49:[function(e,t,n){"use strict";var a=e("../lib/polyfill").atob,s={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"};t.exports=function o(e){var t,n,o={attrs:{},configUrl:""};return function i(e){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(e)}(e)?(n=function r(e){var t=e.split("_"),n=t[0];return{merchantId:t.slice(2).join("_"),environment:n}}(e),o.attrs.tokenizationKey=e,o.configUrl=s[n.environment]+"/merchants/"+n.merchantId+"/client_api/v1/configuration"):(t=JSON.parse(a(e)),o.attrs.authorizationFingerprint=t.authorizationFingerprint,o.configUrl=t.configUrl),o}},{"../lib/polyfill":69}],50:[function(e,t,n){"use strict";t.exports=function(e){return function(){var t=arguments;setTimeout(function(){e.apply(null,t)},1)}}},{}],51:[function(e,t,n){"use strict";function i(){this._teardownRegistry=[],this._isTearingDown=!1}var r=e("./batch-execute-functions");i.prototype.registerFunctionForTeardown=function(e){"function"==typeof e&&this._teardownRegistry.push(e)},i.prototype.teardown=function(e){return this._isTearingDown?void e(new Error("Destructor is already tearing down")):(this._isTearingDown=!0,void r(this._teardownRegistry,function(t){this._teardownRegistry=[],this._isTearingDown=!1,"function"==typeof e&&e(t)}.bind(this)))},t.exports=i},{"./batch-execute-functions":40}],52:[function(e,t,n){"use strict";t.exports=function i(e,t){return t=null==t?"":t,e.reduce(function(e,n){return e[n]=t+n,e},{})}},{}],53:[function(e,t,n){"use strict";function i(e){if(!i.types.hasOwnProperty(e.type))throw new Error(e.type+" is not a valid type.");if(!e.code)throw new Error("Error code required.");if(!e.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=e.code,this.message=e.message,this.type=e.type,this.details=e.details}var r=e("./enumerate");i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.types=r(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),t.exports=i},{"./enumerate":52}],54:[function(e,t,n){"use strict";function i(){this._events={}}i.prototype.on=function(e,t){this._events[e]?this._events[e].push(t):this._events[e]=[t]},i.prototype._emit=function(e){var t,n,r=this._events[e];if(r)for(n=Array.prototype.slice.call(arguments,1),t=0;t<r.length;t++)r[t].apply(null,n)},t.exports=i},{}],55:[function(e,t,n){"use strict";function r(e){(function i(e){if(!e)throw new Error("Valid configuration is required");if(p.forEach(function(t){if(!e.hasOwnProperty(t))throw new Error("A valid frame "+t+" must be provided")}),!/^[\w_]+$/.test(e.name))throw new Error("A valid frame name must be provided")})(e),this._serviceId=l().replace(/-/g,""),this._options={name:e.name+"_"+this._serviceId,dispatchFrameUrl:e.dispatchFrameUrl,openFrameUrl:e.openFrameUrl},this._state=e.state,this._bus=new a({channel:this._serviceId}),this._setBusEvents()}var o=e("./popup"),a=e("../../bus"),s=e("../shared/events"),c=e("../shared/errors"),u=e("../shared/constants"),l=e("../../uuid"),d=e("iframer"),f=e("../../error"),p=["name","dispatchFrameUrl","openFrameUrl"];r.prototype.initialize=function(e){var t=function(){e(),this._bus.off(s.DISPATCH_FRAME_READY,t)}.bind(this);this._bus.on(s.DISPATCH_FRAME_READY,t),this._writeDispatchFrame()},r.prototype._writeDispatchFrame=function(){var e=u.DISPATCH_FRAME_NAME+"_"+this._serviceId,t=this._options.dispatchFrameUrl;this._dispatchFrame=d({name:e,src:t,class:u.DISPATCH_FRAME_CLASS,height:0,width:0,style:{position:"absolute",left:"-9999px"}}),document.body.appendChild(this._dispatchFrame)},r.prototype._setBusEvents=function(){this._bus.on(s.DISPATCH_FRAME_REPORT,function(e){this.close(),this._onCompleteCallback&&this._onCompleteCallback.call(null,e.err,e.payload),this._onCompleteCallback=null}.bind(this)),this._bus.on(a.events.CONFIGURATION_REQUEST,function(e){e(this._state)}.bind(this))},r.prototype.open=function(e){this._onCompleteCallback=e,this._frame=o.open(this._options),this._pollForPopupClose()},r.prototype.redirect=function(e){this._frame&&!this.isFrameClosed()&&(this._frame.location.href=e)},r.prototype.close=function(){this.isFrameClosed()||this._frame.close()},r.prototype.focus=function(){this.isFrameClosed()||this._frame.focus()},r.prototype.teardown=function(){this.close(),this._dispatchFrame.parentNode.removeChild(this._dispatchFrame),this._dispatchFrame=null,this._cleanupFrame()},r.prototype.isFrameClosed=function(){return null==this._frame||this._frame.closed},r.prototype._cleanupFrame=function(){this._frame=null,clearInterval(this._popupInterval),this._popupInterval=null},r.prototype._pollForPopupClose=function(){return this._popupInterval=setInterval(function(){this.isFrameClosed()&&(this._cleanupFrame(),this._onCompleteCallback&&this._onCompleteCallback(new f(c.FRAME_SERVICE_FRAME_CLOSED)))}.bind(this),u.POPUP_POLL_INTERVAL),this._popupInterval},t.exports=r},{"../../bus":44,"../../error":53,"../../uuid":72,"../shared/constants":61,"../shared/errors":62,"../shared/events":63,"./popup":58,iframer:3}],56:[function(e,t,n){"use strict";var r=e("./frame-service");t.exports={create:function(e,t){var n=new r(e);n.initialize(function(){t(n)})}}},{"./frame-service":55}],57:[function(e,t,n){"use strict";var r=e("../../shared/constants"),o=e("./position");t.exports=function(){return[r.POPUP_BASE_OPTIONS,"top="+o.top(),"left="+o.left()].join(",")}},{"../../shared/constants":61,"./position":60}],58:[function(e,t,n){"use strict";t.exports={open:e("./open")}},{"./open":59}],59:[function(e,t,n){(function(n){"use strict";var r=e("./compose-options");t.exports=function(e){return n.open(e.openFrameUrl,e.name,r())}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./compose-options":57}],60:[function(e,t,n){(function(n){"use strict";function o(e,t,n){return(e-t)/2+n}var a=e("../../shared/constants");t.exports={top:function i(){var e=n.outerHeight||document.documentElement.clientHeight,t=null==n.screenY?n.screenTop:n.screenY;return o(e,a.POPUP_HEIGHT,t)},left:function r(){var e=n.outerWidth||document.documentElement.clientWidth,t=null==n.screenX?n.screenLeft:n.screenX;return o(e,a.POPUP_WIDTH,t)},center:o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../shared/constants":61}],61:[function(e,t,n){"use strict";t.exports={DISPATCH_FRAME_NAME:"dispatch",DISPATCH_FRAME_CLASS:"braintree-dispatch-frame",POPUP_BASE_OPTIONS:"resizable,scrollbars,height=535,width=450",POPUP_WIDTH:450,POPUP_HEIGHT:535,POPUP_POLL_INTERVAL:100,POPUP_CLOSE_TIMEOUT:100}},{}],62:[function(e,t,n){"use strict";var r=e("../../error");t.exports={FRAME_SERVICE_FRAME_CLOSED:{type:r.types.INTERNAL,code:"FRAME_SERVICE_FRAME_CLOSED",message:"Frame closed before tokenization could occur."}}},{"../../error":53}],63:[function(e,t,n){"use strict";var r=e("../../enumerate");t.exports=r(["DISPATCH_FRAME_READY","DISPATCH_FRAME_REPORT"],"frameService:")},{"../../enumerate":52}],64:[function(e,t,n){"use strict";t.exports=function(e){return e=e||navigator.userAgent,/(iPad|iPhone|iPod)/i.test(e)}},{}],65:[function(e,t,n){"use strict";var o,a={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1};t.exports=function r(e){var t;return e=e.toLowerCase(),!!/^https:/.test(e)&&((o=o||document.createElement("a")).href=e,t=function i(e){return e.split(".").slice(-2).join(".")}(o.hostname),a.hasOwnProperty(t))}},{}],66:[function(e,t,n){"use strict";t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],67:[function(e,t,n){"use strict";t.exports=function(e){return Object.keys(e).filter(function(t){return"function"==typeof e[t]})}},{}],68:[function(e,t,n){"use strict";t.exports=function i(e){var t=!1;return function(){t||(t=!0,e.apply(null,arguments))}}},{}],69:[function(e,t,r){(function(e){"use strict";function n(e){var t,n,r,o,i,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="";if(!new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$").test(e))throw new Error("Non base64 encoded input passed to window.atob polyfill");a=0;do{t=(63&s.indexOf(e.charAt(a++)))<<2|(o=s.indexOf(e.charAt(a++)))>>4&3,n=(15&o)<<4|(i=s.indexOf(e.charAt(a++)))>>2&15,r=(3&i)<<6|63&s.indexOf(e.charAt(a++)),c+=String.fromCharCode(t)+(n?String.fromCharCode(n):"")+(r?String.fromCharCode(r):"")}while(a<e.length);return c}var r="function"==typeof e.atob?e.atob:n;t.exports={atob:r,_atob:n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],70:[function(e,t,n){(function(e){"use strict";function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&"[object Array]"===Object.prototype.toString.call(e)||!1}function o(e,t){var n,r,a,s=[];for(a in e)e.hasOwnProperty(a)&&(r=e[a],n=t?i(e)?t+"[]":t+"["+a+"]":a,"object"==typeof r?s.push(o(r,n)):s.push(encodeURIComponent(n)+"="+encodeURIComponent(r)));return s.join("&")}t.exports={parse:function r(t){return t=t||e.location.href,/\?/.test(t)?t.replace(/#.*$/,"").replace(/^.*\?/,"").split("&").reduce(function(e,t){var n=t.split("="),r=decodeURIComponent(n[0]),o=decodeURIComponent(n[1]);return e[r]=o,e},{}):{}},stringify:o,queryify:function a(e,t){return e=e||"",null!=t&&"object"==typeof t&&function n(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}(t)&&(e+=-1===e.indexOf("?")?"?":"",e+=-1!==e.indexOf("=")?"&":"",e+=o(t)),e}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],71:[function(e,t,n){"use strict";var r=e("./error"),o=e("../errors");t.exports=function(e,t){if("function"!=typeof e)throw new r({type:o.CALLBACK_REQUIRED.type,code:o.CALLBACK_REQUIRED.code,message:t+" must include a callback function."})}},{"../errors":29,"./error":53}],72:[function(e,t,n){"use strict";t.exports=function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},{}],73:[function(e,t,n){"use strict";function i(e){this._client=e.client,this._assetsUrl=e.client.getConfiguration().gatewayConfiguration.paypal.assetsUrl+"/web/"+s,this._authorizationInProgress=!1}var r=e("../../lib/frame-service/external"),o=e("../../lib/error"),a=e("../../lib/once"),s="3.5.0",c=e("../shared/constants"),u=e("../../lib/constants").INTEGRATION_TIMEOUT_MS,l=e("../../lib/analytics"),d=e("../../lib/throw-if-no-callback"),f=e("../../lib/methods"),p=e("../../lib/deferred"),h=e("../shared/errors"),_=e("../../lib/convert-methods-to-error"),E=e("../../lib/querystring");i.prototype._initialize=function(e){var t=this._client,n=setTimeout(function(){l.sendEvent(t,"web.paypal.load.timed-out")},u);r.create({name:c.LANDING_FRAME_NAME,dispatchFrameUrl:this._assetsUrl+"/html/dispatch-frame.min.html",openFrameUrl:this._assetsUrl+"/html/paypal-landing-frame.min.html"},function(r){this._frameService=r,clearTimeout(n),l.sendEvent(t,"web.paypal.load.succeeded"),e()}.bind(this))},i.prototype.tokenize=function(e,t){var n=this._client;return d(t,"tokenize"),t=a(p(t)),this._authorizationInProgress?(l.sendEvent(n,"web.paypal.tokenization.error.already-opened"),t(new o(h.PAYPAL_TOKENIZATION_REQUEST_ACTIVE))):(this._authorizationInProgress=!0,l.sendEvent(n,"web.paypal.tokenization.opened"),this._navigateFrameToAuth(e,t),this._frameService.open(this._createFrameServiceCallback(e,t))),{close:function(){l.sendEvent(n,"web.paypal.tokenization.closed.by-merchant"),this._frameService.close()}.bind(this),focus:function(){this._frameService.focus()}.bind(this)}},i.prototype._createFrameServiceCallback=function(e,t){var n=this._client;return function(r,i){this._authorizationInProgress=!1,r?("FRAME_SERVICE_FRAME_CLOSED"===r.code&&l.sendEvent(n,"web.paypal.tokenization.closed.by-user"),t(new o(h.PAYPAL_POPUP_CLOSED))):this._tokenizePayPal(e,i,t)}.bind(this)},i.prototype._tokenizePayPal=function(e,t,n){var r=this._client;r.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:this._formatTokenizeData(e,t)},function(e,t){e?(l.sendEvent(r,"web.paypal.tokenization.failed"),n(e instanceof o?e:new o({type:h.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:h.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:h.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message,details:{originalError:e}}))):(l.sendEvent(r,"web.paypal.tokenization.success"),n(null,this._formatTokenizePayload(t)))}.bind(this))},i.prototype._formatTokenizePayload=function(e){var t,n={};return e.paypalAccounts&&(n=e.paypalAccounts[0]),t={nonce:n.nonce,details:{},type:n.type},n.details&&n.details.payerInfo&&(t.details=n.details.payerInfo),t},i.prototype._formatTokenizeData=function(e,t){var n=this._client.getConfiguration(),r=n.gatewayConfiguration,o="TOKENIZATION_KEY"===n.authorizationType,i={paypalAccount:{correlationId:this._frameService._serviceId,options:{validate:"vault"===e.flow&&!o}}};return t.ba_token?i.paypalAccount.billingAgreementToken=t.ba_token:(i.paypalAccount.paymentToken=t.paymentId,i.paypalAccount.payerId=t.PayerID,i.paypalAccount.unilateral=r.paypal.unvettedMerchant,e.hasOwnProperty("intent")&&(i.paypalAccount.intent=e.intent)),i},i.prototype._navigateFrameToAuth=function(e,t){var n=this._client,r="paypal_hermes/";if("checkout"===e.flow)r+="create_payment_resource";else{if("vault"!==e.flow)return void t(new o(h.PAYPAL_FLOW_OPTION_REQUIRED));r+="setup_billing_agreement"}n.request({endpoint:r,method:"post",data:this._formatPaymentResourceData(e)},function(n,r,i){var a;n?(t(422===i?new o({type:h.PAYPAL_INVALID_PAYMENT_OPTION.type,code:h.PAYPAL_INVALID_PAYMENT_OPTION.code,message:h.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:n}}):n instanceof o?n:new o({type:h.PAYPAL_FLOW_FAILED.type,code:h.PAYPAL_FLOW_FAILED.code,message:h.PAYPAL_FLOW_FAILED.message,details:{originalError:n}})),this._frameService.close()):(a="checkout"===e.flow?r.paymentResource.redirectUrl:r.agreementSetup.approvalUrl,"commit"===e.useraction&&(a=E.queryify(a,{useraction:"commit"})),this._frameService.redirect(a))}.bind(this))},i.prototype._formatPaymentResourceData=function(e){var t,n=this._client.getConfiguration().gatewayConfiguration,r=this._frameService._serviceId,o={returnUrl:n.paypal.assetsUrl+"/web/"+s+"/html/paypal-redirect-frame.min.html?channel="+r,cancelUrl:n.paypal.assetsUrl+"/web/"+s+"/html/paypal-cancel-frame.min.html?channel="+r,correlationId:r,experienceProfile:{brandName:e.displayName||n.paypal.displayName,localeCode:e.locale,noShipping:(!e.enableShippingAddress).toString(),addressOverride:!1===e.shippingAddressEditable}};if("checkout"===e.flow)for(t in o.amount=e.amount,o.currencyIsoCode=e.currency,o.offerPaypalCredit=!0===e.offerCredit,e.hasOwnProperty("intent")&&(o.intent=e.intent),e.shippingAddressOverride)e.shippingAddressOverride.hasOwnProperty(t)&&(o[t]=e.shippingAddressOverride[t]);else o.shippingAddress=e.shippingAddressOverride,e.billingAgreementDescription&&(o.description=e.billingAgreementDescription);return o},i.prototype.teardown=function(e){this._frameService.teardown(),_(this,f(i.prototype)),l.sendEvent(this._client,"web.paypal.teardown-completed"),"function"==typeof e&&(e=p(e))()},t.exports=i},{"../../lib/analytics":39,"../../lib/constants":47,"../../lib/convert-methods-to-error":48,"../../lib/deferred":50,"../../lib/error":53,"../../lib/frame-service/external":56,"../../lib/methods":67,"../../lib/once":68,"../../lib/querystring":70,"../../lib/throw-if-no-callback":71,"../shared/constants":75,"../shared/errors":76}],74:[function(e,t,n){"use strict";var r=e("../lib/analytics"),o=e("../lib/error"),a=e("../lib/browser-detection"),s=e("../lib/deferred"),c=e("./shared/errors"),u=e("../lib/throw-if-no-callback"),l=e("./external/paypal"),d=e("../errors"),f="3.5.0";t.exports={create:function i(e,t){var n,i,p;return u(t,"create"),t=s(t),null==e.client?void t(new o({type:d.INSTANTIATION_OPTION_REQUIRED.type,code:d.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating PayPal."})):(p=(n=e.client.getConfiguration()).analyticsMetadata.sdkVersion)!==f?void t(new o({type:d.INCOMPATIBLE_VERSIONS.type,code:d.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+p+") and PayPal (version "+f+") components must be from the same SDK version."})):!0!==n.gatewayConfiguration.paypalEnabled?void t(new o(c.PAYPAL_NOT_ENABLED)):a.supportsPopups()?(r.sendEvent(e.client,"web.paypal.initialized"),void(i=new l(e))._initialize(function(){t(null,i)})):void t(new o(c.PAYPAL_BROWSER_NOT_SUPPORTED))},VERSION:f}},{"../errors":29,"../lib/analytics":39,"../lib/browser-detection":41,"../lib/deferred":50,"../lib/error":53,"../lib/throw-if-no-callback":71,"./external/paypal":73,"./shared/errors":76}],75:[function(e,t,n){"use strict";t.exports={AUTH_INIT_ERROR_MESSAGE:"Could not initialize PayPal flow.",LANDING_FRAME_NAME:"braintreepaypallanding",POPUP_BASE_OPTIONS:"resizable,scrollbars,height=535,width=450",POPUP_WIDTH:450,POPUP_HEIGHT:535,POPUP_POLL_INTERVAL:100}},{}],76:[function(e,t,n){"use strict";var r=e("../../lib/error");t.exports={PAYPAL_NOT_ENABLED:{type:r.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_TOKENIZATION_REQUEST_ACTIVE:{type:r.types.MERCHANT,code:"PAYPAL_TOKENIZATION_REQUEST_ACTIVE",message:"Another tokenization request is active."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:r.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:r.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_BROWSER_NOT_SUPPORTED:{type:r.types.CUSTOMER,code:"PAYPAL_BROWSER_NOT_SUPPORTED",message:"Browser is not supported."},PAYPAL_POPUP_CLOSED:{type:r.types.CUSTOMER,code:"PAYPAL_POPUP_CLOSED",message:"Customer closed PayPal popup before authorizing."},PAYPAL_INVALID_PAYMENT_OPTION:{type:r.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."}}},{"../../lib/error":53}],77:[function(e,t,n){"use strict";function i(e){this._options=e,this._assetsUrl=e.client.getConfiguration().gatewayConfiguration.assetsUrl,this._client=e.client}var r=e("../../lib/error"),o=e("../../lib/analytics"),a=e("../../lib/methods"),s=e("../../lib/convert-methods-to-error"),c=e("../shared/constants"),u=e("../../lib/bus"),l=e("../../lib/uuid"),d=e("../../lib/deferred"),f=e("../shared/errors"),p=e("../../lib/throw-if-no-callback"),h=e("../shared/events"),_="3.5.0",E=e("iframer");i.prototype.verifyCard=function(e,t){var n,o,i,a,s;return p(t,"verifyCard"),e=e||{},t=d(t),!0===this._verifyCardInProgress?a=f.THREEDS_AUTHENTICATION_IN_PROGRESS:e.nonce?e.amount?"function"!=typeof e.addFrame?s="an addFrame function":"function"!=typeof e.removeFrame&&(s="a removeFrame function"):s="an amount":s="a nonce",s&&(a={type:f.THREEDS_MISSING_VERIFY_CARD_OPTION.type,code:f.THREEDS_MISSING_VERIFY_CARD_OPTION.code,message:"verifyCard options must include "+s+"."}),a?void t(new r(a)):(this._verifyCardInProgress=!0,o=d(e.addFrame),i=d(e.removeFrame),n="payment_methods/"+e.nonce+"/three_d_secure/lookup",void this._client.request({endpoint:n,method:"post",data:{amount:e.amount}},function(e,n){return e?void t(e):(this._lookupPaymentMethod=n.paymentMethod,this._verifyCardCallback=function(){this._verifyCardInProgress=!1,t.apply(null,arguments)}.bind(this),void this._handleLookupResponse({lookupResponse:n,addFrame:o,removeFrame:i}))}.bind(this)))},i.prototype.cancelVerifyCard=function(e){var t;this._verifyCardInProgress=!1,"function"==typeof e&&(this._lookupPaymentMethod||(t=new r(f.THREEDS_NO_VERIFICATION_PAYLOAD)),e(t,this._lookupPaymentMethod))},i.prototype._handleLookupResponse=function(e){var t=e.lookupResponse;t.lookup&&t.lookup.acsUrl&&t.lookup.acsUrl.length>0?e.addFrame(null,this._createIframe({response:t.lookup,removeFrame:e.removeFrame})):this._verifyCardCallback(null,{nonce:t.paymentMethod.nonce,verificationDetails:t.threeDSecureInfo})},i.prototype._createIframe=function(e){var t,n,r=window.location.href,o=e.response;return this._bus=new u({channel:l(),merchantUrl:location.href}),n=this._assetsUrl+"/web/"+_+"/html/three-d-secure-authentication-complete-frame.html?channel="+encodeURIComponent(this._bus.channel)+"&",r.indexOf("#")>-1&&(r=r.split("#")[0]),this._bus.on(u.events.CONFIGURATION_REQUEST,function(e){e({acsUrl:o.acsUrl,pareq:o.pareq,termUrl:o.termUrl+"&three_d_secure_version="+_+"&authentication_complete_base_url="+encodeURIComponent(n),md:o.md,parentUrl:r})}),this._bus.on(h.AUTHENTICATION_COMPLETE,function(t){this._handleAuthResponse(t,e)}.bind(this)),t=this._assetsUrl+"/web/"+_+"/html/three-d-secure-bank-frame.min.html",this._bankIframe=E({src:t,height:400,width:400,name:c.LANDING_FRAME_NAME+"_"+this._bus.channel}),this._bankIframe},i.prototype._handleAuthResponse=function(e,t){var n=JSON.parse(e.auth_response);this._bus.teardown(),t.removeFrame(),d(function(){n.success?this._verifyCardCallback(null,this._formatAuthResponse(n.paymentMethod,n.threeDSecureInfo)):n.threeDSecureInfo&&n.threeDSecureInfo.liabilityShiftPossible?this._verifyCardCallback(null,this._formatAuthResponse(this._lookupPaymentMethod,n.threeDSecureInfo)):this._verifyCardCallback(new r({type:r.types.UNKNOWN,code:"UNKNOWN_AUTH_RESPONSE",message:n.error.message}))}.bind(this))()},i.prototype._formatAuthResponse=function(e,t){return{nonce:e.nonce,details:e.details,description:e.description,liabilityShifted:t.liabilityShifted,liabilityShiftPossible:t.liabilityShiftPossible}},i.prototype.teardown=function(e){var t;s(this,a(i.prototype)),o.sendEvent(this._options.client,"web.threedsecure.teardown-completed"),this._bus&&this._bus.teardown(),this._bankIframe&&((t=this._bankIframe.parentNode)&&t.removeChild(this._bankIframe)),"function"==typeof e&&(e=d(e))()},t.exports=i},{"../../lib/analytics":39,"../../lib/bus":44,"../../lib/convert-methods-to-error":48,"../../lib/deferred":50,"../../lib/error":53,"../../lib/methods":67,"../../lib/throw-if-no-callback":71,"../../lib/uuid":72,"../shared/constants":79,"../shared/errors":80,"../shared/events":81,iframer:3}],78:[function(e,t,n){"use strict";var r=e("./external/three-d-secure"),o=e("../lib/browser-detection"),a=e("../lib/error"),s=e("../lib/analytics"),c=e("../lib/throw-if-no-callback"),u=e("../lib/deferred"),l=e("./shared/errors"),d=e("../errors"),f="3.5.0";t.exports={create:function i(e,t){var n,i,p,h;if(c(t,"create"),t=u(t),null!=e.client)if(h=(n=e.client.getConfiguration()).analyticsMetadata.sdkVersion,n.gatewayConfiguration.threeDSecureEnabled?n.analyticsMetadata.sdkVersion!==f?p={type:d.INCOMPATIBLE_VERSIONS.type,code:d.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+h+") and 3D Secure (version "+f+") components must be from the same SDK version."}:o.isHTTPS()||(p=l.THREEDS_HTTPS_REQUIRED):p=l.THREEDS_NOT_ENABLED,p)t(new a(p));else{s.sendEvent(e.client,"web.threedsecure.initialized");try{i=new r(e)}catch(e){return void t(e)}t(null,i)}else t(new a({type:d.INSTANTIATION_OPTION_REQUIRED.type,code:d.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating 3D Secure."}))},VERSION:f}},{"../errors":29,"../lib/analytics":39,"../lib/browser-detection":41,"../lib/deferred":50,"../lib/error":53,"../lib/throw-if-no-callback":71,"./external/three-d-secure":77,"./shared/errors":80}],79:[function(e,t,n){"use strict";t.exports={LANDING_FRAME_NAME:"braintreethreedsecurelanding"}},{}],80:[function(e,t,n){"use strict";var r=e("../../lib/error");t.exports={THREEDS_AUTHENTICATION_IN_PROGRESS:{type:r.types.MERCHANT,code:"THREEDS_AUTHENTICATION_IN_PROGRESS",message:"Cannot call verifyCard while existing authentication is in progress."},THREEDS_MISSING_VERIFY_CARD_OPTION:{type:r.types.MERCHANT,code:"THREEDS_MISSING_VERIFY_CARD_OPTION"},THREEDS_NO_VERIFICATION_PAYLOAD:{type:r.types.MERCHANT,code:"THREEDS_NO_VERIFICATION_PAYLOAD",message:"No verification payload available."},THREEDS_NOT_ENABLED:{type:r.types.MERCHANT,code:"THREEDS_NOT_ENABLED",message:"3D Secure is not enabled for this merchant."},THREEDS_HTTPS_REQUIRED:{type:r.types.MERCHANT,code:"THREEDS_HTTPS_REQUIRED",message:"3D Secure requires HTTPS."},THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN:{type:r.types.INTERNAL,code:"THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN",message:"Term Url must be on a Braintree domain."}}},{"../../lib/error":53}],81:[function(e,t,n){"use strict";var r=e("../../lib/enumerate");t.exports=r(["AUTHENTICATION_COMPLETE"],"threedsecure:")},{"../../lib/enumerate":52}],82:[function(e,t,n){"use strict";var r=e("./shared/unionpay"),o=e("../lib/error"),a=e("../lib/analytics"),s=e("../lib/deferred"),c=e("../lib/throw-if-no-callback"),u=e("./shared/errors"),l=e("../errors"),d="3.5.0";t.exports={create:function i(e,t){var n,i;return c(t,"create"),t=s(t),null==e.client?void t(new o({type:l.INSTANTIATION_OPTION_REQUIRED.type,code:l.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating UnionPay."})):(i=(n=e.client.getConfiguration()).analyticsMetadata.sdkVersion)!==d?void t(new o({type:l.INCOMPATIBLE_VERSIONS.type,code:l.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+i+") and UnionPay (version "+d+") components must be from the same SDK version."})):n.gatewayConfiguration.unionPay&&!0===n.gatewayConfiguration.unionPay.enabled?(a.sendEvent(e.client,"web.unionpay.initialized"),void t(null,new r(e))):void t(new o(u.UNIONPAY_NOT_ENABLED))},VERSION:d}},{"../errors":29,"../lib/analytics":39,"../lib/deferred":50,"../lib/error":53,"../lib/throw-if-no-callback":71,"./shared/errors":84,"./shared/unionpay":85}],83:[function(e,t,n){"use strict";var r=e("../../lib/enumerate");t.exports={events:r(["HOSTED_FIELDS_FETCH_CAPABILITIES","HOSTED_FIELDS_ENROLL","HOSTED_FIELDS_TOKENIZE"],"union-pay:"),HOSTED_FIELDS_FRAME_NAME:"braintreeunionpayhostedfields"}},{"../../lib/enumerate":52}],84:[function(e,t,n){"use strict";var r=e("../../lib/error");t.exports={UNIONPAY_NOT_ENABLED:{type:r.types.MERCHANT,code:"UNIONPAY_NOT_ENABLED",message:"UnionPay is not enabled for this merchant."},UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID:{type:r.types.MERCHANT,code:"UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID",message:"Found an invalid Hosted Fields instance. Please use a valid Hosted Fields instance."},UNIONPAY_HOSTED_FIELDS_INSTANCE_REQUIRED:{type:r.types.MERCHANT,code:"UNIONPAY_HOSTED_FIELDS_INSTANCE_REQUIRED",message:"Could not find the Hosted Fields instance."},UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED:{type:r.types.MERCHANT,code:"UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED",message:"A card or a Hosted Fields instance is required. Please supply a card or a Hosted Fields instance."},UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES:{type:r.types.MERCHANT,code:"UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES",message:"Please supply either a card or a Hosted Fields instance, not both."},UNIONPAY_EXPIRATION_DATE_INCOMPLETE:{type:r.types.MERCHANT,code:"UNIONPAY_EXPIRATION_DATE_INCOMPLETE",message:"You must supply expiration month and year or neither."},UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID:{type:r.types.CUSTOMER,code:"UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID",message:"Enrollment failed due to user input error."},UNIONPAY_ENROLLMENT_NETWORK_ERROR:{type:r.types.NETWORK,code:"UNIONPAY_ENROLLMENT_NETWORK_ERROR",message:"Could not enroll UnionPay card."},UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR:{type:r.types.NETWORK,code:"UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR",message:"Could not fetch card capabilities."},UNIONPAY_TOKENIZATION_NETWORK_ERROR:{type:r.types.NETWORK,code:"UNIONPAY_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},UNIONPAY_MISSING_MOBILE_PHONE_DATA:{type:r.types.MERCHANT,code:"UNIONPAY_MISSING_MOBILE_PHONE_DATA",message:"A `mobile` with `countryCode` and `number` is required."},UNIONPAY_FAILED_TOKENIZATION:{type:r.types.CUSTOMER,code:"UNIONPAY_FAILED_TOKENIZATION",message:"The supplied card data failed tokenization."}}},{"../../lib/error":53}],85:[function(e,t,n){"use strict";function i(e){this._options=e}var r=e("../../lib/analytics"),o=e("../../lib/error"),a=e("../../lib/bus"),s=e("./constants"),c=e("../../lib/convert-methods-to-error"),u=e("../../lib/deferred"),l=e("./errors"),d=s.events,f=e("iframer"),p=e("../../lib/methods"),h=e("../../lib/uuid"),_=e("../../lib/throw-if-no-callback");i.prototype.fetchCapabilities=function(e,t){var n=this._options.client,i=e.card?e.card.number:null,a=e.hostedFields;if(_(t,"fetchCapabilities"),t=u(t),i&&a)t(new o(l.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES));else if(i)n.request({method:"get",endpoint:"payment_methods/credit_cards/capabilities",data:{_meta:{source:"unionpay"},creditCard:{number:i}}},function(e,i,a){return e?(t(403===a?e:new o({type:l.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.type,code:l.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.code,message:l.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.message,details:{originalError:e}})),void r.sendEvent(n,"web.unionpay.capabilities-failed")):(r.sendEvent(n,"web.unionpay.capabilities-received"),void t(null,i))});else{if(!a)return void t(new o(l.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED));if(!a._bus)return void t(new o(l.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID));this._initializeHostedFields(function(){this._bus.emit(d.HOSTED_FIELDS_FETCH_CAPABILITIES,{hostedFields:a},function(e){return e.err?void t(new o(e.err)):void t(null,e.payload)})}.bind(this))}},i.prototype.enroll=function(e,t){var n,i=this._options.client,a=e.card,s=e.mobile,c=e.hostedFields;if(_(t,"enroll"),t=u(t),s)if(c){if(!c._bus)return void t(new o(l.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID));if(a)return void t(new o(l.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES));this._initializeHostedFields(function(){this._bus.emit(d.HOSTED_FIELDS_ENROLL,{hostedFields:c,mobile:s},function(e){return e.err?void t(new o(e.err)):void t(null,e.payload)})}.bind(this))}else{if(!a||!a.number)return void t(new o(l.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED));if(n={_meta:{source:"unionpay"},unionPayEnrollment:{number:a.number,mobileCountryCode:s.countryCode,mobileNumber:s.number}},a.expirationDate)n.unionPayEnrollment.expirationDate=a.expirationDate;else if(a.expirationMonth||a.expirationYear){if(!a.expirationMonth||!a.expirationYear)return void t(new o(l.UNIONPAY_EXPIRATION_DATE_INCOMPLETE));n.unionPayEnrollment.expirationYear=a.expirationYear,n.unionPayEnrollment.expirationMonth=a.expirationMonth}i.request({method:"post",endpoint:"union_pay_enrollments",data:n},function(e,n,a){var s;return e?(403===a?s=e:500>a?(s=new o(l.UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID)).details={originalError:e}:(s=new o(l.UNIONPAY_ENROLLMENT_NETWORK_ERROR)).details={originalError:e},r.sendEvent(i,"web.unionpay.enrollment-failed"),void t(s)):(r.sendEvent(i,"web.unionpay.enrollment-succeeded"),void t(null,{enrollmentId:n.unionPayEnrollmentId,smsCodeRequired:n.smsCodeRequired}))})}else t(new o(l.UNIONPAY_MISSING_MOBILE_PHONE_DATA))},i.prototype.tokenize=function(e,t){var n,i,a,s=this._options.client,c=e.card,f=e.hostedFields;if(_(t,"tokenize"),t=u(t),c&&f)t(new o(l.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES));else if(c)n={_meta:{source:"unionpay"},creditCard:{number:e.card.number,options:{unionPayEnrollment:{id:e.enrollmentId}}}},e.smsCode&&(n.creditCard.options.unionPayEnrollment.smsCode=e.smsCode),c.expirationDate?n.creditCard.expirationDate=c.expirationDate:c.expirationMonth&&c.expirationYear&&(n.creditCard.expirationYear=c.expirationYear,n.creditCard.expirationMonth=c.expirationMonth),e.card.cvv&&(n.creditCard.cvv=e.card.cvv),s.request({method:"post",endpoint:"payment_methods/credit_cards",data:n},function(e,n,c){return e?(r.sendEvent(s,"web.unionpay.nonce-failed"),403===c?a=e:500>c?(a=new o(l.UNIONPAY_FAILED_TOKENIZATION)).details={originalError:e}:(a=new o(l.UNIONPAY_TOKENIZATION_NETWORK_ERROR)).details={originalError:e},void t(a)):(delete(i=n.creditCards[0]).consumed,delete i.threeDSecureInfo,r.sendEvent(s,"web.unionpay.nonce-received"),void t(null,i))});else{if(!f)return void t(new o(l.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED));if(!f._bus)return void t(new o(l.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID));this._initializeHostedFields(function(){this._bus.emit(d.HOSTED_FIELDS_TOKENIZE,e,function(e){return e.err?void t(new o(e.err)):void t(null,e.payload)})}.bind(this))}},i.prototype.teardown=function(e){this._bus&&(this._hostedFieldsFrame.parentNode.removeChild(this._hostedFieldsFrame),this._bus.teardown()),c(this,p(i.prototype)),"function"==typeof e&&(e=u(e))()},i.prototype._initializeHostedFields=function(e){var t=h();return this._bus?void e():(this._bus=new a({channel:t,merchantUrl:location.href}),this._hostedFieldsFrame=f({name:s.HOSTED_FIELDS_FRAME_NAME+"_"+t,src:this._options.client.getConfiguration().gatewayConfiguration.assetsUrl+"/web/3.5.0/html/unionpay-hosted-fields-frame.min.html",height:0,width:0}),this._bus.on(a.events.CONFIGURATION_REQUEST,function(t){t(this._options.client),e()}.bind(this)),void document.body.appendChild(this._hostedFieldsFrame))},t.exports=i},{"../../lib/analytics":39,"../../lib/bus":44,"../../lib/convert-methods-to-error":48,"../../lib/deferred":50,"../../lib/error":53,"../../lib/methods":67,"../../lib/throw-if-no-callback":71,"../../lib/uuid":72,"./constants":83,"./errors":84,iframer:3}],86:[function(e,t,n){"use strict";t.exports={REQUIRED_BANK_DETAILS:["routingNumber","accountNumber","accountType","accountHolderName","billingAddress"],PLAID_LINK_JS:"https://cdn.plaid.com/link/stable/link-initialize.js"}},{}],87:[function(e,t,n){"use strict";var r=e("../lib/error");t.exports={US_BANK_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"US_BANK_OPTION_REQUIRED"},US_BANK_MUTUALLY_EXCLUSIVE_OPTIONS:{type:r.types.MERCHANT,code:"US_BANK_MUTUALLY_EXCLUSIVE_OPTIONS"},US_BANK_LOGIN_LOAD_FAILED:{type:r.types.NETWORK,code:"US_BANK_LOGIN_LOAD_FAILED",message:"Bank login flow failed to load."}}},{"../lib/error":53}],88:[function(e,t,n){"use strict";var r=e("../lib/error"),o=e("./us-bank-account"),a=e("../lib/deferred"),s=e("../lib/throw-if-no-callback"),c="3.5.0",u=e("../errors");t.exports={create:function i(e,t){var n;return s(t,"create"),t=a(t),null==e.client?void t(new r({type:u.INSTANTIATION_OPTION_REQUIRED.type,code:u.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating US Bank Account."})):(n=e.client.getConfiguration().analyticsMetadata.sdkVersion)!==c?void t(new r({type:u.INCOMPATIBLE_VERSIONS.type,code:u.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+n+") and US Bank Account (version "+c+") components must be from the same SDK version."})):e.client.getConfiguration().gatewayConfiguration.braintreeApi?void t(null,new o(e)):void t(new r(u.BRAINTREE_API_ACCESS_RESTRICTED))},VERSION:c}},{"../errors":29,"../lib/deferred":50,"../lib/error":53,"../lib/throw-if-no-callback":71,"./us-bank-account":89}],89:[function(e,t,n){(function(n){"use strict";function i(e){this._client=e.client}function r(e){return{nonce:e.data.id,details:{},description:e.data.description,type:e.data.type}}function o(e){e.onerror=e.onload=e.onreadystatechange=null}var a=e("../lib/error"),s=e("./constants"),c=e("./errors"),u=e("../lib/deferred"),l=e("../lib/once"),d=e("../lib/throw-if-no-callback"),f=e("../lib/camel-case-to-snake-case");i.prototype.tokenize=function(e,t){return d(t,"tokenize"),e=e||{},t=u(t),e.mandateText?void(e.bankDetails&&e.bankLogin?t(new a({type:c.US_BANK_MUTUALLY_EXCLUSIVE_OPTIONS.type,code:c.US_BANK_MUTUALLY_EXCLUSIVE_OPTIONS.code,message:"tokenize must be called with bankDetails or bankLogin, not both."})):e.bankDetails?this._tokenizeBankDetails(e,t):e.bankLogin?this._tokenizeBankLogin(e,t):t(new a({type:c.US_BANK_OPTION_REQUIRED.type,code:c.US_BANK_OPTION_REQUIRED.code,message:"tokenize must be called with bankDetails or bankLogin."}))):void t(new a({type:c.US_BANK_OPTION_REQUIRED.type,code:c.US_BANK_OPTION_REQUIRED.code,message:"mandateText property is required."}))},i.prototype._tokenizeBankDetails=function(e,t){var n,o,i=e.bankDetails,u=this._client.getConfiguration().gatewayConfiguration.braintreeApi;for(n=0;n<s.REQUIRED_BANK_DETAILS.length;n++)if(!i[o=s.REQUIRED_BANK_DETAILS[n]])return void t(new a({type:c.US_BANK_OPTION_REQUIRED.type,code:c.US_BANK_OPTION_REQUIRED.code,message:"bankDetails."+o+" property is required."}));this._client._request({method:"POST",url:u.url+"/tokens",headers:{Authorization:"Bearer "+u.accessToken,"Braintree-Version":"2016-08-25"},data:{type:"us_bank_account",routing_number:i.routingNumber,account_number:i.accountNumber,account_holder_name:i.accountHolderName,account_type:i.accountType,billing_address:f(i.billingAddress),ach_mandate:{text:e.mandateText}}},function(e,n){return e?void t(e):void t(null,r(n))})},i.prototype._tokenizeBankLogin=function(e,t){var n=this._client,o=this._client.getConfiguration().gatewayConfiguration.braintreeApi;return e.bankLogin.displayName?void this._loadPlaid(function(i,a){return i?void t(i):void a.create({env:"tartan",clientName:e.bankLogin.displayName,key:"test_key",product:"auth",selectAccount:!0,onExit:function(){t(new Error("Customer closed bank login flow."))},onSuccess:function(i,a){n._request({method:"POST",url:o.url+"/tokens",headers:{Authorization:"Bearer "+o.accessToken,"Braintree-Version":"2016-08-25"},data:{type:"plaid_public_token",public_token:i,account_id:a.account_id,ach_mandate:{text:e.mandateText}}},function(e,n){return e?void t(e):void t(null,r(n))})}}).open()}):void t(new a({type:c.US_BANK_OPTION_REQUIRED.type,code:c.US_BANK_OPTION_REQUIRED.code,message:"displayName property is required when using bankLogin."}))},i.prototype._loadPlaid=function(e){var t;return e=l(e),n.Plaid?void e(null,n.Plaid):((t=document.createElement("script")).src=s.PLAID_LINK_JS,t.async=!0,t.onerror=function(){o(t),e(new a(c.US_BANK_LOGIN_LOAD_FAILED))},t.onload=t.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(o(t),e(null,n.Plaid))},document.body.appendChild(t),void(this._plaidScript=t))},i.prototype.teardown=function(){this._plaidScript&&document.body.removeChild(this._plaidScript)},t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/camel-case-to-snake-case":45,"../lib/deferred":50,"../lib/error":53,"../lib/once":68,"../lib/throw-if-no-callback":71,"./constants":86,"./errors":87}]},{},[37])(37)})},"./node_modules/decode-uri-component/index.js":function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function decodeComponents(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],decodeComponents(n),decodeComponents(r))}function decode(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=decodeComponents(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function customDecodeURIComponent(e){for(var t={"%FE%FF":"","%FF%FE":""},n=o.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=decode(n[0]);r!==n[0]&&(t[n[0]]=r)}n=o.exec(e)}t["%C2"]="";for(var i=Object.keys(t),a=0;a<i.length;a++){var s=i[a];e=e.replace(new RegExp(s,"g"),t[s])}return e}(e)}}},"./node_modules/flux-standard-action/lib/index.js":function(e,t,n){"use strict";t.__esModule=!0,t.isFSA=function isFSA(e){return r.default(e)&&void 0!==e.type&&Object.keys(e).every(isValidKey)},t.isError=function isError(e){return!0===e.error};var r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n("./node_modules/flux-standard-action/node_modules/lodash.isplainobject/index.js")),o=["type","payload","error","meta"];function isValidKey(e){return o.indexOf(e)>-1}},"./node_modules/flux-standard-action/node_modules/lodash.isplainobject/index.js":function(e,t,n){var r=n("./node_modules/lodash._basefor/index.js"),o=n("./node_modules/lodash.isarguments/index.js"),i=n("./node_modules/lodash.keysin/index.js"),a="[object Object]";var s=Object.prototype,c=s.hasOwnProperty,u=s.toString;e.exports=function isPlainObject(e){var t,n;return!(!function isObjectLike(e){return!!e&&"object"==typeof e}(e)||u.call(e)!=a||o(e)||!(c.call(e,"constructor")||"function"!=typeof(t=e.constructor)||t instanceof t))&&(function baseForIn(e,t){return r(e,t,i)}(e,function(e,t){n=t}),void 0===n||c.call(e,n))}},"./node_modules/lodash._basefor/index.js":function(e,t){var n=function createBaseFor(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}();e.exports=n},"./node_modules/lodash.keysin/index.js":function(e,t,n){var r=n("./node_modules/lodash.isarguments/index.js"),o=n("./node_modules/lodash.isarray/index.js"),i=/^\d+$/,a=Object.prototype.hasOwnProperty,s=9007199254740991;function isIndex(e,t){return e="number"==typeof e||i.test(e)?+e:-1,t=null==t?s:t,e>-1&&e%1==0&&e<t}e.exports=function keysIn(e){if(null==e)return[];(function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)})(e)||(e=Object(e));var t=e.length;t=t&&function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}(t)&&(o(e)||r(e))&&t||0;for(var n=e.constructor,i=-1,c="function"==typeof n&&n.prototype===e,u=Array(t),l=t>0;++i<t;)u[i]=i+"";for(var d in e)l&&isIndex(d,t)||"constructor"==d&&(c||!a.call(e,d))||u.push(d);return u}},"./node_modules/lodash/_arrayReduce.js":function(e,t){e.exports=function arrayReduce(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}},"./node_modules/lodash/_asciiToArray.js":function(e,t){e.exports=function asciiToArray(e){return e.split("")}},"./node_modules/lodash/_assignMergeValue.js":function(e,t,n){var r=n("./node_modules/lodash/_baseAssignValue.js"),o=n("./node_modules/lodash/eq.js");e.exports=function assignMergeValue(e,t,n){(void 0===n||o(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},"./node_modules/lodash/_baseMerge.js":function(e,t,n){var r=n("./node_modules/lodash/_Stack.js"),o=n("./node_modules/lodash/_assignMergeValue.js"),i=n("./node_modules/lodash/_baseFor.js"),a=n("./node_modules/lodash/_baseMergeDeep.js"),s=n("./node_modules/lodash/isObject.js"),c=n("./node_modules/lodash/keysIn.js"),u=n("./node_modules/lodash/_safeGet.js");e.exports=function baseMerge(e,t,n,l,d){e!==t&&i(t,function(i,c){if(s(i))d||(d=new r),a(e,t,c,n,baseMerge,l,d);else{var f=l?l(u(e,c),i,c+"",e,t,d):void 0;void 0===f&&(f=i),o(e,c,f)}},c)}},"./node_modules/lodash/_baseMergeDeep.js":function(e,t,n){var r=n("./node_modules/lodash/_assignMergeValue.js"),o=n("./node_modules/lodash/_cloneBuffer.js"),i=n("./node_modules/lodash/_cloneTypedArray.js"),a=n("./node_modules/lodash/_copyArray.js"),s=n("./node_modules/lodash/_initCloneObject.js"),c=n("./node_modules/lodash/isArguments.js"),u=n("./node_modules/lodash/isArray.js"),l=n("./node_modules/lodash/isArrayLikeObject.js"),d=n("./node_modules/lodash/isBuffer.js"),f=n("./node_modules/lodash/isFunction.js"),p=n("./node_modules/lodash/isObject.js"),h=n("./node_modules/lodash/isPlainObject.js"),_=n("./node_modules/lodash/isTypedArray.js"),E=n("./node_modules/lodash/_safeGet.js"),y=n("./node_modules/lodash/toPlainObject.js");e.exports=function baseMergeDeep(e,t,n,m,b,g,v){var I=E(e,n),A=E(t,n),O=v.get(A);if(O)r(e,n,O);else{var T=g?g(I,A,n+"",e,t,v):void 0,N=void 0===T;if(N){var R=u(A),C=!R&&d(A),w=!R&&!C&&_(A);T=A,R||C||w?u(I)?T=I:l(I)?T=a(I):C?(N=!1,T=o(A,!0)):w?(N=!1,T=i(A,!0)):T=[]:h(A)||c(A)?(T=I,c(I)?T=y(I):(!p(I)||m&&f(I))&&(T=s(A))):N=!1}N&&(v.set(A,T),b(T,A,m,g,v),v.delete(A)),r(e,n,T)}}},"./node_modules/lodash/_castSlice.js":function(e,t,n){var r=n("./node_modules/lodash/_baseSlice.js");e.exports=function castSlice(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},"./node_modules/lodash/_createCaseFirst.js":function(e,t,n){var r=n("./node_modules/lodash/_castSlice.js"),o=n("./node_modules/lodash/_hasUnicode.js"),i=n("./node_modules/lodash/_stringToArray.js"),a=n("./node_modules/lodash/toString.js");e.exports=function createCaseFirst(e){return function(t){t=a(t);var n=o(t)?i(t):void 0,s=n?n[0]:t.charAt(0),c=n?r(n,1).join(""):t.slice(1);return s[e]()+c}}},"./node_modules/lodash/_hasUnicode.js":function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function hasUnicode(e){return n.test(e)}},"./node_modules/lodash/_safeGet.js":function(e,t){e.exports=function safeGet(e,t){return"__proto__"==t?void 0:e[t]}},"./node_modules/lodash/_stringToArray.js":function(e,t,n){var r=n("./node_modules/lodash/_asciiToArray.js"),o=n("./node_modules/lodash/_hasUnicode.js"),i=n("./node_modules/lodash/_unicodeToArray.js");e.exports=function stringToArray(e){return o(e)?i(e):r(e)}},"./node_modules/lodash/_unicodeToArray.js":function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+o+")"+"?",u="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[i,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),l="(?:"+[i+r+"?",r,a,s,n].join("|")+")",d=RegExp(o+"(?="+o+")|"+l+u,"g");e.exports=function unicodeToArray(e){return e.match(d)||[]}},"./node_modules/lodash/capitalize.js":function(e,t,n){var r=n("./node_modules/lodash/toString.js"),o=n("./node_modules/lodash/upperFirst.js");e.exports=function capitalize(e){return o(r(e).toLowerCase())}},"./node_modules/lodash/isString.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),o=n("./node_modules/lodash/isArray.js"),i=n("./node_modules/lodash/isObjectLike.js"),a="[object String]";e.exports=function isString(e){return"string"==typeof e||!o(e)&&i(e)&&r(e)==a}},"./node_modules/lodash/isUndefined.js":function(e,t){e.exports=function isUndefined(e){return void 0===e}},"./node_modules/lodash/merge.js":function(e,t,n){var r=n("./node_modules/lodash/_baseMerge.js"),o=n("./node_modules/lodash/_createAssigner.js")(function(e,t,n){r(e,t,n)});e.exports=o},"./node_modules/lodash/toPlainObject.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),o=n("./node_modules/lodash/keysIn.js");e.exports=function toPlainObject(e){return r(e,o(e))}},"./node_modules/lodash/upperFirst.js":function(e,t,n){var r=n("./node_modules/lodash/_createCaseFirst.js")("toUpperCase");e.exports=r},"./node_modules/query-string/index.js":function(e,t,n){"use strict";var r=n("./node_modules/strict-uri-encode/index.js"),o=n("./node_modules/object-assign/index.js"),i=n("./node_modules/decode-uri-component/index.js");function encode(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}t.extract=function(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)},t.parse=function(e,t){var n=function parserForArrayFormat(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=o({arrayFormat:"none"},t)),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:i(a),n(i(o),a,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function keysSorter(e){return Array.isArray(e)?e.sort():"object"==typeof e?keysSorter(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}(n):e[t]=n,e},Object.create(null))):r},t.stringify=function(e,t){!1===(t=o({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function encoderForArrayFormat(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[encode(t,e),"[",r,"]"].join(""):[encode(t,e),"[",encode(r,e),"]=",encode(n,e)].join("")};case"bracket":return function(t,n){return null===n?encode(t,e):[encode(t,e),"[]=",encode(n,e)].join("")};default:return function(t,n){return null===n?encode(t,e):[encode(t,e),"=",encode(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map(function(r){var o=e[r];if(void 0===o)return"";if(null===o)return encode(r,t);if(Array.isArray(o)){var i=[];return o.slice().forEach(function(e){void 0!==e&&i.push(n(r,e,i.length))}),i.join("&")}return encode(r,t)+"="+encode(o,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:this.parse(this.extract(e),t)}}},"./node_modules/reduce-reducers/lib/index.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function reduceReducers(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.reduce(function(e,t){return t(e,n)},e)}},e.exports=t.default},"./node_modules/redux-actions/es/index.js":function(e,t,n){"use strict";var r=function identity(e){return e},o=n("./node_modules/redux-actions/node_modules/lodash-es/_root.js"),i=o.a.Symbol,a=Object.prototype,s=a.hasOwnProperty,c=a.toString,u=i?i.toStringTag:void 0;var l=function getRawTag(e){var t=s.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var o=c.call(e);return r&&(t?e[u]=n:delete e[u]),o},d=Object.prototype.toString;var f=function objectToString(e){return d.call(e)},p="[object Null]",h="[object Undefined]",_=i?i.toStringTag:void 0;var E=function baseGetTag(e){return null==e?void 0===e?h:p:_&&_ in Object(e)?l(e):f(e)};var y=function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},m="[object AsyncFunction]",b="[object Function]",g="[object GeneratorFunction]",v="[object Proxy]";var I=function isFunction(e){if(!y(e))return!1;var t=E(e);return t==b||t==g||t==m||t==v};var A=function isNull(e){return null===e},O=n("./node_modules/invariant/browser.js"),T=n.n(O);function createAction(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=arguments[2];T()(I(t)||A(t),"Expected payloadCreator to be a function, undefined or null");var o=A(t)||t===r?r:function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return e instanceof Error?e:t.apply(void 0,[e].concat(r))},i=I(n),a=e.toString(),s=function actionCreator(){var t=o.apply(void 0,arguments),r={type:e};return t instanceof Error&&(r.error=!0),void 0!==t&&(r.payload=t),i&&(r.meta=n.apply(void 0,arguments)),r};return s.toString=function(){return a},s}var N=function overArg(e,t){return function(n){return e(t(n))}},R=N(Object.getPrototypeOf,Object);var C=function isObjectLike(e){return null!=e&&"object"==typeof e},w="[object Object]",S=Function.prototype,P=Object.prototype,D=S.toString,L=P.hasOwnProperty,x=D.call(Object);var j=function isPlainObject(e){if(!C(e)||E(e)!=w)return!1;var t=R(e);if(null===t)return!0;var n=L.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&D.call(n)==x};var k=function isNil(e){return null==e};var U=function isUndefined(e){return void 0===e};var F=function baseFindIndex(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1};var M=function baseIsNaN(e){return e!=e};var H=function strictIndexOf(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1};var V=function baseIndexOf(e,t,n){return t==t?H(e,t,n):F(e,M,n)},Y=9007199254740991;var B=function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Y};var K=function isArrayLike(e){return null!=e&&B(e.length)&&!I(e)},q=Array.isArray,z="[object String]";var Q=function isString(e){return"string"==typeof e||!q(e)&&C(e)&&E(e)==z},W="[object Symbol]";var G=function isSymbol(e){return"symbol"==typeof e||C(e)&&E(e)==W},Z=NaN,$=/^\s+|\s+$/g,X=/^[-+]0x[0-9a-f]+$/i,J=/^0b[01]+$/i,ee=/^0o[0-7]+$/i,te=parseInt;var ne=function toNumber(e){if("number"==typeof e)return e;if(G(e))return Z;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace($,"");var n=J.test(e);return n||ee.test(e)?te(e.slice(2),n?2:8):X.test(e)?Z:+e},re=1/0,oe=1.7976931348623157e308;var ie=function toFinite(e){return e?(e=ne(e))===re||e===-re?(e<0?-1:1)*oe:e==e?e:0:0===e?e:0};var ae=function toInteger(e){var t=ie(e),n=t%1;return t==t?n?t-n:t:0};var se=function arrayMap(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o};var ce=function baseValues(e,t){return se(t,function(t){return e[t]})};var ue=function baseTimes(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},le="[object Arguments]";var de=function baseIsArguments(e){return C(e)&&E(e)==le},fe=Object.prototype,pe=fe.hasOwnProperty,he=fe.propertyIsEnumerable,_e=de(function(){return arguments}())?de:function(e){return C(e)&&pe.call(e,"callee")&&!he.call(e,"callee")},Ee=n("./node_modules/redux-actions/node_modules/lodash-es/isBuffer.js"),ye=9007199254740991,me=/^(?:0|[1-9]\d*)$/;var be=function isIndex(e,t){var n=typeof e;return!!(t=null==t?ye:t)&&("number"==n||"symbol"!=n&&me.test(e))&&e>-1&&e%1==0&&e<t},ge={};ge["[object Float32Array]"]=ge["[object Float64Array]"]=ge["[object Int8Array]"]=ge["[object Int16Array]"]=ge["[object Int32Array]"]=ge["[object Uint8Array]"]=ge["[object Uint8ClampedArray]"]=ge["[object Uint16Array]"]=ge["[object Uint32Array]"]=!0,ge["[object Arguments]"]=ge["[object Array]"]=ge["[object ArrayBuffer]"]=ge["[object Boolean]"]=ge["[object DataView]"]=ge["[object Date]"]=ge["[object Error]"]=ge["[object Function]"]=ge["[object Map]"]=ge["[object Number]"]=ge["[object Object]"]=ge["[object RegExp]"]=ge["[object Set]"]=ge["[object String]"]=ge["[object WeakMap]"]=!1;var ve=function baseIsTypedArray(e){return C(e)&&B(e.length)&&!!ge[E(e)]};var Ie=function baseUnary(e){return function(t){return e(t)}},Ae=n("./node_modules/redux-actions/node_modules/lodash-es/_nodeUtil.js"),Oe=Ae.a&&Ae.a.isTypedArray,Te=Oe?Ie(Oe):ve,Ne=Object.prototype.hasOwnProperty;var Re=function arrayLikeKeys(e,t){var n=q(e),r=!n&&_e(e),o=!n&&!r&&Object(Ee.a)(e),i=!n&&!r&&!o&&Te(e),a=n||r||o||i,s=a?ue(e.length,String):[],c=s.length;for(var u in e)!t&&!Ne.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||be(u,c))||s.push(u);return s},Ce=Object.prototype;var we=function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ce)},Se=N(Object.keys,Object),Pe=Object.prototype.hasOwnProperty;var De=function baseKeys(e){if(!we(e))return Se(e);var t=[];for(var n in Object(e))Pe.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Le=function keys_keys(e){return K(e)?Re(e):De(e)};var xe=function values(e){return null==e?[]:ce(e,Le(e))},je=Math.max;var ke=function includes(e,t,n,r){e=K(e)?e:xe(e),n=n&&!r?ae(n):0;var o=e.length;return n<0&&(n=je(o+n,0)),Q(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&V(e,t,n)>-1},Ue=o.a["__core-js_shared__"],Fe=function(){var e=/[^.]+$/.exec(Ue&&Ue.keys&&Ue.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var Me=function isMasked(e){return!!Fe&&Fe in e},He=Function.prototype.toString;var Ve=function toSource(e){if(null!=e){try{return He.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Ye=/^\[object .+?Constructor\]$/,Be=Function.prototype,Ke=Object.prototype,qe=Be.toString,ze=Ke.hasOwnProperty,Qe=RegExp("^"+qe.call(ze).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var We=function baseIsNative(e){return!(!y(e)||Me(e))&&(I(e)?Qe:Ye).test(Ve(e))};var Ge=function getValue(e,t){return null==e?void 0:e[t]};var Ze=function getNative(e,t){var n=Ge(e,t);return We(n)?n:void 0},$e=Ze(o.a,"DataView"),Xe=Ze(o.a,"Map"),Je=Ze(o.a,"Promise"),et=Ze(o.a,"Set"),tt=Ze(o.a,"WeakMap"),nt=Ve($e),rt=Ve(Xe),ot=Ve(Je),it=Ve(et),at=Ve(tt),st=E;($e&&"[object DataView]"!=st(new $e(new ArrayBuffer(1)))||Xe&&"[object Map]"!=st(new Xe)||Je&&"[object Promise]"!=st(Je.resolve())||et&&"[object Set]"!=st(new et)||tt&&"[object WeakMap]"!=st(new tt))&&(st=function(e){var t=E(e),n="[object Object]"==t?e.constructor:void 0,r=n?Ve(n):"";if(r)switch(r){case nt:return"[object DataView]";case rt:return"[object Map]";case ot:return"[object Promise]";case it:return"[object Set]";case at:return"[object WeakMap]"}return t});var ct=st,ut="[object Map]",lt="[object Set]",dt=Object.prototype.hasOwnProperty;var ft=function isEmpty(e){if(null==e)return!0;if(K(e)&&(q(e)||"string"==typeof e||"function"==typeof e.splice||Object(Ee.a)(e)||Te(e)||_e(e)))return!e.length;var t=ct(e);if(t==ut||t==lt)return!e.size;if(we(e))return!De(e).length;for(var n in e)if(dt.call(e,n))return!1;return!0},pt=1/0,ht=i?i.prototype:void 0,_t=ht?ht.toString:void 0;var Et=function baseToString(e){if("string"==typeof e)return e;if(q(e))return se(e,baseToString)+"";if(G(e))return _t?_t.call(e):"";var t=e+"";return"0"==t&&1/e==-pt?"-0":t};var yt=function toString_toString(e){return null==e?"":Et(e)},mt="||";function isValidActionType(e){return Q(e)||I(e)||G(e)}function combineActions(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];T()(function isValidActionTypes(e){return!ft(e)&&e.every(isValidActionType)}(t),"Expected action types to be strings, symbols, or action creators");var r=t.map(yt).join(mt);return{toString:function toString(){return r}}}var bt=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var gt="[object Map]";var vt=function baseIsMap(e){return C(e)&&ct(e)==gt},It=Ae.a&&Ae.a.isMap,At=It?Ie(It):vt,Ot=n("./node_modules/reduce-reducers/lib/index.js"),Tt=n.n(Ot);function ownKeys(e){if(At(e))return Array.from(e.keys());if("undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);return"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t}var Nt="/";var Rt=function flattenWhenNode(e){return function flatten(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.namespace,o=void 0===r?Nt:r,i=n.prefix,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return ownKeys(t).forEach(function(n){var r=function connectPrefix(e){return s||!i?e:""+i+o+e}(function connectNamespace(e){return s?""+s+o+e:e}(n)),c=function get(e,t){return At(t)?t.get(e):t[e]}(n,t);e(c)?flatten(c,{namespace:o,prefix:i},a,r):a[r]=c}),a}},Ct=(Rt(j),Rt(function(e){return(j(e)||At(e))&&!function hasGeneratorInterface(e){var t=ownKeys(e),n=t.every(function(e){return"next"===e||"throw"===e});return t.length&&t.length<=2&&n}(e)}));function handleActions(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};T()(j(e)||At(e),"Expected handlers to be a plain object.");var o=Ct(e,n),i=ownKeys(o).map(function(e){return function handleAction(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=arguments[2],o=e.toString().split(mt);T()(!U(n),"defaultState for reducer handling "+o.join(", ")+" should be defined"),T()(I(t)||j(t),"Expected reducer to be a function or object with next and throw reducers");var i=I(t)?[t,t]:[t.next,t.throw].map(function(e){return k(e)?r:e}),a=bt(i,2),s=a[0],c=a[1];return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1],r=t.type;return r&&ke(o,r.toString())?(!0===t.error?c:s)(e,t):e}}(e,function handleActions_get(e,t){return At(t)?t.get(e):t[e]}(e,o),t)}),a=Tt.a.apply(void 0,function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i));return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments[1];return a(e,n)}}Object.assign;n.d(t,"b",function(){return createAction}),n.d(t,"c",function(){return handleActions}),n.d(t,"a",function(){return combineActions})},"./node_modules/redux-actions/node_modules/lodash-es/_freeGlobal.js":function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/redux-actions/node_modules/lodash-es/_nodeUtil.js":function(e,t,n){"use strict";(function(e){var r=n("./node_modules/redux-actions/node_modules/lodash-es/_freeGlobal.js"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.a.process,s=function(){try{return a&&a.binding&&a.binding("util")}catch(e){}}();t.a=s}).call(this,n("./node_modules/webpack/buildin/harmony-module.js")(e))},"./node_modules/redux-actions/node_modules/lodash-es/_root.js":function(e,t,n){"use strict";var r=n("./node_modules/redux-actions/node_modules/lodash-es/_freeGlobal.js"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},"./node_modules/redux-actions/node_modules/lodash-es/isBuffer.js":function(e,t,n){"use strict";(function(e){var r=n("./node_modules/redux-actions/node_modules/lodash-es/_root.js"),o=n("./node_modules/redux-actions/node_modules/lodash-es/stubFalse.js"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.a.Buffer:void 0,c=(s?s.isBuffer:void 0)||o.a;t.a=c}).call(this,n("./node_modules/webpack/buildin/harmony-module.js")(e))},"./node_modules/redux-actions/node_modules/lodash-es/stubFalse.js":function(e,t,n){"use strict";t.a=function stubFalse(){return!1}},"./node_modules/redux-promise/lib/index.js":function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function promiseMiddleware(e){var t=e.dispatch;return function(e){return function(n){return o.isFSA(n)?isPromise(n.payload)?n.payload.then(function(e){return t(r({},n,{payload:e}))},function(e){return t(r({},n,{payload:e,error:!0}))}):e(n):isPromise(n)?n.then(t):e(n)}}};var o=n("./node_modules/flux-standard-action/lib/index.js");function isPromise(e){return e&&"function"==typeof e.then}e.exports=t.default},"./node_modules/redux-saga/es/effects.js":function(e,t,n){"use strict";var r=n("./node_modules/redux-saga/es/internal/io.js");n.d(t,"d",function(){return r.h}),n.d(t,"a",function(){return r.b}),n.d(t,"c",function(){return r.e}),n.d(t,"b",function(){return r.c}),n.d(t,"e",function(){return r.i}),n.d(t,"f",function(){return r.k}),n.d(t,"g",function(){return r.l})},"./node_modules/redux-saga/es/index.js":function(e,t,n){"use strict";var r=n("./node_modules/redux-saga/es/internal/utils.js"),o=n("./node_modules/redux-saga/es/internal/channel.js"),i=n("./node_modules/redux-saga/es/internal/scheduler.js"),a=n("./node_modules/redux-saga/es/internal/io.js"),s=n("./node_modules/redux-saga/es/internal/buffers.js"),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var l="proc first argument (Saga function result) must be an iterator",d={toString:function toString(){return"@@redux-saga/CHANNEL_END"}},f={toString:function toString(){return"@@redux-saga/TASK_CANCEL"}},p={wildcard:function wildcard(){return r.o},default:function _default(e){return"symbol"===(void 0===e?"undefined":u(e))?function(t){return t.type===e}:function(t){return t.type===String(e)}},array:function array(e){return function(t){return e.some(function(e){return matcher(e)(t)})}},predicate:function predicate(e){return function(t){return e(t)}}};function matcher(e){return("*"===e?p.wildcard:r.n.array(e)?p.array:r.n.stringableFunc(e)?p.default:r.n.func(e)?p.predicate:p.default)(e)}var h=function wrapHelper(e){return{fn:e}};function proc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return r.r},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.r,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.r,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},_=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,y=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"anonymous",m=arguments[8];Object(r.g)(e,r.n.iterator,l);var b=Object(r.k)(runAllEffect,Object(r.w)("[...effects]","all([...effects])")),g=_.sagaMonitor,v=_.logger,I=_.onError,A=v||r.p,O=function logError(e){var t=e.sagaStack;!t&&e.stack&&(t=-1!==e.stack.split("\n")[0].indexOf(e.message)?e.stack:"Error: "+e.message+"\n"+e.stack),A("error","uncaught at "+y,t||e.message||e)},T=Object(o.e)(t),N=Object.create(p);next.cancel=r.r;var R=function newTask(e,t,n,o){var i,a;return n._deferredEnd=null,(i={})[r.e]=!0,i.id=e,i.name=t,"done",(a={}).done=a.done||{},a.done.get=function(){if(n._deferredEnd)return n._deferredEnd.promise;var e=Object(r.i)();return n._deferredEnd=e,n._isRunning||(n._error?e.reject(n._error):e.resolve(n._result)),e.promise},i.cont=o,i.joiners=[],i.cancel=cancel,i.isRunning=function isRunning(){return n._isRunning},i.isCancelled=function isCancelled(){return n._isCancelled},i.isAborted=function isAborted(){return n._isAborted},i.result=function result(){return n._result},i.error=function error(){return n._error},i.setContext=function setContext(e){Object(r.g)(e,r.n.object,Object(r.h)("task",e)),r.s.assign(N,e)},function _defineEnumerableProperties(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}return e}(i,a),i}(E,y,e,m),C={name:y,cancel:function cancelMain(){C.isRunning&&!C.isCancelled&&(C.isCancelled=!0,next(f))},isRunning:!0},w=function forkQueue(e,t,n){var o=[],i=void 0,a=!1;function abort(e){cancelAll(),n(e,!0)}function addTask(e){o.push(e),e.cont=function(s,c){a||(Object(r.t)(o,e),e.cont=r.r,c?abort(s):(e===t&&(i=s),o.length||(a=!0,n(i))))}}function cancelAll(){a||(a=!0,o.forEach(function(e){e.cont=r.r,e.cancel()}),o=[])}return addTask(t),{addTask:addTask,cancelAll:cancelAll,abort:abort,getTasks:function getTasks(){return o},taskNames:function taskNames(){return o.map(function(e){return e.name})}}}(0,C,end);function cancel(){e._isRunning&&!e._isCancelled&&(e._isCancelled=!0,w.cancelAll(),end(f))}return m&&(m.cancel=cancel),e._isRunning=!0,next(),R;function next(t,n){if(!C.isRunning)throw new Error("Trying to resume an already finished generator");try{var o=void 0;n?o=e.throw(t):t===f?(C.isCancelled=!0,next.cancel(),o=r.n.func(e.return)?e.return(f):{done:!0,value:f}):o=t===d?r.n.func(e.return)?e.return():{done:!0}:e.next(t),o.done?(C.isMainRunning=!1,C.cont&&C.cont(o.value)):runEffect(o.value,E,"",next)}catch(e){C.isCancelled&&O(e),C.isMainRunning=!1,C.cont(e,!0)}}function end(t,n){e._isRunning=!1,T.close(),n?(t instanceof Error&&Object.defineProperty(t,"sagaStack",{value:"at "+y+" \n "+(t.sagaStack||t.stack),configurable:!0}),R.cont||(t instanceof Error&&I?I(t):O(t)),e._error=t,e._isAborted=!0,e._deferredEnd&&e._deferredEnd.reject(t)):(e._result=t,e._deferredEnd&&e._deferredEnd.resolve(t)),R.cont&&R.cont(t,n),R.joiners.forEach(function(e){return e.cb(t,n)}),R.joiners=null}function runEffect(e,l){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",_=arguments[3],E=Object(r.v)();g&&g.effectTriggered({effectId:E,parentEffectId:l,label:p,effect:e});var m=void 0;function currCb(e,t){m||(m=!0,_.cancel=r.r,g&&(t?g.effectRejected(E,e):g.effectResolved(E,e)),_(e,t))}currCb.cancel=r.r,_.cancel=function(){if(!m){m=!0;try{currCb.cancel()}catch(e){O(e)}currCb.cancel=r.r,g&&g.effectCancelled(E)}};var v=void 0;return r.n.promise(e)?resolvePromise(e,currCb):r.n.helper(e)?runForkEffect(h(e),E,currCb):r.n.iterator(e)?resolveIterator(e,E,y,currCb):r.n.array(e)?b(e,E,currCb):(v=a.d.take(e))?function runTakeEffect(e,t){var n=e.channel,r=e.pattern,i=e.maybe;n=n||T;var a=function takeCb(e){return e instanceof Error?t(e,!0):Object(o.d)(e)&&!i?t(d):t(e)};try{n.take(a,matcher(r))}catch(e){return t(e,!0)}t.cancel=a.cancel}(v,currCb):(v=a.d.put(e))?function runPutEffect(e,t){var o=e.channel,a=e.action,s=e.resolve;Object(i.a)(function(){var e=void 0;try{e=(o?o.put:n)(a)}catch(e){if(o||s)return t(e,!0);O(e)}if(!s||!r.n.promise(e))return t(e);resolvePromise(e,t)})}(v,currCb):(v=a.d.all(e))?runAllEffect(v,E,currCb):(v=a.d.race(e))?function runRaceEffect(e,t,n){var i=void 0,a=Object.keys(e),s={};a.forEach(function(t){var u=function chCbAtKey(s,u){if(!i)if(u)n.cancel(),n(s,!0);else if(!Object(o.d)(s)&&s!==d&&s!==f){var l;n.cancel(),i=!0;var p=((l={})[t]=s,l);n(r.n.array(e)?[].slice.call(c({},p,{length:a.length})):p)}};u.cancel=r.r,s[t]=u}),n.cancel=function(){i||(i=!0,a.forEach(function(e){return s[e].cancel()}))},a.forEach(function(n){i||runEffect(e[n],t,n,s[n])})}(v,E,currCb):(v=a.d.call(e))?function runCallEffect(e,t,n){var o=e.context,i=e.fn,a=e.args,s=void 0;try{s=i.apply(o,a)}catch(e){return n(e,!0)}return r.n.promise(s)?resolvePromise(s,n):r.n.iterator(s)?resolveIterator(s,t,i.name,n):n(s)}(v,E,currCb):(v=a.d.cps(e))?function runCPSEffect(e,t){var n=e.context,o=e.fn,i=e.args;try{var a=function cpsCb(e,n){return r.n.undef(e)?t(n):t(e,!0)};o.apply(n,i.concat(a)),a.cancel&&(t.cancel=function(){return a.cancel()})}catch(e){return t(e,!0)}}(v,currCb):(v=a.d.fork(e))?runForkEffect(v,E,currCb):(v=a.d.join(e))?function runJoinEffect(e,t){if(e.isRunning()){var n={task:R,cb:t};t.cancel=function(){return Object(r.t)(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())}(v,currCb):(v=a.d.cancel(e))?function runCancelEffect(e,t){e===r.d&&(e=R);e.isRunning()&&e.cancel();t()}(v,currCb):(v=a.d.select(e))?function runSelectEffect(e,t){var n=e.selector,r=e.args;try{var o=n.apply(void 0,[u()].concat(r));t(o)}catch(e){t(e,!0)}}(v,currCb):(v=a.d.actionChannel(e))?function runChannelEffect(e,n){var r=e.pattern,i=e.buffer,a=matcher(r);a.pattern=r,n(Object(o.c)(t,i||s.a.fixed(),a))}(v,currCb):(v=a.d.flush(e))?function runFlushEffect(e,t){e.flush(t)}(v,currCb):(v=a.d.cancelled(e))?function runCancelledEffect(e,t){t(!!C.isCancelled)}(0,currCb):(v=a.d.getContext(e))?function runGetContextEffect(e,t){t(N[e])}(v,currCb):(v=a.d.setContext(e))?function runSetContextEffect(e,t){r.s.assign(N,e),t()}(v,currCb):currCb(e)}function resolvePromise(e,t){var n=e[r.a];r.n.func(n)?t.cancel=n:r.n.func(e.abort)&&(t.cancel=function(){return e.abort()}),e.then(t,function(e){return t(e,!0)})}function resolveIterator(e,r,o,i){proc(e,t,n,u,N,_,r,o,i)}function runForkEffect(e,o,a){var s=e.context,c=e.fn,l=e.args,d=e.detached,f=function createTaskIterator(e){var t=e.context,n=e.fn,o=e.args;if(r.n.iterator(n))return n;var i=void 0,a=void 0;try{i=n.apply(t,o)}catch(e){a=e}return r.n.iterator(i)?i:a?Object(r.q)(function(){throw a}):Object(r.q)(function(){var e=void 0,t={done:!1,value:i};return function(n){return e?function ret(e){return{done:!0,value:e}}(n):(e=!0,t)}}())}({context:s,fn:c,args:l});try{Object(i.c)();var p=proc(f,t,n,u,N,_,o,c.name,d?null:r.r);d?a(p):f._isRunning?(w.addTask(p),a(p)):f._error?w.abort(f._error):a(p)}finally{Object(i.b)()}}function runAllEffect(e,t,n){var i=Object.keys(e);if(!i.length)return n(r.n.array(e)?[]:{});var a=0,s=void 0,u={},l={};i.forEach(function(t){var p=function chCbAtKey(l,p){s||(p||Object(o.d)(l)||l===d||l===f?(n.cancel(),n(l,p)):(u[t]=l,a++,function checkEffectEnd(){a===i.length&&(s=!0,n(r.n.array(e)?r.f.from(c({},u,{length:i.length})):u))}()))};p.cancel=r.r,l[t]=p}),n.cancel=function(){s||(s=!0,i.forEach(function(e){return l[e].cancel()}))},i.forEach(function(n){return runEffect(e[n],t,n,l[n])})}}var _="runSaga(storeInterface, saga, ...args): saga argument must be a Generator function!";var E=n("./node_modules/redux-saga/es/internal/sagaHelpers/index.js");n("./node_modules/redux-saga/es/effects.js");n.d(t,"b",function(){return E.a}),n.d(t,"c",function(){return E.c});t.a=function sagaMiddlewareFactory(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=void 0===t?{}:t,i=function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["context"]),a=i.sagaMonitor,s=i.logger,c=i.onError;if(r.n.func(i))throw new Error("Saga middleware no longer accept Generator functions. Use sagaMiddleware.run instead");if(s&&!r.n.func(s))throw new Error("`options.logger` passed to the Saga middleware is not a function!");if(c&&!r.n.func(c))throw new Error("`options.onError` passed to the Saga middleware is not a function!");if(i.emitter&&!r.n.func(i.emitter))throw new Error("`options.emitter` passed to the Saga middleware is not a function!");function sagaMiddleware(e){var t=e.getState,u=e.dispatch,l=Object(o.b)();return l.emit=(i.emitter||r.l)(l.emit),sagaMiddleware.run=function runSaga(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];var a=void 0;r.n.iterator(e)?(a=e,e=t):(Object(r.g)(t,r.n.func,_),a=t.apply(void 0,o),Object(r.g)(a,r.n.iterator,_));var s=e,c=s.subscribe,u=s.dispatch,l=s.getState,d=s.context,f=s.sagaMonitor,p=s.logger,h=s.onError,E=Object(r.v)();f&&(f.effectTriggered=f.effectTriggered||r.r,f.effectResolved=f.effectResolved||r.r,f.effectRejected=f.effectRejected||r.r,f.effectCancelled=f.effectCancelled||r.r,f.actionDispatched=f.actionDispatched||r.r,f.effectTriggered({effectId:E,root:!0,parentEffectId:0,effect:{root:!0,saga:t,args:o}}));var y=proc(a,c,Object(r.x)(u),l,d,{sagaMonitor:f,logger:p,onError:h},E,t.name);return f&&f.effectResolved(E,y),y}.bind(null,{context:n,subscribe:l.subscribe,dispatch:u,getState:t,sagaMonitor:a,logger:s,onError:c}),function(e){return function(t){a&&a.actionDispatched&&a.actionDispatched(t);var n=e(t);return l.emit(t),n}}}return sagaMiddleware.run=function(){throw new Error("Before running a Saga, you must mount the Saga middleware on the Store using applyMiddleware")},sagaMiddleware.setContext=function(e){Object(r.g)(e,r.n.object,Object(r.h)("sagaMiddleware",e)),r.s.assign(n,e)},sagaMiddleware}},"./node_modules/redux-saga/es/internal/buffers.js":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("./node_modules/redux-saga/es/internal/utils.js"),o="Channel's Buffer overflow!",i=1,a=3,s=4,c={isEmpty:r.o,put:r.r,take:r.r};function ringBuffer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments[1],n=new Array(e),r=0,c=0,u=0,l=function push(t){n[c]=t,c=(c+1)%e,r++},d=function take(){if(0!=r){var t=n[u];return n[u]=null,r--,u=(u+1)%e,t}},f=function flush(){for(var e=[];r;)e.push(d());return e};return{isEmpty:function isEmpty(){return 0==r},put:function put(d){if(r<e)l(d);else{var p=void 0;switch(t){case i:throw new Error(o);case a:n[c]=d,u=c=(c+1)%e;break;case s:p=2*e,n=f(),r=n.length,c=n.length,u=0,n.length=p,e=p,l(d)}}},take:d,flush:f}}var u={none:function none(){return c},fixed:function fixed(e){return ringBuffer(e,i)},dropping:function dropping(e){return ringBuffer(e,2)},sliding:function sliding(e){return ringBuffer(e,a)},expanding:function expanding(e){return ringBuffer(e,s)}}},"./node_modules/redux-saga/es/internal/channel.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return emitter}),n.d(t,"c",function(){return eventChannel}),n.d(t,"e",function(){return stdChannel});var r=n("./node_modules/redux-saga/es/internal/utils.js"),o=n("./node_modules/redux-saga/es/internal/buffers.js"),i=n("./node_modules/redux-saga/es/internal/scheduler.js"),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s={type:"@@redux-saga/CHANNEL_END"},c=function isEnd(e){return e&&"@@redux-saga/CHANNEL_END"===e.type};function emitter(){var e=[];return{subscribe:function subscribe(t){return e.push(t),function(){return Object(r.t)(e,t)}},emit:function emit(t){for(var n=e.slice(),r=0,o=n.length;r<o;r++)n[r](t)}}}var u="invalid buffer passed to channel factory function",l="Saga was provided with an undefined action";function eventChannel(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a.none(),n=arguments[2];arguments.length>2&&Object(r.g)(n,r.n.func,"Invalid match function passed to eventChannel");var i=function channel(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.a.fixed(),t=!1,n=[];function checkForbiddenStates(){if(t&&n.length)throw Object(r.m)("Cannot have a closed channel with pending takers");if(n.length&&!e.isEmpty())throw Object(r.m)("Cannot have pending takers with non empty buffer")}return Object(r.g)(e,r.n.buffer,u),{take:function take(o){checkForbiddenStates(),Object(r.g)(o,r.n.func,"channel.take's callback must be a function"),t&&e.isEmpty()?o(s):e.isEmpty()?(n.push(o),o.cancel=function(){return Object(r.t)(n,o)}):o(e.take())},put:function put(o){if(checkForbiddenStates(),Object(r.g)(o,r.n.notUndef,l),!t){if(!n.length)return e.put(o);for(var i=0;i<n.length;i++){var a=n[i];if(!a[r.b]||a[r.b](o))return n.splice(i,1),a(o)}}},flush:function flush(n){checkForbiddenStates(),Object(r.g)(n,r.n.func,"channel.flush' callback must be a function"),t&&e.isEmpty()?n(s):n(e.flush())},close:function close(){if(checkForbiddenStates(),!t&&(t=!0,n.length)){var e=n;n=[];for(var r=0,o=e.length;r<o;r++)e[r](s)}},get __takers__(){return n},get __closed__(){return t}}}(t),a=function close(){i.__closed__||(d&&d(),i.close())},d=e(function(e){c(e)?a():n&&!n(e)||i.put(e)});if(i.__closed__&&d(),!r.n.func(d))throw new Error("in eventChannel: subscribe should return a function to unsubscribe");return{take:i.take,flush:i.flush,close:a}}function stdChannel(e){var t=eventChannel(function(t){return e(function(e){e[r.c]?t(e):Object(i.a)(function(){return t(e)})})});return a({},t,{take:function take(e,n){arguments.length>1&&(Object(r.g)(n,r.n.func,"channel.take's matcher argument must be a function"),e[r.b]=n),t.take(e)}})}},"./node_modules/redux-saga/es/internal/io.js":function(e,t,n){"use strict";n.d(t,"j",function(){return take}),n.d(t,"h",function(){return put}),n.d(t,"b",function(){return all}),n.d(t,"e",function(){return call}),n.d(t,"c",function(){return apply}),n.d(t,"g",function(){return fork}),n.d(t,"f",function(){return cancel}),n.d(t,"i",function(){return select}),n.d(t,"a",function(){return actionChannel}),n.d(t,"k",function(){return takeEvery}),n.d(t,"l",function(){return takeLatest}),n.d(t,"d",function(){return O});var r=n("./node_modules/redux-saga/es/internal/utils.js"),o=n("./node_modules/redux-saga/es/internal/sagaHelpers/index.js"),i=Object(r.u)("IO"),a="TAKE",s="PUT",c="ALL",u="RACE",l="CALL",d="CPS",f="FORK",p="JOIN",h="CANCEL",_="SELECT",E="ACTION_CHANNEL",y="CANCELLED",m="FLUSH",b="GET_CONTEXT",g="SET_CONTEXT",v="\n(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)",I=function effect(e,t){var n;return(n={})[i]=!0,n[e]=t,n};function take(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*";if(arguments.length&&Object(r.g)(arguments[0],r.n.notUndef,"take(patternOrChannel): patternOrChannel is undefined"),r.n.pattern(e))return I(a,{pattern:e});if(r.n.channel(e))return I(a,{channel:e});throw new Error("take(patternOrChannel): argument "+String(e)+" is not valid channel or a valid pattern")}take.maybe=function(){var e=take.apply(void 0,arguments);return e[a].maybe=!0,e};take.maybe;function put(e,t){return arguments.length>1?(Object(r.g)(e,r.n.notUndef,"put(channel, action): argument channel is undefined"),Object(r.g)(e,r.n.channel,"put(channel, action): argument "+e+" is not a valid channel"),Object(r.g)(t,r.n.notUndef,"put(channel, action): argument action is undefined")):(Object(r.g)(e,r.n.notUndef,"put(action): argument action is undefined"),t=e,e=null),I(s,{channel:e,action:t})}function all(e){return I(c,e)}function getFnCallDesc(e,t,n){Object(r.g)(t,r.n.notUndef,e+": argument fn is undefined");var o=null;if(r.n.array(t)){var i=t;o=i[0],t=i[1]}else if(t.fn){var a=t;o=a.context,t=a.fn}return o&&r.n.string(t)&&r.n.func(o[t])&&(t=o[t]),Object(r.g)(t,r.n.func,e+": argument "+t+" is not a function"),{context:o,fn:t,args:n}}function call(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return I(l,getFnCallDesc("call",e,n))}function apply(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return I(l,getFnCallDesc("apply",{context:e,fn:t},n))}function fork(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return I(f,getFnCallDesc("fork",e,n))}function cancel(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1)return all(t.map(function(e){return cancel(e)}));var o=t[0];return 1===t.length&&(Object(r.g)(o,r.n.notUndef,"cancel(task): argument task is undefined"),Object(r.g)(o,r.n.task,"cancel(task): argument "+o+" is not a valid Task object "+v)),I(h,o||r.d)}function select(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return 0===arguments.length?e=r.l:(Object(r.g)(e,r.n.notUndef,"select(selector,[...]): argument selector is undefined"),Object(r.g)(e,r.n.func,"select(selector,[...]): argument "+e+" is not a function")),I(_,{selector:e,args:n})}function actionChannel(e,t){return Object(r.g)(e,r.n.notUndef,"actionChannel(pattern,...): argument pattern is undefined"),arguments.length>1&&(Object(r.g)(t,r.n.notUndef,"actionChannel(pattern, buffer): argument buffer is undefined"),Object(r.g)(t,r.n.buffer,"actionChannel(pattern, buffer): argument "+t+" is not a valid buffer")),I(E,{pattern:e,buffer:t})}function takeEvery(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return fork.apply(void 0,[o.b,e,t].concat(r))}function takeLatest(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return fork.apply(void 0,[o.d,e,t].concat(r))}put.resolve=function(){var e=put.apply(void 0,arguments);return e[s].resolve=!0,e},put.sync=Object(r.k)(put.resolve,Object(r.w)("put.sync","put.resolve"));var A=function createAsEffectType(e){return function(t){return t&&t[i]&&t[e]}},O={take:A(a),put:A(s),all:A(c),race:A(u),call:A(l),cps:A(d),fork:A(f),join:A(p),cancel:A(h),select:A(_),actionChannel:A(E),cancelled:A(y),flush:A(m),getContext:A(b),setContext:A(g)}},"./node_modules/redux-saga/es/internal/sagaHelpers/index.js":function(e,t,n){"use strict";var r=n("./node_modules/redux-saga/es/internal/utils.js"),o={done:!0,value:void 0},i={};function safeName(e){return r.n.channel(e)?"channel":Array.isArray(e)?String(e.map(function(e){return String(e)})):String(e)}function fsmIterator(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"iterator",a=void 0,s=t;function next(t,n){if(s===i)return o;if(n)throw s=i,n;a&&a(t);var r=e[s](),c=r[0],u=r[1],l=r[2];return a=l,(s=c)===i?o:u}return Object(r.q)(next,function(e){return next(null,e)},n,!0)}var a=n("./node_modules/redux-saga/es/internal/io.js"),s=n("./node_modules/redux-saga/es/internal/channel.js");function takeEvery(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var c={done:!1,value:Object(a.j)(e)},u=void 0,l=function setAction(e){return u=e};return fsmIterator({q1:function q1(){return["q2",c,l]},q2:function q2(){return u===s.a?[i]:["q1",function yFork(e){return{done:!1,value:a.g.apply(void 0,[t].concat(r,[e]))}}(u)]}},"q1","takeEvery("+safeName(e)+", "+t.name+")")}function takeLatest(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var c={done:!1,value:Object(a.j)(e)},u=function yFork(e){return{done:!1,value:a.g.apply(void 0,[t].concat(r,[e]))}},l=void 0,d=void 0,f=function setTask(e){return l=e},p=function setAction(e){return d=e};return fsmIterator({q1:function q1(){return["q2",c,p]},q2:function q2(){return d===s.a?[i]:l?["q3",function yCancel(e){return{done:!1,value:Object(a.f)(e)}}(l)]:["q1",u(d),f]},q3:function q3(){return["q1",u(d),f]}},"q1","takeLatest("+safeName(e)+", "+t.name+")")}var c=n("./node_modules/redux-saga/es/internal/buffers.js");function throttle(e,t,n){for(var o=arguments.length,u=Array(o>3?o-3:0),l=3;l<o;l++)u[l-3]=arguments[l];var d=void 0,f=void 0,p={done:!1,value:Object(a.a)(t,c.a.sliding(1))},h={done:!1,value:Object(a.e)(r.j,e)},_=function setAction(e){return d=e},E=function setChannel(e){return f=e};return fsmIterator({q1:function q1(){return["q2",p,E]},q2:function q2(){return["q3",function yTake(){return{done:!1,value:Object(a.j)(f)}}(),_]},q3:function q3(){return d===s.a?[i]:["q4",function yFork(e){return{done:!1,value:a.g.apply(void 0,[n].concat(u,[e]))}}(d)]},q4:function q4(){return["q2",h]}},"q1","throttle("+safeName(t)+", "+n.name+")")}n.d(t,"a",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return takeEvery}),n.d(t,"d",function(){return takeLatest}),n.d(t,"e",function(){return throttle});var u=function deprecationWarning(e){return"import { "+e+" } from 'redux-saga' has been deprecated in favor of import { "+e+" } from 'redux-saga/effects'.\nThe latter will not work with yield*, as helper effects are wrapped automatically for you in fork effect.\nTherefore yield "+e+" will return task descriptor to your saga and execute next lines of code."},l=Object(r.k)(takeEvery,u("takeEvery")),d=Object(r.k)(takeLatest,u("takeLatest"))},"./node_modules/redux-saga/es/internal/scheduler.js":function(e,t,n){"use strict";n.d(t,"a",function(){return asap}),n.d(t,"c",function(){return suspend}),n.d(t,"b",function(){return flush});var r=[],o=0;function exec(e){try{suspend(),e()}finally{release()}}function asap(e){r.push(e),o||(suspend(),flush())}function suspend(){o++}function release(){o--}function flush(){release();for(var e=void 0;!o&&void 0!==(e=r.shift());)exec(e)}},"./node_modules/redux-saga/es/internal/utils.js":function(e,t,n){"use strict";n.d(t,"u",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"o",function(){return p}),n.d(t,"r",function(){return h}),n.d(t,"l",function(){return _}),n.d(t,"g",function(){return check}),n.d(t,"n",function(){return y}),n.d(t,"s",function(){return m}),n.d(t,"t",function(){return remove}),n.d(t,"f",function(){return b}),n.d(t,"i",function(){return deferred}),n.d(t,"j",function(){return delay}),n.d(t,"v",function(){return g}),n.d(t,"q",function(){return makeIterator}),n.d(t,"p",function(){return log}),n.d(t,"k",function(){return deprecate}),n.d(t,"w",function(){return A}),n.d(t,"m",function(){return O}),n.d(t,"h",function(){return T}),n.d(t,"x",function(){return N});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function sym(e){return"@@redux-saga/"+e},a=i("TASK"),s=i("HELPER"),c=i("MATCH"),u=i("CANCEL_PROMISE"),l=i("SAGA_ACTION"),d=i("SELF_CANCELLATION"),f=function konst(e){return function(){return e}},p=f(!0),h=function noop(){},_=function ident(e){return e};function check(e,t,n){if(!t(e))throw log("error","uncaught at check",n),new Error(n)}var E=Object.prototype.hasOwnProperty;function hasOwn(e,t){return y.notUndef(e)&&E.call(e,t)}var y={undef:function undef(e){return null===e||void 0===e},notUndef:function notUndef(e){return null!==e&&void 0!==e},func:function func(e){return"function"==typeof e},number:function number(e){return"number"==typeof e},string:function string(e){return"string"==typeof e},array:Array.isArray,object:function object(e){return e&&!y.array(e)&&"object"===(void 0===e?"undefined":o(e))},promise:function promise(e){return e&&y.func(e.then)},iterator:function iterator(e){return e&&y.func(e.next)&&y.func(e.throw)},iterable:function iterable(e){return e&&y.func(Symbol)?y.func(e[Symbol.iterator]):y.array(e)},task:function task(e){return e&&e[a]},observable:function observable(e){return e&&y.func(e.subscribe)},buffer:function buffer(e){return e&&y.func(e.isEmpty)&&y.func(e.take)&&y.func(e.put)},pattern:function pattern(e){return e&&(y.string(e)||"symbol"===(void 0===e?"undefined":o(e))||y.func(e)||y.array(e))},channel:function channel(e){return e&&y.func(e.take)&&y.func(e.close)},helper:function helper(e){return e&&e[s]},stringableFunc:function stringableFunc(e){return y.func(e)&&hasOwn(e,"toString")}},m={assign:function assign(e,t){for(var n in t)hasOwn(t,n)&&(e[n]=t[n])}};function remove(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}var b={from:function from(e){var t=Array(e.length);for(var n in e)hasOwn(e,n)&&(t[n]=e[n]);return t}};function deferred(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r({},e),n=new Promise(function(e,n){t.resolve=e,t.reject=n});return t.promise=n,t}function delay(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=void 0,r=new Promise(function(r){n=setTimeout(function(){return r(t)},e)});return r[u]=function(){return clearTimeout(n)},r}var g=function autoInc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){return++e}}(),v=function kThrow(e){throw e},I=function kReturn(e){return{value:e,done:!0}};function makeIterator(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments[3],o={name:n,next:e,throw:t,return:I};return r&&(o[s]=!0),"undefined"!=typeof Symbol&&(o[Symbol.iterator]=function(){return o}),o}function log(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";"undefined"==typeof window?console.log("redux-saga "+e+": "+t+"\n"+(n&&n.stack||n)):console[e](t,n)}function deprecate(e,t){return function(){return e.apply(void 0,arguments)}}var A=function updateIncentive(e,t){return e+" has been deprecated in favor of "+t+", please update your code"},O=function internalErr(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},T=function createSetContextWarning(e,t){return(e?e+".":"")+"setContext(props): argument "+t+" is not a plain object"},N=function wrapSagaDispatch(e){return function(t){return e(Object.defineProperty(t,l,{value:!0}))}}},"./node_modules/redux-thunk/lib/index.js":function(e,t,n){"use strict";function createThunkMiddleware(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}t.__esModule=!0;var r=createThunkMiddleware();r.withExtraArgument=createThunkMiddleware,t.default=r},"./node_modules/reselect/lib/index.js":function(e,t,n){"use strict";function defaultEqualityCheck(e,t){return e===t}function defaultMemoize(e){var t=arguments.length<=1||void 0===arguments[1]?defaultEqualityCheck:arguments[1],n=null,r=null;return function(){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return null!==n&&n.length===i.length&&i.every(function(e,r){return t(e,n[r])})||(r=e.apply(void 0,i)),n=i,r}}function createSelectorCreator(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=0,a=r.pop(),s=function getDependencies(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(r),c=e.apply(void 0,[function(){return i++,a.apply(void 0,arguments)}].concat(n)),u=function selector(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=s.map(function(n){return n.apply(void 0,[e,t].concat(r))});return c.apply(void 0,function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i))};return u.resultFunc=a,u.recomputations=function(){return i},u.resetRecomputations=function(){return i=0},u}}t.__esModule=!0,t.defaultMemoize=defaultMemoize,t.createSelectorCreator=createSelectorCreator,t.createStructuredSelector=function createStructuredSelector(e){var t=arguments.length<=1||void 0===arguments[1]?r:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})};var r=t.createSelector=createSelectorCreator(defaultMemoize)},"./node_modules/uuid/v1.js":function(e,t,n){var r,o,i=n("./node_modules/uuid/lib/rng-browser.js"),a=n("./node_modules/uuid/lib/bytesToUuid.js"),s=0,c=0;e.exports=function v1(e,t,n){var u=t&&n||0,l=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var p=i();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),_=void 0!==e.nsecs?e.nsecs:c+1,E=h-s+(_-c)/1e4;if(E<0&&void 0===e.clockseq&&(f=f+1&16383),(E<0||h>s)&&void 0===e.nsecs&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,c=_,o=f;var y=(1e4*(268435455&(h+=122192928e5))+_)%4294967296;l[u++]=y>>>24&255,l[u++]=y>>>16&255,l[u++]=y>>>8&255,l[u++]=255&y;var m=h/4294967296*1e4&268435455;l[u++]=m>>>8&255,l[u++]=255&m,l[u++]=m>>>24&15|16,l[u++]=m>>>16&255,l[u++]=f>>>8|128,l[u++]=255&f;for(var b=0;b<6;++b)l[u+b]=d[b];return t||a(l)}},"./node_modules/webpack/buildin/harmony-module.js":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}}}]);
//# sourceMappingURL=81b9373c79a0cbb0ab87-52dd853cba77e03b5dd1.js.map