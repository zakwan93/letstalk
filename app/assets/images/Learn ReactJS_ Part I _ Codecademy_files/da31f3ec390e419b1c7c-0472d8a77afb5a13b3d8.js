(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"./node_modules/@codecademy/es6-mutex/dist/index.js":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function defineProperties(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&defineProperties(t.prototype,e),i&&defineProperties(t,i),t}}();var s=function(){function Mutex(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Mutex),this._locking=Promise.resolve(),this._locked=!1}return r(Mutex,[{key:"isLocked",value:function isLocked(){return this._locked}},{key:"lock",value:function lock(){var t=this;this._locked=!0;var e=void 0,i=new Promise(function(t){return e=t});i.then(function(){return t._locked=!1});var r=this._locking.then(function(){return e});return this._locking=this._locking.then(function(){return i}),r}}]),Mutex}();e.default=s},"./node_modules/classnames/bind.js":function(t,e,i){var r;!function(){"use strict";var i={}.hasOwnProperty;function classNames(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var s=typeof r;if("string"===s||"number"===s)t.push(this&&this[r]||r);else if(Array.isArray(r))t.push(classNames.apply(this,r));else if("object"===s)for(var n in r)i.call(r,n)&&r[n]&&t.push(this&&this[n]||n)}}return t.join(" ")}void 0!==t&&t.exports?t.exports=classNames:void 0===(r=function(){return classNames}.apply(e,[]))||(t.exports=r)}()},"./node_modules/clipboard/lib/clipboard-action.js":function(t,e,i){var r,s,n;s=[t,i("./node_modules/select/src/select.js")],void 0===(n="function"==typeof(r=function(t,e){"use strict";var i=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=function(){function defineProperties(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&defineProperties(t.prototype,e),i&&defineProperties(t,i),t}}(),n=function(){function ClipboardAction(t){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ClipboardAction),this.resolveOptions(t),this.initSelection()}return ClipboardAction.prototype.resolveOptions=function resolveOptions(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},ClipboardAction.prototype.initSelection=function initSelection(){this.text?this.selectFake():this.target&&this.selectTarget()},ClipboardAction.prototype.selectFake=function selectFake(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()},ClipboardAction.prototype.removeFake=function removeFake(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},ClipboardAction.prototype.selectTarget=function selectTarget(){this.selectedText=(0,i.default)(this.target),this.copyText()},ClipboardAction.prototype.copyText=function copyText(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},ClipboardAction.prototype.handleResult=function handleResult(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},ClipboardAction.prototype.clearSelection=function clearSelection(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},ClipboardAction.prototype.destroy=function destroy(){this.removeFake()},s(ClipboardAction,[{key:"action",set:function set(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function get(){return this._action}},{key:"target",set:function set(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function get(){return this._target}}]),ClipboardAction}();t.exports=n})?r.apply(e,s):r)||(t.exports=n)},"./node_modules/clipboard/lib/clipboard.js":function(t,e,i){var r,s,n;s=[t,i("./node_modules/clipboard/lib/clipboard-action.js"),i("./node_modules/tiny-emitter/index.js"),i("./node_modules/good-listener/src/listen.js")],void 0===(n="function"==typeof(r=function(t,e,i,r){"use strict";var s=_interopRequireDefault(e),n=_interopRequireDefault(i),o=_interopRequireDefault(r);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function Clipboard(e,i){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Clipboard);var r=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.resolveOptions(i),r.listenClick(e),r}return function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Clipboard,t),Clipboard.prototype.resolveOptions=function resolveOptions(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},Clipboard.prototype.listenClick=function listenClick(t){var e=this;this.listener=(0,o.default)(t,"click",function(t){return e.onClick(t)})},Clipboard.prototype.onClick=function onClick(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},Clipboard.prototype.defaultAction=function defaultAction(t){return getAttributeValue("action",t)},Clipboard.prototype.defaultTarget=function defaultTarget(t){var e=getAttributeValue("target",t);if(e)return document.querySelector(e)},Clipboard.prototype.defaultText=function defaultText(t){return getAttributeValue("text",t)},Clipboard.prototype.destroy=function destroy(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},Clipboard}(n.default);function getAttributeValue(t,e){var i="data-clipboard-"+t;if(e.hasAttribute(i))return e.getAttribute(i)}t.exports=a})?r.apply(e,s):r)||(t.exports=n)},"./node_modules/delegate/src/closest.js":function(t,e){var i=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=function closest(t,e){for(;t&&t.nodeType!==i;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},"./node_modules/delegate/src/delegate.js":function(t,e,i){var r=i("./node_modules/delegate/src/closest.js");function _delegate(t,e,i,s,n){var o=function listener(t,e,i,s){return function(i){i.delegateTarget=r(i.target,e),i.delegateTarget&&s.call(t,i)}}.apply(this,arguments);return t.addEventListener(i,o,n),{destroy:function(){t.removeEventListener(i,o,n)}}}t.exports=function delegate(t,e,i,r,s){return"function"==typeof t.addEventListener?_delegate.apply(null,arguments):"function"==typeof i?_delegate.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return _delegate(t,e,i,r,s)}))}},"./node_modules/good-listener/src/is.js":function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var i=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===i||"[object HTMLCollection]"===i)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},"./node_modules/good-listener/src/listen.js":function(t,e,i){var r=i("./node_modules/good-listener/src/is.js"),s=i("./node_modules/delegate/src/delegate.js");t.exports=function listen(t,e,i){if(!t&&!e&&!i)throw new Error("Missing required arguments");if(!r.string(e))throw new TypeError("Second argument must be a String");if(!r.fn(i))throw new TypeError("Third argument must be a Function");if(r.node(t))return function listenNode(t,e,i){return t.addEventListener(e,i),{destroy:function(){t.removeEventListener(e,i)}}}(t,e,i);if(r.nodeList(t))return function listenNodeList(t,e,i){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,i)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,i)})}}}(t,e,i);if(r.string(t))return function listenSelector(t,e,i){return s(document.body,t,e,i)}(t,e,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},"./node_modules/htmlparser/lib/htmlparser.js":function(t,e){(function(i,r){!function(){if(!function runningInNode(){return"object"==typeof e&&"object"==typeof t&&"string"==typeof i&&"string"==typeof r}()){if(this.Tautologistics){if(this.Tautologistics.NodeHtmlParser)return}else this.Tautologistics={};this.Tautologistics.NodeHtmlParser={},e=this.Tautologistics.NodeHtmlParser}var s={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag"};function Parser(t,e){this._options=e||{},void 0==this._options.includeLocation&&(this._options.includeLocation=!1),this.validateHandler(t),this._handler=t,this.reset()}function RssHandler(t){RssHandler.super_.call(this,t,{ignoreWhitespace:!0,verbose:!1,enforceEmptyTags:!1})}function DefaultHandler(t,e){this.reset(),this._options=e||{},void 0==this._options.ignoreWhitespace&&(this._options.ignoreWhitespace=!1),void 0==this._options.verbose&&(this._options.verbose=!0),void 0==this._options.enforceEmptyTags&&(this._options.enforceEmptyTags=!0),"function"==typeof t&&(this._callback=t)}Parser._reTrim=/(^\s+|\s+$)/g,Parser._reTrimComment=/(^\!--|--$)/g,Parser._reWhitespace=/\s/g,Parser._reTagName=/^\s*(\/?)\s*([^\s\/]+)/,Parser._reAttrib=/([^=<>\"\'\s]+)\s*=\s*"([^"]*)"|([^=<>\"\'\s]+)\s*=\s*'([^']*)'|([^=<>\"\'\s]+)\s*=\s*([^'"\s]+)|([^=<>\"\'\s\/]+)/g,Parser._reTags=/[\<\>]/g,Parser.prototype.parseComplete=function Parser$parseComplete(t){this.reset(),this.parseChunk(t),this.done()},Parser.prototype.parseChunk=function Parser$parseChunk(t){this._done&&this.handleError(new Error("Attempted to parse chunk after parsing already done")),this._buffer+=t,this.parseTags()},Parser.prototype.done=function Parser$done(){if(!this._done){if(this._done=!0,this._buffer.length){var t=this._buffer;this._buffer="";var e={raw:t,data:this._parseState==s.Text?t:t.replace(Parser._reTrim,""),type:this._parseState};this._parseState!=s.Tag&&this._parseState!=s.Script&&this._parseState!=s.Style||(e.name=this.parseTagName(e.data)),this.parseAttribs(e),this._elements.push(e)}this.writeHandler(),this._handler.done()}},Parser.prototype.reset=function Parser$reset(){this._buffer="",this._done=!1,this._elements=[],this._elementsCurrent=0,this._current=0,this._next=0,this._location={row:0,col:0,charOffset:0,inBuffer:0},this._parseState=s.Text,this._prevTagSep="",this._tagStack=[],this._handler.reset()},Parser.prototype._options=null,Parser.prototype._handler=null,Parser.prototype._buffer=null,Parser.prototype._done=!1,Parser.prototype._elements=null,Parser.prototype._elementsCurrent=0,Parser.prototype._current=0,Parser.prototype._next=0,Parser.prototype._location=null,Parser.prototype._parseState=s.Text,Parser.prototype._prevTagSep="",Parser.prototype._tagStack=null,Parser.prototype.parseTagAttribs=function Parser$parseTagAttribs(t){for(var e=t.length,i=0;i<e;){var r=t[i++];r.type!=s.Tag&&r.type!=s.Script&&r.type!=s.style||this.parseAttribs(r)}return t},Parser.prototype.parseAttribs=function Parser$parseAttribs(t){if(t.type==s.Script||t.type==s.Style||t.type==s.Tag){var e,i=t.data.split(Parser._reWhitespace,1)[0],r=t.data.substring(i.length);if(!(r.length<1))for(Parser._reAttrib.lastIndex=0;e=Parser._reAttrib.exec(r);)void 0==t.attribs&&(t.attribs={}),"string"==typeof e[1]&&e[1].length?t.attribs[e[1]]=e[2]:"string"==typeof e[3]&&e[3].length?t.attribs[e[3].toString()]=e[4].toString():"string"==typeof e[5]&&e[5].length?t.attribs[e[5]]=e[6]:"string"==typeof e[7]&&e[7].length&&(t.attribs[e[7]]=e[7])}},Parser.prototype.parseTagName=function Parser$parseTagName(t){if(null==t||""==t)return"";var e=Parser._reTagName.exec(t);return e?(e[1]?"/":"")+e[2]:""},Parser.prototype.parseTags=function Parser$parseTags(){for(var t=this._buffer.length-1;Parser._reTags.test(this._buffer);){this._next=Parser._reTags.lastIndex-1;var e=this._buffer.charAt(this._next),i=this._buffer.substring(this._current,this._next),r={raw:i,data:this._parseState==s.Text?i:i.replace(Parser._reTrim,""),type:this._parseState},n=this.parseTagName(r.data);if(this._tagStack.length)if(this._tagStack[this._tagStack.length-1]==s.Script){if("/script"==n.toLowerCase())this._tagStack.pop();else if(0!=r.raw.indexOf("!--"))if(r.type=s.Text,this._elements.length&&this._elements[this._elements.length-1].type==s.Text)(o=this._elements[this._elements.length-1]).raw=o.data=o.raw+this._prevTagSep+r.raw,r.raw=r.data=""}else if(this._tagStack[this._tagStack.length-1]==s.Style){if("/style"==n.toLowerCase())this._tagStack.pop();else if(0!=r.raw.indexOf("!--"))if(r.type=s.Text,this._elements.length&&this._elements[this._elements.length-1].type==s.Text){var o=this._elements[this._elements.length-1];""!=r.raw?(o.raw=o.data=o.raw+this._prevTagSep+r.raw,r.raw=r.data=""):o.raw=o.data=o.raw+this._prevTagSep}else""!=r.raw&&(r.raw=r.data=r.raw)}else if(this._tagStack[this._tagStack.length-1]==s.Comment){var a=r.raw.length;if("-"==r.raw.charAt(a-2)&&"-"==r.raw.charAt(a-1)&&">"==e)if(this._tagStack.pop(),this._elements.length&&this._elements[this._elements.length-1].type==s.Comment)(o=this._elements[this._elements.length-1]).raw=o.data=(o.raw+r.raw).replace(Parser._reTrimComment,""),r.raw=r.data="",r.type=s.Text;else r.type=s.Comment;else if(r.type=s.Comment,this._elements.length&&this._elements[this._elements.length-1].type==s.Comment)(o=this._elements[this._elements.length-1]).raw=o.data=o.raw+r.raw+e,r.raw=r.data="",r.type=s.Text;else r.raw=r.data=r.raw+e}if(r.type==s.Tag){r.name=n;var l=n.toLowerCase();if(0==r.raw.indexOf("!--")){r.type=s.Comment,delete r.name;a=r.raw.length;"-"==r.raw.charAt(a-1)&&"-"==r.raw.charAt(a-2)&&">"==e?r.raw=r.data=r.raw.replace(Parser._reTrimComment,""):(r.raw+=e,this._tagStack.push(s.Comment))}else 0==r.raw.indexOf("!")||0==r.raw.indexOf("?")?r.type=s.Directive:"script"==l?(r.type=s.Script,"/"!=r.data.charAt(r.data.length-1)&&this._tagStack.push(s.Script)):"/script"==l?r.type=s.Script:"style"==l?(r.type=s.Style,"/"!=r.data.charAt(r.data.length-1)&&this._tagStack.push(s.Style)):"/style"==l&&(r.type=s.Style);r.name&&"/"==r.name.charAt(0)&&(r.data=r.name)}""==r.raw&&r.type==s.Text||(this._options.includeLocation&&!r.location&&(r.location=this.getLocation(r.type==s.Tag)),this.parseAttribs(r),this._elements.push(r),r.type!=s.Text&&r.type!=s.Comment&&r.type!=s.Directive&&"/"==r.data.charAt(r.data.length-1)&&this._elements.push({raw:"/"+r.name,data:"/"+r.name,name:"/"+r.name,type:r.type})),this._parseState="<"==e?s.Tag:s.Text,this._current=this._next+1,this._prevTagSep=e}this._options.includeLocation&&(this.getLocation(),this._location.row+=this._location.inBuffer,this._location.inBuffer=0,this._location.charOffset=0),this._buffer=this._current<=t?this._buffer.substring(this._current):"",this._current=0,this.writeHandler()},Parser.prototype.getLocation=function Parser$getLocation(t){for(var e,i=this._location,r=this._current-(t?1:0),s=t&&0==i.charOffset&&0==this._current;i.charOffset<r;i.charOffset++)"\n"==(e=this._buffer.charAt(i.charOffset))?(i.inBuffer++,i.col=0):"\r"!=e&&i.col++;return{line:i.row+i.inBuffer+1,col:i.col+(s?0:1)}},Parser.prototype.validateHandler=function Parser$validateHandler(t){if("object"!=typeof t)throw new Error("Handler is not an object");if("function"!=typeof t.reset)throw new Error("Handler method 'reset' is invalid");if("function"!=typeof t.done)throw new Error("Handler method 'done' is invalid");if("function"!=typeof t.writeTag)throw new Error("Handler method 'writeTag' is invalid");if("function"!=typeof t.writeText)throw new Error("Handler method 'writeText' is invalid");if("function"!=typeof t.writeComment)throw new Error("Handler method 'writeComment' is invalid");if("function"!=typeof t.writeDirective)throw new Error("Handler method 'writeDirective' is invalid")},Parser.prototype.writeHandler=function Parser$writeHandler(t){if(t=!!t,!this._tagStack.length||t)for(;this._elements.length;){var e=this._elements.shift();switch(e.type){case s.Comment:this._handler.writeComment(e);break;case s.Directive:this._handler.writeDirective(e);break;case s.Text:this._handler.writeText(e);break;default:this._handler.writeTag(e)}}},Parser.prototype.handleError=function Parser$handleError(t){if("function"!=typeof this._handler.error)throw t;this._handler.error(t)},function inherits(t,e){var i=function(){};i.prototype=e.prototype,t.super_=e,t.prototype=new i,t.prototype.constructor=t}(RssHandler,DefaultHandler),RssHandler.prototype.done=function RssHandler$done(){var t,e={},i=n.getElementsByTagName(function(t){return"rss"==t||"feed"==t},this.dom,!1);if(i.length&&(t=i[0]),t){if("rss"==t.name){e.type="rss",t=t.children[0],e.id="";try{e.title=n.getElementsByTagName("title",t.children,!1)[0].children[0].data}catch(t){}try{e.link=n.getElementsByTagName("link",t.children,!1)[0].children[0].data}catch(t){}try{e.description=n.getElementsByTagName("description",t.children,!1)[0].children[0].data}catch(t){}try{e.updated=new Date(n.getElementsByTagName("lastBuildDate",t.children,!1)[0].children[0].data)}catch(t){}try{e.author=n.getElementsByTagName("managingEditor",t.children,!1)[0].children[0].data}catch(t){}e.items=[],n.getElementsByTagName("item",t.children).forEach(function(t,i,r){var s={};try{s.id=n.getElementsByTagName("guid",t.children,!1)[0].children[0].data}catch(t){}try{s.title=n.getElementsByTagName("title",t.children,!1)[0].children[0].data}catch(t){}try{s.link=n.getElementsByTagName("link",t.children,!1)[0].children[0].data}catch(t){}try{s.description=n.getElementsByTagName("description",t.children,!1)[0].children[0].data}catch(t){}try{s.pubDate=new Date(n.getElementsByTagName("pubDate",t.children,!1)[0].children[0].data)}catch(t){}e.items.push(s)})}else{e.type="atom";try{e.id=n.getElementsByTagName("id",t.children,!1)[0].children[0].data}catch(t){}try{e.title=n.getElementsByTagName("title",t.children,!1)[0].children[0].data}catch(t){}try{e.link=n.getElementsByTagName("link",t.children,!1)[0].attribs.href}catch(t){}try{e.description=n.getElementsByTagName("subtitle",t.children,!1)[0].children[0].data}catch(t){}try{e.updated=new Date(n.getElementsByTagName("updated",t.children,!1)[0].children[0].data)}catch(t){}try{e.author=n.getElementsByTagName("email",t.children,!0)[0].children[0].data}catch(t){}e.items=[],n.getElementsByTagName("entry",t.children).forEach(function(t,i,r){var s={};try{s.id=n.getElementsByTagName("id",t.children,!1)[0].children[0].data}catch(t){}try{s.title=n.getElementsByTagName("title",t.children,!1)[0].children[0].data}catch(t){}try{s.link=n.getElementsByTagName("link",t.children,!1)[0].attribs.href}catch(t){}try{s.description=n.getElementsByTagName("summary",t.children,!1)[0].children[0].data}catch(t){}try{s.pubDate=new Date(n.getElementsByTagName("updated",t.children,!1)[0].children[0].data)}catch(t){}e.items.push(s)})}this.dom=e}RssHandler.super_.prototype.done.call(this)},DefaultHandler._emptyTags={area:1,base:1,basefont:1,br:1,col:1,frame:1,hr:1,img:1,input:1,isindex:1,link:1,meta:1,param:1,embed:1},DefaultHandler.reWhitespace=/^\s*$/,DefaultHandler.prototype.dom=null,DefaultHandler.prototype.reset=function DefaultHandler$reset(){this.dom=[],this._done=!1,this._tagStack=[],this._tagStack.last=function DefaultHandler$_tagStack$last(){return this.length?this[this.length-1]:null}},DefaultHandler.prototype.done=function DefaultHandler$done(){this._done=!0,this.handleCallback(null)},DefaultHandler.prototype.writeTag=function DefaultHandler$writeTag(t){this.handleElement(t)},DefaultHandler.prototype.writeText=function DefaultHandler$writeText(t){this._options.ignoreWhitespace&&DefaultHandler.reWhitespace.test(t.data)||this.handleElement(t)},DefaultHandler.prototype.writeComment=function DefaultHandler$writeComment(t){this.handleElement(t)},DefaultHandler.prototype.writeDirective=function DefaultHandler$writeDirective(t){this.handleElement(t)},DefaultHandler.prototype.error=function DefaultHandler$error(t){this.handleCallback(t)},DefaultHandler.prototype._options=null,DefaultHandler.prototype._callback=null,DefaultHandler.prototype._done=!1,DefaultHandler.prototype._tagStack=null,DefaultHandler.prototype.handleCallback=function DefaultHandler$handleCallback(t){if("function"==typeof this._callback)this._callback(t,this.dom);else if(t)throw t},DefaultHandler.prototype.isEmptyTag=function(t){var e=t.name.toLowerCase();return"/"==e.charAt(0)&&(e=e.substring(1)),this._options.enforceEmptyTags&&!!DefaultHandler._emptyTags[e]},DefaultHandler.prototype.handleElement=function DefaultHandler$handleElement(t){if(this._done&&this.handleCallback(new Error("Writing to the handler after done() called is not allowed without a reset()")),this._options.verbose||(delete t.raw,"tag"!=t.type&&"script"!=t.type&&"style"!=t.type||delete t.data),this._tagStack.last())if(t.type!=s.Text&&t.type!=s.Comment&&t.type!=s.Directive)if("/"==t.name.charAt(0)){var e=t.name.substring(1);if(!this.isEmptyTag(t)){for(var i=this._tagStack.length-1;i>-1&&this._tagStack[i--].name!=e;);if(i>-1||this._tagStack[0].name==e)for(;i<this._tagStack.length-1;)this._tagStack.pop()}}else this._tagStack.last().children||(this._tagStack.last().children=[]),this._tagStack.last().children.push(t),this.isEmptyTag(t)||this._tagStack.push(t);else this._tagStack.last().children||(this._tagStack.last().children=[]),this._tagStack.last().children.push(t);else t.type!=s.Text&&t.type!=s.Comment&&t.type!=s.Directive?"/"!=t.name.charAt(0)&&(this.dom.push(t),this.isEmptyTag(t)||this._tagStack.push(t)):this.dom.push(t)};var n={testElement:function DomUtils$testElement(t,e){if(!e)return!1;for(var i in t)if("tag_name"==i){if("tag"!=e.type&&"script"!=e.type&&"style"!=e.type)return!1;if(!t.tag_name(e.name))return!1}else if("tag_type"==i){if(!t.tag_type(e.type))return!1}else if("tag_contains"==i){if("text"!=e.type&&"comment"!=e.type&&"directive"!=e.type)return!1;if(!t.tag_contains(e.data))return!1}else if(!e.attribs||!t[i](e.attribs[i]))return!1;return!0},getElements:function DomUtils$getElements(t,e,i,r){if(i=void 0===i||null===i||!!i,r=isNaN(parseInt(r))?-1:parseInt(r),!e)return[];var s,o=[];function getTest(t){return function(e){return e==t}}for(var a in t)"function"!=typeof t[a]&&(t[a]=getTest(t[a]));if(n.testElement(t,e)&&o.push(e),r>=0&&o.length>=r)return o;if(i&&e.children)s=e.children;else{if(!(e instanceof Array))return o;s=e}for(var l=0;l<s.length&&(o=o.concat(n.getElements(t,s[l],i,r)),!(r>=0&&o.length>=r));l++);return o},getElementById:function DomUtils$getElementById(t,e,i){var r=n.getElements({id:t},e,i,1);return r.length?r[0]:null},getElementsByTagName:function DomUtils$getElementsByTagName(t,e,i,r){return n.getElements({tag_name:t},e,i,r)},getElementsByTagType:function DomUtils$getElementsByTagType(t,e,i,r){return n.getElements({tag_type:t},e,i,r)}};e.Parser=Parser,e.DefaultHandler=DefaultHandler,e.RssHandler=RssHandler,e.ElementType=s,e.DomUtils=n}()}).call(this,"/index.js","/")},"./node_modules/lodash/create.js":function(t,e,i){var r=i("./node_modules/lodash/_baseAssign.js"),s=i("./node_modules/lodash/_baseCreate.js");t.exports=function create(t,e){var i=s(t);return null==e?i:r(i,e)}},"./node_modules/lodash/difference.js":function(t,e,i){var r=i("./node_modules/lodash/_baseDifference.js"),s=i("./node_modules/lodash/_baseFlatten.js"),n=i("./node_modules/lodash/_baseRest.js"),o=i("./node_modules/lodash/isArrayLikeObject.js"),a=n(function(t,e){return o(t)?r(t,s(e,1,o,!0)):[]});t.exports=a},"./node_modules/lodash/isNull.js":function(t,e){t.exports=function isNull(t){return null===t}},"./node_modules/lodash/result.js":function(t,e,i){var r=i("./node_modules/lodash/_castPath.js"),s=i("./node_modules/lodash/isFunction.js"),n=i("./node_modules/lodash/_toKey.js");t.exports=function result(t,e,i){var o=-1,a=(e=r(e,t)).length;for(a||(a=1,t=void 0);++o<a;){var l=null==t?void 0:t[n(e[o])];void 0===l&&(o=a,l=i),t=s(l)?l.call(t):l}return t}},"./node_modules/select/src/select.js":function(t,e){t.exports=function select(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var i=t.hasAttribute("readonly");i||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),i||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var r=window.getSelection(),s=document.createRange();s.selectNodeContents(t),r.removeAllRanges(),r.addRange(s),e=r.toString()}return e}},"./node_modules/tiny-emitter/index.js":function(t,e){function E(){}E.prototype={on:function(t,e,i){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var r=this;function listener(){r.off(t,listener),e.apply(i,arguments)}return listener._=e,this.on(t,listener,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),r=0,s=i.length;r<s;r++)i[r].fn.apply(i[r].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),r=i[t],s=[];if(r&&e)for(var n=0,o=r.length;n<o;n++)r[n].fn!==e&&r[n].fn._!==e&&s.push(r[n]);return s.length?i[t]=s:delete i[t],this}},t.exports=E},"./node_modules/underscore/underscore.js":function(t,e,i){var r;(function(){var i=this,s=i._,n=Array.prototype,o=Object.prototype,a=Function.prototype,l=n.push,h=n.slice,c=o.toString,u=o.hasOwnProperty,p=Array.isArray,f=Object.keys,d=a.bind,m=Object.create,y=function(){},g=function(t){return t instanceof g?t:this instanceof g?void(this._wrapped=t):new g(t)};void 0!==t&&t.exports&&(e=t.exports=g),e._=g,g.VERSION="1.8.3";var v=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,s){return t.call(e,i,r,s)};case 4:return function(i,r,s,n){return t.call(e,i,r,s,n)}}return function(){return t.apply(e,arguments)}},b=function(t,e,i){return null==t?g.identity:g.isFunction(t)?v(t,e,i):g.isObject(t)?g.matcher(t):g.property(t)};g.iteratee=function(t,e){return b(t,e,1/0)};var k=function(t,e){return function(i){var r=arguments.length;if(r<2||null==i)return i;for(var s=1;s<r;s++)for(var n=arguments[s],o=t(n),a=o.length,l=0;l<a;l++){var h=o[l];e&&void 0!==i[h]||(i[h]=n[h])}return i}},w=function(t){if(!g.isObject(t))return{};if(m)return m(t);y.prototype=t;var e=new y;return y.prototype=null,e},T=function(t){return function(e){return null==e?void 0:e[t]}},x=Math.pow(2,53)-1,_=T("length"),C=function(t){var e=_(t);return"number"==typeof e&&e>=0&&e<=x};function createReduce(t){return function(e,i,r,s){i=v(i,s,4);var n=!C(e)&&g.keys(e),o=(n||e).length,a=t>0?0:o-1;return arguments.length<3&&(r=e[n?n[a]:a],a+=t),function iterator(e,i,r,s,n,o){for(;n>=0&&n<o;n+=t){var a=s?s[n]:n;r=i(r,e[a],a,e)}return r}(e,i,r,n,a,o)}}g.each=g.forEach=function(t,e,i){var r,s;if(e=v(e,i),C(t))for(r=0,s=t.length;r<s;r++)e(t[r],r,t);else{var n=g.keys(t);for(r=0,s=n.length;r<s;r++)e(t[n[r]],n[r],t)}return t},g.map=g.collect=function(t,e,i){e=b(e,i);for(var r=!C(t)&&g.keys(t),s=(r||t).length,n=Array(s),o=0;o<s;o++){var a=r?r[o]:o;n[o]=e(t[a],a,t)}return n},g.reduce=g.foldl=g.inject=createReduce(1),g.reduceRight=g.foldr=createReduce(-1),g.find=g.detect=function(t,e,i){var r;if(void 0!==(r=C(t)?g.findIndex(t,e,i):g.findKey(t,e,i))&&-1!==r)return t[r]},g.filter=g.select=function(t,e,i){var r=[];return e=b(e,i),g.each(t,function(t,i,s){e(t,i,s)&&r.push(t)}),r},g.reject=function(t,e,i){return g.filter(t,g.negate(b(e)),i)},g.every=g.all=function(t,e,i){e=b(e,i);for(var r=!C(t)&&g.keys(t),s=(r||t).length,n=0;n<s;n++){var o=r?r[n]:n;if(!e(t[o],o,t))return!1}return!0},g.some=g.any=function(t,e,i){e=b(e,i);for(var r=!C(t)&&g.keys(t),s=(r||t).length,n=0;n<s;n++){var o=r?r[n]:n;if(e(t[o],o,t))return!0}return!1},g.contains=g.includes=g.include=function(t,e,i,r){return C(t)||(t=g.values(t)),("number"!=typeof i||r)&&(i=0),g.indexOf(t,e,i)>=0},g.invoke=function(t,e){var i=h.call(arguments,2),r=g.isFunction(e);return g.map(t,function(t){var s=r?e:t[e];return null==s?s:s.apply(t,i)})},g.pluck=function(t,e){return g.map(t,g.property(e))},g.where=function(t,e){return g.filter(t,g.matcher(e))},g.findWhere=function(t,e){return g.find(t,g.matcher(e))},g.max=function(t,e,i){var r,s,n=-1/0,o=-1/0;if(null==e&&null!=t)for(var a=0,l=(t=C(t)?t:g.values(t)).length;a<l;a++)(r=t[a])>n&&(n=r);else e=b(e,i),g.each(t,function(t,i,r){((s=e(t,i,r))>o||s===-1/0&&n===-1/0)&&(n=t,o=s)});return n},g.min=function(t,e,i){var r,s,n=1/0,o=1/0;if(null==e&&null!=t)for(var a=0,l=(t=C(t)?t:g.values(t)).length;a<l;a++)(r=t[a])<n&&(n=r);else e=b(e,i),g.each(t,function(t,i,r){((s=e(t,i,r))<o||s===1/0&&n===1/0)&&(n=t,o=s)});return n},g.shuffle=function(t){for(var e,i=C(t)?t:g.values(t),r=i.length,s=Array(r),n=0;n<r;n++)(e=g.random(0,n))!==n&&(s[n]=s[e]),s[e]=i[n];return s},g.sample=function(t,e,i){return null==e||i?(C(t)||(t=g.values(t)),t[g.random(t.length-1)]):g.shuffle(t).slice(0,Math.max(0,e))},g.sortBy=function(t,e,i){return e=b(e,i),g.pluck(g.map(t,function(t,i,r){return{value:t,index:i,criteria:e(t,i,r)}}).sort(function(t,e){var i=t.criteria,r=e.criteria;if(i!==r){if(i>r||void 0===i)return 1;if(i<r||void 0===r)return-1}return t.index-e.index}),"value")};var E=function(t){return function(e,i,r){var s={};return i=b(i,r),g.each(e,function(r,n){var o=i(r,n,e);t(s,r,o)}),s}};g.groupBy=E(function(t,e,i){g.has(t,i)?t[i].push(e):t[i]=[e]}),g.indexBy=E(function(t,e,i){t[i]=e}),g.countBy=E(function(t,e,i){g.has(t,i)?t[i]++:t[i]=1}),g.toArray=function(t){return t?g.isArray(t)?h.call(t):C(t)?g.map(t,g.identity):g.values(t):[]},g.size=function(t){return null==t?0:C(t)?t.length:g.keys(t).length},g.partition=function(t,e,i){e=b(e,i);var r=[],s=[];return g.each(t,function(t,i,n){(e(t,i,n)?r:s).push(t)}),[r,s]},g.first=g.head=g.take=function(t,e,i){if(null!=t)return null==e||i?t[0]:g.initial(t,t.length-e)},g.initial=function(t,e,i){return h.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},g.last=function(t,e,i){if(null!=t)return null==e||i?t[t.length-1]:g.rest(t,Math.max(0,t.length-e))},g.rest=g.tail=g.drop=function(t,e,i){return h.call(t,null==e||i?1:e)},g.compact=function(t){return g.filter(t,g.identity)};var S=function(t,e,i,r){for(var s=[],n=0,o=r||0,a=_(t);o<a;o++){var l=t[o];if(C(l)&&(g.isArray(l)||g.isArguments(l))){e||(l=S(l,e,i));var h=0,c=l.length;for(s.length+=c;h<c;)s[n++]=l[h++]}else i||(s[n++]=l)}return s};function createPredicateIndexFinder(t){return function(e,i,r){i=b(i,r);for(var s=_(e),n=t>0?0:s-1;n>=0&&n<s;n+=t)if(i(e[n],n,e))return n;return-1}}function createIndexFinder(t,e,i){return function(r,s,n){var o=0,a=_(r);if("number"==typeof n)t>0?o=n>=0?n:Math.max(n+a,o):a=n>=0?Math.min(n+1,a):n+a+1;else if(i&&n&&a)return r[n=i(r,s)]===s?n:-1;if(s!=s)return(n=e(h.call(r,o,a),g.isNaN))>=0?n+o:-1;for(n=t>0?o:a-1;n>=0&&n<a;n+=t)if(r[n]===s)return n;return-1}}g.flatten=function(t,e){return S(t,e,!1)},g.without=function(t){return g.difference(t,h.call(arguments,1))},g.uniq=g.unique=function(t,e,i,r){g.isBoolean(e)||(r=i,i=e,e=!1),null!=i&&(i=b(i,r));for(var s=[],n=[],o=0,a=_(t);o<a;o++){var l=t[o],h=i?i(l,o,t):l;e?(o&&n===h||s.push(l),n=h):i?g.contains(n,h)||(n.push(h),s.push(l)):g.contains(s,l)||s.push(l)}return s},g.union=function(){return g.uniq(S(arguments,!0,!0))},g.intersection=function(t){for(var e=[],i=arguments.length,r=0,s=_(t);r<s;r++){var n=t[r];if(!g.contains(e,n)){for(var o=1;o<i&&g.contains(arguments[o],n);o++);o===i&&e.push(n)}}return e},g.difference=function(t){var e=S(arguments,!0,!0,1);return g.filter(t,function(t){return!g.contains(e,t)})},g.zip=function(){return g.unzip(arguments)},g.unzip=function(t){for(var e=t&&g.max(t,_).length||0,i=Array(e),r=0;r<e;r++)i[r]=g.pluck(t,r);return i},g.object=function(t,e){for(var i={},r=0,s=_(t);r<s;r++)e?i[t[r]]=e[r]:i[t[r][0]]=t[r][1];return i},g.findIndex=createPredicateIndexFinder(1),g.findLastIndex=createPredicateIndexFinder(-1),g.sortedIndex=function(t,e,i,r){for(var s=(i=b(i,r,1))(e),n=0,o=_(t);n<o;){var a=Math.floor((n+o)/2);i(t[a])<s?n=a+1:o=a}return n},g.indexOf=createIndexFinder(1,g.findIndex,g.sortedIndex),g.lastIndexOf=createIndexFinder(-1,g.findLastIndex),g.range=function(t,e,i){null==e&&(e=t||0,t=0),i=i||1;for(var r=Math.max(Math.ceil((e-t)/i),0),s=Array(r),n=0;n<r;n++,t+=i)s[n]=t;return s};var A=function(t,e,i,r,s){if(!(r instanceof e))return t.apply(i,s);var n=w(t.prototype),o=t.apply(n,s);return g.isObject(o)?o:n};g.bind=function(t,e){if(d&&t.bind===d)return d.apply(t,h.call(arguments,1));if(!g.isFunction(t))throw new TypeError("Bind must be called on a function");var i=h.call(arguments,2),r=function(){return A(t,r,e,this,i.concat(h.call(arguments)))};return r},g.partial=function(t){var e=h.call(arguments,1),i=function(){for(var r=0,s=e.length,n=Array(s),o=0;o<s;o++)n[o]=e[o]===g?arguments[r++]:e[o];for(;r<arguments.length;)n.push(arguments[r++]);return A(t,i,this,this,n)};return i},g.bindAll=function(t){var e,i,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(e=1;e<r;e++)t[i=arguments[e]]=g.bind(t[i],t);return t},g.memoize=function(t,e){var i=function(r){var s=i.cache,n=""+(e?e.apply(this,arguments):r);return g.has(s,n)||(s[n]=t.apply(this,arguments)),s[n]};return i.cache={},i},g.delay=function(t,e){var i=h.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},g.defer=g.partial(g.delay,g,1),g.throttle=function(t,e,i){var r,s,n,o=null,a=0;i||(i={});var l=function(){a=!1===i.leading?0:g.now(),o=null,n=t.apply(r,s),o||(r=s=null)};return function(){var h=g.now();a||!1!==i.leading||(a=h);var c=e-(h-a);return r=this,s=arguments,c<=0||c>e?(o&&(clearTimeout(o),o=null),a=h,n=t.apply(r,s),o||(r=s=null)):o||!1===i.trailing||(o=setTimeout(l,c)),n}},g.debounce=function(t,e,i){var r,s,n,o,a,l=function(){var h=g.now()-o;h<e&&h>=0?r=setTimeout(l,e-h):(r=null,i||(a=t.apply(n,s),r||(n=s=null)))};return function(){n=this,s=arguments,o=g.now();var h=i&&!r;return r||(r=setTimeout(l,e)),h&&(a=t.apply(n,s),n=s=null),a}},g.wrap=function(t,e){return g.partial(e,t)},g.negate=function(t){return function(){return!t.apply(this,arguments)}},g.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,r=t[e].apply(this,arguments);i--;)r=t[i].call(this,r);return r}},g.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},g.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},g.once=g.partial(g.before,2);var P=!{toString:null}.propertyIsEnumerable("toString"),H=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function collectNonEnumProps(t,e){var i=H.length,r=t.constructor,s=g.isFunction(r)&&r.prototype||o,n="constructor";for(g.has(t,n)&&!g.contains(e,n)&&e.push(n);i--;)(n=H[i])in t&&t[n]!==s[n]&&!g.contains(e,n)&&e.push(n)}g.keys=function(t){if(!g.isObject(t))return[];if(f)return f(t);var e=[];for(var i in t)g.has(t,i)&&e.push(i);return P&&collectNonEnumProps(t,e),e},g.allKeys=function(t){if(!g.isObject(t))return[];var e=[];for(var i in t)e.push(i);return P&&collectNonEnumProps(t,e),e},g.values=function(t){for(var e=g.keys(t),i=e.length,r=Array(i),s=0;s<i;s++)r[s]=t[e[s]];return r},g.mapObject=function(t,e,i){e=b(e,i);for(var r,s=g.keys(t),n=s.length,o={},a=0;a<n;a++)o[r=s[a]]=e(t[r],r,t);return o},g.pairs=function(t){for(var e=g.keys(t),i=e.length,r=Array(i),s=0;s<i;s++)r[s]=[e[s],t[e[s]]];return r},g.invert=function(t){for(var e={},i=g.keys(t),r=0,s=i.length;r<s;r++)e[t[i[r]]]=i[r];return e},g.functions=g.methods=function(t){var e=[];for(var i in t)g.isFunction(t[i])&&e.push(i);return e.sort()},g.extend=k(g.allKeys),g.extendOwn=g.assign=k(g.keys),g.findKey=function(t,e,i){e=b(e,i);for(var r,s=g.keys(t),n=0,o=s.length;n<o;n++)if(e(t[r=s[n]],r,t))return r},g.pick=function(t,e,i){var r,s,n={},o=t;if(null==o)return n;g.isFunction(e)?(s=g.allKeys(o),r=v(e,i)):(s=S(arguments,!1,!1,1),r=function(t,e,i){return e in i},o=Object(o));for(var a=0,l=s.length;a<l;a++){var h=s[a],c=o[h];r(c,h,o)&&(n[h]=c)}return n},g.omit=function(t,e,i){if(g.isFunction(e))e=g.negate(e);else{var r=g.map(S(arguments,!1,!1,1),String);e=function(t,e){return!g.contains(r,e)}}return g.pick(t,e,i)},g.defaults=k(g.allKeys,!0),g.create=function(t,e){var i=w(t);return e&&g.extendOwn(i,e),i},g.clone=function(t){return g.isObject(t)?g.isArray(t)?t.slice():g.extend({},t):t},g.tap=function(t,e){return e(t),t},g.isMatch=function(t,e){var i=g.keys(e),r=i.length;if(null==t)return!r;for(var s=Object(t),n=0;n<r;n++){var o=i[n];if(e[o]!==s[o]||!(o in s))return!1}return!0};var M=function(t,e,i,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof g&&(t=t._wrapped),e instanceof g&&(e=e._wrapped);var s=c.call(t);if(s!==c.call(e))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var n="[object Array]"===s;if(!n){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,a=e.constructor;if(o!==a&&!(g.isFunction(o)&&o instanceof o&&g.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],r=r||[];for(var l=i.length;l--;)if(i[l]===t)return r[l]===e;if(i.push(t),r.push(e),n){if((l=t.length)!==e.length)return!1;for(;l--;)if(!M(t[l],e[l],i,r))return!1}else{var h,u=g.keys(t);if(l=u.length,g.keys(e).length!==l)return!1;for(;l--;)if(h=u[l],!g.has(e,h)||!M(t[h],e[h],i,r))return!1}return i.pop(),r.pop(),!0};g.isEqual=function(t,e){return M(t,e)},g.isEmpty=function(t){return null==t||(C(t)&&(g.isArray(t)||g.isString(t)||g.isArguments(t))?0===t.length:0===g.keys(t).length)},g.isElement=function(t){return!(!t||1!==t.nodeType)},g.isArray=p||function(t){return"[object Array]"===c.call(t)},g.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},g.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){g["is"+t]=function(e){return c.call(e)==="[object "+t+"]"}}),g.isArguments(arguments)||(g.isArguments=function(t){return g.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(g.isFunction=function(t){return"function"==typeof t||!1}),g.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},g.isNaN=function(t){return g.isNumber(t)&&t!==+t},g.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===c.call(t)},g.isNull=function(t){return null===t},g.isUndefined=function(t){return void 0===t},g.has=function(t,e){return null!=t&&u.call(t,e)},g.noConflict=function(){return i._=s,this},g.identity=function(t){return t},g.constant=function(t){return function(){return t}},g.noop=function(){},g.property=T,g.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},g.matcher=g.matches=function(t){return t=g.extendOwn({},t),function(e){return g.isMatch(e,t)}},g.times=function(t,e,i){var r=Array(Math.max(0,t));e=v(e,i,1);for(var s=0;s<t;s++)r[s]=e(s);return r},g.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},g.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},D=g.invert(L),R=function(t){var e=function(e){return t[e]},i="(?:"+g.keys(t).join("|")+")",r=RegExp(i),s=RegExp(i,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(s,e):t}};g.escape=R(L),g.unescape=R(D),g.result=function(t,e,i){var r=null==t?void 0:t[e];return void 0===r&&(r=i),g.isFunction(r)?r.call(t):r};var B=0;g.uniqueId=function(t){var e=++B+"";return t?t+e:e},g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\u2028|\u2029/g,I=function(t){return"\\"+N[t]};g.template=function(t,e,i){!e&&i&&(e=i),e=g.defaults({},e,g.templateSettings);var r=RegExp([(e.escape||j).source,(e.interpolate||j).source,(e.evaluate||j).source].join("|")+"|$","g"),s=0,n="__p+='";t.replace(r,function(e,i,r,o,a){return n+=t.slice(s,a).replace(O,I),s=a+e.length,i?n+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":r?n+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(n+="';\n"+o+"\n__p+='"),e}),n+="';\n",e.variable||(n="with(obj||{}){\n"+n+"}\n"),n="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+n+"return __p;\n";try{var o=new Function(e.variable||"obj","_",n)}catch(t){throw t.source=n,t}var a=function(t){return o.call(this,t,g)},l=e.variable||"obj";return a.source="function("+l+"){\n"+n+"}",a},g.chain=function(t){var e=g(t);return e._chain=!0,e};var F=function(t,e){return t._chain?g(e).chain():e};g.mixin=function(t){g.each(g.functions(t),function(e){var i=g[e]=t[e];g.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),F(this,i.apply(g,t))}})},g.mixin(g),g.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];g.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],F(this,i)}}),g.each(["concat","join","slice"],function(t){var e=n[t];g.prototype[t]=function(){return F(this,e.apply(this._wrapped,arguments))}}),g.prototype.value=function(){return this._wrapped},g.prototype.valueOf=g.prototype.toJSON=g.prototype.value,g.prototype.toString=function(){return""+this._wrapped},void 0===(r=function(){return g}.apply(e,[]))||(t.exports=r)}).call(this)},"./node_modules/xterm/dist/xterm.js":function(t,e){!function(i){if("object"==typeof e&&void 0!==t)t.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Terminal=i()}}(function(){return function e(t,i,r){function s(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(n)return n(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[o]={exports:{}};t[o][0].call(c.exports,function(e){var i=t[o][1][e];return s(i||e)},c,c.exports,e,t,i,r)}return i[o].exports}for(var n="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(t,e,i){"use strict";var r=function(){function CompositionHelper(t,e,i){this.textarea=t,this.compositionView=e,this.terminal=i,this.isComposing=!1,this.isSendingComposition=!1,this.compositionPosition={start:null,end:null}}return CompositionHelper.prototype.compositionstart=function(){this.isComposing=!0,this.compositionPosition.start=this.textarea.value.length,this.compositionView.textContent="",this.compositionView.classList.add("active")},CompositionHelper.prototype.compositionupdate=function(t){this.compositionView.textContent=t.data,this.updateCompositionElements();var e=this;setTimeout(function(){e.compositionPosition.end=e.textarea.value.length},0)},CompositionHelper.prototype.compositionend=function(){this.finalizeComposition(!0)},CompositionHelper.prototype.keydown=function(t){if(this.isComposing||this.isSendingComposition){if(229===t.keyCode)return!1;if(16===t.keyCode||17===t.keyCode||18===t.keyCode)return!1;this.finalizeComposition(!1)}return 229!==t.keyCode||(this.handleAnyTextareaChanges(),!1)},CompositionHelper.prototype.finalizeComposition=function(t){if(this.compositionView.classList.remove("active"),this.isComposing=!1,this.clearTextareaPosition(),t){var e={start:this.compositionPosition.start,end:this.compositionPosition.end},i=this;this.isSendingComposition=!0,setTimeout(function(){var t;i.isSendingComposition&&(i.isSendingComposition=!1,t=i.isComposing?i.textarea.value.substring(e.start,e.end):i.textarea.value.substring(e.start),i.terminal.handler(t))},0)}else{this.isSendingComposition=!1;var r=this.textarea.value.substring(this.compositionPosition.start,this.compositionPosition.end);this.terminal.handler(r)}},CompositionHelper.prototype.handleAnyTextareaChanges=function(){var t=this.textarea.value,e=this;setTimeout(function(){if(!e.isComposing){var i=e.textarea.value.replace(t,"");i.length>0&&e.terminal.handler(i)}},0)},CompositionHelper.prototype.updateCompositionElements=function(t){if(this.isComposing){var e=this.terminal.element.querySelector(".terminal-cursor");if(e){var i=this.terminal.element.querySelector(".xterm-rows").offsetTop+e.offsetTop;this.compositionView.style.left=e.offsetLeft+"px",this.compositionView.style.top=i+"px",this.compositionView.style.height=e.offsetHeight+"px",this.compositionView.style.lineHeight=e.offsetHeight+"px";var r=this.compositionView.getBoundingClientRect();this.textarea.style.left=e.offsetLeft+"px",this.textarea.style.top=i+"px",this.textarea.style.width=r.width+"px",this.textarea.style.height=r.height+"px",this.textarea.style.lineHeight=r.height+"px"}t||setTimeout(this.updateCompositionElements.bind(this,!0),0)}},CompositionHelper.prototype.clearTextareaPosition=function(){this.textarea.style.left="",this.textarea.style.top=""},CompositionHelper}();i.CompositionHelper=r},{}],2:[function(t,e,i){"use strict";function EventEmitter(){this._events=this._events||{}}i.EventEmitter=EventEmitter,EventEmitter.prototype.addListener=function(t,e){this._events[t]=this._events[t]||[],this._events[t].push(e)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.removeListener=function(t,e){if(this._events[t])for(var i=this._events[t],r=i.length;r--;)if(i[r]===e||i[r].listener===e)return void i.splice(r,1)},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(t){this._events[t]&&delete this._events[t]},EventEmitter.prototype.once=function(t,e){function on(){var i=Array.prototype.slice.call(arguments);return this.removeListener(t,on),e.apply(this,i)}return on.listener=e,this.on(t,on)},EventEmitter.prototype.emit=function(t){if(this._events[t])for(var e=Array.prototype.slice.call(arguments,1),i=this._events[t],r=i.length,s=0;s<r;s++)i[s].apply(this,e)},EventEmitter.prototype.listeners=function(t){return this._events[t]=this._events[t]||[]}},{}],3:[function(t,e,i){"use strict";var r=function(){function Viewport(t,e,i,r){this.terminal=t,this.viewportElement=e,this.scrollArea=i,this.charMeasureElement=r,this.currentRowHeight=0,this.lastRecordedBufferLength=0,this.lastRecordedViewportHeight=0,this.terminal.on("scroll",this.syncScrollArea.bind(this)),this.terminal.on("resize",this.syncScrollArea.bind(this)),this.viewportElement.addEventListener("scroll",this.onScroll.bind(this)),this.syncScrollArea()}return Viewport.prototype.refresh=function(t){var e=t||this.charMeasureElement.getBoundingClientRect();if(e.height>0){var i=e.height!==this.currentRowHeight;i&&(this.currentRowHeight=e.height,this.viewportElement.style.lineHeight=e.height+"px",this.terminal.rowContainer.style.lineHeight=e.height+"px");var r=this.lastRecordedViewportHeight!==this.terminal.rows;(i||r)&&(this.lastRecordedViewportHeight=this.terminal.rows,this.viewportElement.style.height=e.height*this.terminal.rows+"px"),this.scrollArea.style.height=e.height*this.lastRecordedBufferLength+"px"}},Viewport.prototype.syncScrollArea=function(){if(this.lastRecordedBufferLength!==this.terminal.lines.length)this.lastRecordedBufferLength=this.terminal.lines.length,this.refresh();else if(this.lastRecordedViewportHeight!==this.terminal.rows)this.refresh();else{var t=this.charMeasureElement.getBoundingClientRect();t.height!==this.currentRowHeight&&this.refresh(t)}var e=this.terminal.ydisp*this.currentRowHeight;this.viewportElement.scrollTop!==e&&(this.viewportElement.scrollTop=e)},Viewport.prototype.onScroll=function(t){var e=Math.round(this.viewportElement.scrollTop/this.currentRowHeight)-this.terminal.ydisp;this.terminal.scrollDisp(e,!0)},Viewport.prototype.onWheel=function(t){if(0!==t.deltaY){var e=1;t.deltaMode===WheelEvent.DOM_DELTA_LINE?e=this.currentRowHeight:t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(e=this.currentRowHeight*this.terminal.rows),this.viewportElement.scrollTop+=t.deltaY*e,t.preventDefault()}},Viewport}();i.Viewport=r},{}],4:[function(t,e,i){"use strict";function prepareTextForClipboard(t){var e=String.fromCharCode(32),i=String.fromCharCode(160),r=new RegExp(i,"g");return t.split("\n").map(function(t){return t.replace(/\s+$/g,"").replace(r,e)}).join("\n")}i.prepareTextForClipboard=prepareTextForClipboard,i.copyHandler=function copyHandler(t,e){var i=prepareTextForClipboard(window.getSelection().toString());e.browser.isMSIE?window.clipboardData.setData("Text",i):t.clipboardData.setData("text/plain",i),t.preventDefault()},i.pasteHandler=function pasteHandler(t,e){t.stopPropagation();var i=function(i){return e.handler(i),e.textarea.value="",e.cancel(t)};e.browser.isMSIE?window.clipboardData&&i(window.clipboardData.getData("Text")):t.clipboardData&&i(t.clipboardData.getData("text/plain"))},i.rightClickHandler=function rightClickHandler(t,e){var i=document.getSelection(),r=prepareTextForClipboard(i.toString()),s=!1,n=t.clientX,o=t.clientY;if(i.rangeCount){for(var a=i.getRangeAt(0).getClientRects(),l=0;l<a.length;l++){var h=a[l];if(s=n>h.left&&n<h.right&&o>h.top&&o<h.bottom)break}!r.match(/^\s$/)&&r.length||(s=!1)}s||(e.textarea.style.position="fixed",e.textarea.style.width="20px",e.textarea.style.height="20px",e.textarea.style.left=n-10+"px",e.textarea.style.top=o-10+"px",e.textarea.style.zIndex="1000",e.textarea.focus(),setTimeout(function(){e.textarea.style.position=null,e.textarea.style.width=null,e.textarea.style.height=null,e.textarea.style.left=null,e.textarea.style.top=null,e.textarea.style.zIndex=null},4))}},{}],5:[function(t,e,i){"use strict";var r=t("./Generic.js"),s="undefined"==typeof navigator,n=s?"node":navigator.userAgent,o=s?"node":navigator.platform;i.isFirefox=!!~n.indexOf("Firefox"),i.isMSIE=!!~n.indexOf("MSIE")||!!~n.indexOf("Trident"),i.isMac=r.contains(["Macintosh","MacIntel","MacPPC","Mac68K"],o),i.isIpad="iPad"===o,i.isIphone="iPhone"===o,i.isMSWindows=r.contains(["Windows","Win16","Win32","WinCE"],o)},{"./Generic.js":6}],6:[function(t,e,i){"use strict";i.contains=function(t,e){return t.indexOf(e)>=0}},{}],7:[function(t,e,i){"use strict";var r=t("./CompositionHelper.js"),s=t("./EventEmitter.js"),n=t("./Viewport.js"),o=t("./handlers/Clipboard.js"),a=t("./utils/Browser"),l="undefined"!=typeof window?window.document:null;function Terminal(t){var e=this;if(!(this instanceof Terminal))return new Terminal(arguments[0],arguments[1],arguments[2]);e.browser=a,e.cancel=Terminal.cancel,s.EventEmitter.call(this),"number"==typeof t&&(t={cols:arguments[0],rows:arguments[1],handler:arguments[2]}),t=t||{},Object.keys(Terminal.defaults).forEach(function(i){null==t[i]&&(t[i]=Terminal.options[i],Terminal[i]!==Terminal.defaults[i]&&(t[i]=Terminal[i])),e[i]=t[i]}),8===t.colors.length?t.colors=t.colors.concat(Terminal._colors.slice(8)):16===t.colors.length?t.colors=t.colors.concat(Terminal._colors.slice(16)):10===t.colors.length?t.colors=t.colors.slice(0,-2).concat(Terminal._colors.slice(8,-2),t.colors.slice(-2)):18===t.colors.length&&(t.colors=t.colors.concat(Terminal._colors.slice(16,-2),t.colors.slice(-2))),this.colors=t.colors,this.options=t,this.parent=t.body||t.parent||(l?l.getElementsByTagName("body")[0]:null),this.cols=t.cols||t.geometry[0],this.rows=t.rows||t.geometry[1],this.geometry=[this.cols,this.rows],t.handler&&this.on("data",t.handler),this.ybase=0,this.ydisp=0,this.x=0,this.y=0,this.isRefreshing=!1,this.cursorState=0,this.cursorHidden=!1,this.convertEol,this.state=0,this.queue="",this.scrollTop=0,this.scrollBottom=this.rows-1,this.customKeydownHandler=null,this.applicationKeypad=!1,this.applicationCursor=!1,this.originMode=!1,this.insertMode=!1,this.wraparoundMode=!0,this.normal=null,this.charset=null,this.gcharset=null,this.glevel=0,this.charsets=[null],this.decLocator,this.x10Mouse,this.vt200Mouse,this.vt300Mouse,this.normalMouse,this.mouseEvents,this.sendFocus,this.utfMouse,this.sgrMouse,this.urxvtMouse,this.element,this.children,this.refreshStart,this.refreshEnd,this.savedX,this.savedY,this.savedCols,this.readable=!0,this.writable=!0,this.defAttr=131840,this.curAttr=this.defAttr,this.params=[],this.currentParam=0,this.prefix="",this.postfix="",this.surrogate_high="",this.lines=[];for(var i=this.rows;i--;)this.lines.push(this.blankLine());this.tabs,this.setupStops(),this.userScrolling=!1}function on(t,e,i,r){Array.isArray(t)||(t=[t]),t.forEach(function(t){t.addEventListener(e,i,r||!1)})}function off(t,e,i,r){t.removeEventListener(e,i,r||!1)}function inherits(t,e){function f(){this.constructor=t}f.prototype=e.prototype,t.prototype=new f}function isThirdLevelShift(t,e){var i=t.browser.isMac&&e.altKey&&!e.ctrlKey&&!e.metaKey||t.browser.isMSWindows&&e.altKey&&e.ctrlKey&&!e.metaKey;return"keypress"==e.type?i:i&&(!e.keyCode||e.keyCode>47)}function matchColor(t,e,i){var r=t<<16|e<<8|i;if(null!=matchColor._cache[r])return matchColor._cache[r];for(var s,n,o,a,l,h=1/0,c=-1,u=0;u<Terminal.vcolors.length;u++){if(n=(s=Terminal.vcolors[u])[0],o=s[1],a=s[2],0===(l=matchColor.distance(t,e,i,n,o,a))){c=u;break}l<h&&(h=l,c=u)}return matchColor._cache[r]=c}inherits(Terminal,s.EventEmitter),Terminal.prototype.eraseAttr=function(){return-512&this.defAttr|511&this.curAttr},Terminal.tangoColors=["#2e3436","#cc0000","#4e9a06","#c4a000","#3465a4","#75507b","#06989a","#d3d7cf","#555753","#ef2929","#8ae234","#fce94f","#729fcf","#ad7fa8","#34e2e2","#eeeeec"],Terminal.colors=function(){var t,e=Terminal.tangoColors.slice(),i=[0,95,135,175,215,255];for(t=0;t<216;t++)out(i[t/36%6|0],i[t/6%6|0],i[t%6]);for(t=0;t<24;t++)out(i=8+10*t,i,i);function out(t,i,r){e.push("#"+hex(t)+hex(i)+hex(r))}function hex(t){return(t=t.toString(16)).length<2?"0"+t:t}return e}(),Terminal._colors=Terminal.colors.slice(),Terminal.vcolors=function(){for(var t,e=[],i=Terminal.colors,r=0;r<256;r++)t=parseInt(i[r].substring(1),16),e.push([t>>16&255,t>>8&255,255&t]);return e}(),Terminal.defaults={colors:Terminal.colors,theme:"default",convertEol:!1,termName:"xterm",geometry:[80,24],cursorBlink:!1,visualBell:!1,popOnBell:!1,scrollback:1e3,screenKeys:!1,debug:!1,cancelEvents:!1},Terminal.options={},Terminal.focus=null,function each(t,e,i){if(t.forEach)return t.forEach(e,i);for(var r=0;r<t.length;r++)e.call(i,t[r],r,t)}(function keys(t){if(Object.keys)return Object.keys(t);var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i}(Terminal.defaults),function(t){Terminal[t]=Terminal.defaults[t],Terminal.options[t]=Terminal.defaults[t]}),Terminal.prototype.focus=function(){return this.textarea.focus()},Terminal.prototype.getOption=function(t,e){if(!(t in Terminal.defaults))throw new Error('No option with key "'+t+'"');return void 0!==this.options[t]?this.options[t]:this[t]},Terminal.prototype.setOption=function(t,e){if(!(t in Terminal.defaults))throw new Error('No option with key "'+t+'"');this[t]=e,this.options[t]=e},Terminal.bindFocus=function(t){on(t.textarea,"focus",function(e){t.sendFocus&&t.send("[I"),t.element.classList.add("focus"),t.showCursor(),Terminal.focus=t,t.emit("focus",{terminal:t})})},Terminal.prototype.blur=function(){return this.textarea.blur()},Terminal.bindBlur=function(t){on(t.textarea,"blur",function(e){t.refresh(t.y,t.y),t.sendFocus&&t.send("[O"),t.element.classList.remove("focus"),Terminal.focus=null,t.emit("blur",{terminal:t})})},Terminal.prototype.initGlobal=function(){var t=this;function rightClickHandlerWrapper(e){o.rightClickHandler.call(this,e,t)}Terminal.bindKeys(this),Terminal.bindFocus(this),Terminal.bindBlur(this),on(this.element,"copy",function(e){o.copyHandler.call(this,e,t)}),on(this.textarea,"paste",function(e){o.pasteHandler.call(this,e,t)}),on(this.element,"paste",function(e){o.pasteHandler.call(this,e,t)}),t.browser.isFirefox?on(this.element,"mousedown",function(t){2==t.button&&rightClickHandlerWrapper(t)}):on(this.element,"contextmenu",rightClickHandlerWrapper)},Terminal.bindKeys=function(t){on(t.element,"keydown",function(e){l.activeElement==this&&t.keyDown(e)},!0),on(t.element,"keypress",function(e){l.activeElement==this&&t.keyPress(e)},!0),on(t.element,"keyup",t.focus.bind(t)),on(t.textarea,"keydown",function(e){t.keyDown(e)},!0),on(t.textarea,"keypress",function(e){t.keyPress(e),this.value=""},!0),on(t.textarea,"compositionstart",t.compositionHelper.compositionstart.bind(t.compositionHelper)),on(t.textarea,"compositionupdate",t.compositionHelper.compositionupdate.bind(t.compositionHelper)),on(t.textarea,"compositionend",t.compositionHelper.compositionend.bind(t.compositionHelper)),t.on("refresh",t.compositionHelper.updateCompositionElements.bind(t.compositionHelper))},Terminal.prototype.insertRow=function(t){return"object"!=typeof t&&(t=l.createElement("div")),this.rowContainer.appendChild(t),this.children.push(t),t},Terminal.prototype.open=function(t){var e=this,i=0;if(this.parent=t||this.parent,!this.parent)throw new Error("Terminal requires a parent element.");for(this.context=this.parent.ownerDocument.defaultView,this.document=this.parent.ownerDocument,this.body=this.document.getElementsByTagName("body")[0],this.element=this.document.createElement("div"),this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.classList.add("xterm-theme-"+this.theme),this.element.style.height,this.element.setAttribute("tabindex",0),this.viewportElement=l.createElement("div"),this.viewportElement.classList.add("xterm-viewport"),this.element.appendChild(this.viewportElement),this.viewportScrollArea=l.createElement("div"),this.viewportScrollArea.classList.add("xterm-scroll-area"),this.viewportElement.appendChild(this.viewportScrollArea),this.rowContainer=l.createElement("div"),this.rowContainer.classList.add("xterm-rows"),this.element.appendChild(this.rowContainer),this.children=[],this.helperContainer=l.createElement("div"),this.helperContainer.classList.add("xterm-helpers"),this.element.appendChild(this.helperContainer),this.textarea=l.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.textarea.addEventListener("focus",function(){e.emit("focus",{terminal:e})}),this.textarea.addEventListener("blur",function(){e.emit("blur",{terminal:e})}),this.helperContainer.appendChild(this.textarea),this.compositionView=l.createElement("div"),this.compositionView.classList.add("composition-view"),this.compositionHelper=new r.CompositionHelper(this.textarea,this.compositionView,this),this.helperContainer.appendChild(this.compositionView),this.charMeasureElement=l.createElement("div"),this.charMeasureElement.classList.add("xterm-char-measure-element"),this.charMeasureElement.innerHTML="W",this.helperContainer.appendChild(this.charMeasureElement);i<this.rows;i++)this.insertRow();this.parent.appendChild(this.element),this.viewport=new n.Viewport(this,this.viewportElement,this.viewportScrollArea,this.charMeasureElement),this.refresh(0,this.rows-1),this.initGlobal(),this.focus(),on(this.element,"click",function(){var t=l.getSelection(),i=t.isCollapsed;("boolean"==typeof i?!i:"Range"==t.type)||e.focus()}),this.bindMouse(),null==Terminal.brokenBold&&(Terminal.brokenBold=function isBoldBroken(t){var e=t.getElementsByTagName("body")[0],i=t.createElement("span");i.innerHTML="hello world",e.appendChild(i);var r=i.scrollWidth;i.style.fontWeight="bold";var s=i.scrollWidth;return e.removeChild(i),r!==s}(this.document)),this.emit("open")},Terminal.loadAddon=function(r,s){return"object"==typeof i&&"object"==typeof e?t("./addons/"+r+"/"+r):(console.error("Cannot load a module without a CommonJS or RequireJS environment."),!1)},Terminal.prototype.bindMouse=function(){var t=this.element,e=this,i=32;function sendButton(t){var r,s;if(r=function getButton(t){var i,r,s,n,o;switch(t.overrideType||t.type){case"mousedown":i=null!=t.button?+t.button:null!=t.which?t.which-1:null,e.browser.isMSIE&&(i=1===i?0:4===i?1:i);break;case"mouseup":i=3;break;case"DOMMouseScroll":i=t.detail<0?64:65;break;case"wheel":i=t.wheelDeltaY>0?64:65}r=t.shiftKey?4:0,s=t.metaKey?8:0,n=t.ctrlKey?16:0,o=r|s|n,e.vt200Mouse?o&=n:e.normalMouse||(o=0);return i=32+(o<<2)+i}(t),s=getCoords(t))switch(sendEvent(r,s),t.overrideType||t.type){case"mousedown":i=r;break;case"mouseup":i=32}}function sendMove(t){var e,r=i;(e=getCoords(t))&&sendEvent(r+=32,e)}function encode(t,i){if(e.utfMouse){if(2047===i)return t.push(0);i<127?t.push(i):(i>2047&&(i=2047),t.push(192|i>>6),t.push(128|63&i))}else{if(255===i)return t.push(0);i>127&&(i=127),t.push(i)}}function sendEvent(t,i){if(e.vt300Mouse){t&=3,i.x-=32,i.y-=32;var r="[24";if(0===t)r+="1";else if(1===t)r+="3";else if(2===t)r+="5";else{if(3===t)return;r+="0"}return r+="~["+i.x+","+i.y+"]\r",void e.send(r)}return e.decLocator?(t&=3,i.x-=32,i.y-=32,0===t?t=2:1===t?t=4:2===t?t=6:3===t&&(t=3),void e.send("["+t+";"+(3===t?4:0)+";"+i.y+";"+i.x+";"+(i.page||0)+"&w")):e.urxvtMouse?(i.x-=32,i.y-=32,i.x++,i.y++,void e.send("["+t+";"+i.x+";"+i.y+"M")):e.sgrMouse?(i.x-=32,i.y-=32,void e.send("[<"+((3==(3&t)?-4&t:t)-32)+";"+i.x+";"+i.y+(3==(3&t)?"m":"M"))):(encode(r=[],t),encode(r,i.x),encode(r,i.y),void e.send("[M"+String.fromCharCode.apply(String,r)))}function getCoords(t){var i,r,s,n,o;if(null!=t.pageX){for(i=t.pageX,r=t.pageY,o=e.element;o&&o!==e.document.documentElement;)i-=o.offsetLeft,r-=o.offsetTop,o="offsetParent"in o?o.offsetParent:o.parentNode;return s=e.element.clientWidth,n=e.element.clientHeight,i=Math.ceil(i/s*e.cols),r=Math.ceil(r/n*e.rows),i<0&&(i=0),i>e.cols&&(i=e.cols),r<0&&(r=0),r>e.rows&&(r=e.rows),{x:i+=32,y:r+=32,type:"wheel"}}}on(t,"mousedown",function(t){if(e.mouseEvents)return sendButton(t),e.focus(),e.vt200Mouse?(t.overrideType="mouseup",sendButton(t),e.cancel(t)):(e.normalMouse&&on(e.document,"mousemove",sendMove),e.x10Mouse||on(e.document,"mouseup",function up(t){return sendButton(t),e.normalMouse&&off(e.document,"mousemove",sendMove),off(e.document,"mouseup",up),e.cancel(t)}),e.cancel(t))}),on(t,"wheel",function(t){if(e.mouseEvents&&!(e.x10Mouse||e.vt300Mouse||e.decLocator))return sendButton(t),e.cancel(t)}),on(t,"wheel",function(t){if(!e.mouseEvents)return e.viewport.onWheel(t),e.cancel(t)})},Terminal.prototype.destroy=function(){this.readable=!1,this.writable=!1,this._events={},this.handler=function(){},this.write=function(){},this.element.parentNode&&this.element.parentNode.removeChild(this.element)},Terminal.flags={BOLD:1,UNDERLINE:2,BLINK:4,INVERSE:8,INVISIBLE:16},Terminal.prototype.refresh=function(t,e,i){var r=this;if(i=void 0===i||i)this._refreshIsQueued?this._fullRefreshNext=!0:(setTimeout(function(){r.refresh(t,e,!1)},34),this._refreshIsQueued=!0);else{this._refreshIsQueued=!1,this._fullRefreshNext&&(t=0,e=this.rows-1,this._fullRefreshNext=!1);var s,n,o,a,h,c,u,p,f,d,m,y,g,v;l.activeElement;for(e-t>=this.rows/2&&(v=this.element.parentNode)&&this.element.removeChild(this.rowContainer),u=this.cols,n=t,e>=this.rows.length&&(this.log("`end` is too large. Most likely a bad CSR."),e=this.rows.length-1);n<=e;n++){for(g=n+this.ydisp,a=this.lines[g],h="",s=this.y===n-(this.ybase-this.ydisp)&&this.cursorState&&!this.cursorHidden?this.x:-1,f=this.defAttr,o=0;o<u;o++)if(p=a[o][0],c=a[o][1],a[o][2]){if(o===s&&(p=-1),p!==f&&(f!==this.defAttr&&(h+="</span>"),p!==this.defAttr))if(-1===p)h+='<span class="reverse-video terminal-cursor',this.cursorBlink&&(h+=" blinking"),h+='">';else{var b=[];d=511&p,m=p>>9&511,(y=p>>18)&Terminal.flags.BOLD&&(Terminal.brokenBold||b.push("xterm-bold"),m<8&&(m+=8)),y&Terminal.flags.UNDERLINE&&b.push("xterm-underline"),y&Terminal.flags.BLINK&&b.push("xterm-blink"),y&Terminal.flags.INVERSE&&(d=[m,m=d][0],1&y&&m<8&&(m+=8)),y&Terminal.flags.INVISIBLE&&b.push("xterm-hidden"),y&Terminal.flags.INVERSE&&(257==d&&(d=15),256==m&&(m=0)),d<256&&b.push("xterm-bg-color-"+d),m<256&&b.push("xterm-color-"+m),h+="<span",b.length&&(h+=' class="'+b.join(" ")+'"'),h+=">"}switch(c){case"&":h+="&amp;";break;case"<":h+="&lt;";break;case">":h+="&gt;";break;default:h+=c<=" "?"&nbsp;":c}f=p}f!==this.defAttr&&(h+="</span>"),this.children[n].innerHTML=h}v&&this.element.appendChild(this.rowContainer),this.emit("refresh",{element:this.element,start:t,end:e})}},Terminal.prototype.showCursor=function(){this.cursorState||(this.cursorState=1,this.refresh(this.y,this.y))},Terminal.prototype.scroll=function(){var t;++this.ybase===this.scrollback&&(this.ybase=this.ybase/2|0,this.lines=this.lines.slice(1-(this.ybase+this.rows))),this.userScrolling||(this.ydisp=this.ybase),t=this.ybase+this.rows-1,(t-=this.rows-1-this.scrollBottom)===this.lines.length?this.lines.push(this.blankLine()):this.lines.splice(t,0,this.blankLine()),0!==this.scrollTop&&(0!==this.ybase&&(this.ybase--,this.userScrolling||(this.ydisp=this.ybase)),this.lines.splice(this.ybase+this.scrollTop,1)),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom),this.emit("scroll",this.ydisp)},Terminal.prototype.scrollDisp=function(t,e){t<0?this.userScrolling=!0:t+this.ydisp>=this.ybase&&(this.userScrolling=!1),this.ydisp+=t,this.ydisp>this.ybase?this.ydisp=this.ybase:this.ydisp<0&&(this.ydisp=0),e||this.emit("scroll",this.ydisp),this.refresh(0,this.rows-1)},Terminal.prototype.scrollPages=function(t){this.scrollDisp(t*(this.rows-1))},Terminal.prototype.scrollToTop=function(){this.scrollDisp(-this.ydisp)},Terminal.prototype.scrollToBottom=function(){this.scrollDisp(this.ybase-this.ydisp)},Terminal.prototype.write=function(t){var e,i,r,s,n,o,a=t.length,l=0;for(this.refreshStart=this.y,this.refreshEnd=this.y,this.surrogate_high&&(t=this.surrogate_high+t,this.surrogate_high="");l<a;l++){if(i=t[l],55296<=(r=t.charCodeAt(l))&&r<=56319){if(s=t.charCodeAt(l+1),isNaN(s)){this.surrogate_high=i;continue}r=1024*(r-55296)+(s-56320)+65536,i+=t.charAt(l+1)}if(!(56320<=r&&r<=57343))switch(this.state){case 0:switch(i){case"":this.bell();break;case"\n":case"\v":case"\f":this.convertEol&&(this.x=0),this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll());break;case"\r":this.x=0;break;case"\b":this.x>0&&this.x--;break;case"\t":this.x=this.nextStop();break;case"":this.setgLevel(1);break;case"":this.setgLevel(0);break;case"":this.state=1;break;default:if(n=h(r),i>=" "){if(this.charset&&this.charset[i]&&(i=this.charset[i]),o=this.y+this.ybase,!n&&this.x){this.lines[o][this.x-1]&&(this.lines[o][this.x-1][2]?this.lines[o][this.x-1][1]+=i:this.lines[o][this.x-2]&&(this.lines[o][this.x-2][1]+=i),this.updateRange(this.y));break}if(this.x+n-1>=this.cols)if(this.wraparoundMode)this.x=0,this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll());else if(this.x=this.cols-1,2===n)continue;if(o=this.y+this.ybase,this.insertMode)for(var c=0;c<n;++c){0===this.lines[this.y+this.ybase].pop()[2]&&this.lines[o][this.cols-2]&&2===this.lines[o][this.cols-2][2]&&(this.lines[o][this.cols-2]=[this.curAttr," ",1]),this.lines[o].splice(this.x,0,[this.curAttr," ",1])}this.lines[o][this.x]=[this.curAttr,i,n],this.x++,this.updateRange(this.y),2===n&&(this.lines[o][this.x]=[this.curAttr,"",0],this.x++)}}break;case 1:switch(i){case"[":this.params=[],this.currentParam=0,this.state=2;break;case"]":this.params=[],this.currentParam=0,this.state=3;break;case"P":this.params=[],this.currentParam=0,this.state=5;break;case"_":case"^":this.state=6;break;case"c":this.reset();break;case"E":this.x=0;case"D":this.index();break;case"M":this.reverseIndex();break;case"%":this.setgLevel(0),this.setgCharset(0,Terminal.charsets.US),this.state=0,l++;break;case"(":case")":case"*":case"+":case"-":case".":switch(i){case"(":this.gcharset=0;break;case")":this.gcharset=1;break;case"*":this.gcharset=2;break;case"+":this.gcharset=3;break;case"-":this.gcharset=1;break;case".":this.gcharset=2}this.state=4;break;case"/":this.gcharset=3,this.state=4,l--;break;case"N":case"O":break;case"n":this.setgLevel(2);break;case"o":case"|":this.setgLevel(3);break;case"}":this.setgLevel(2);break;case"~":this.setgLevel(1);break;case"7":this.saveCursor(),this.state=0;break;case"8":this.restoreCursor(),this.state=0;break;case"#":this.state=0,l++;break;case"H":this.tabSet();break;case"=":this.log("Serial port requested application keypad."),this.applicationKeypad=!0,this.viewport.syncScrollArea(),this.state=0;break;case">":this.log("Switching back to normal keypad."),this.applicationKeypad=!1,this.viewport.syncScrollArea(),this.state=0;break;default:this.state=0,this.error("Unknown ESC control: %s.",i)}break;case 4:switch(i){case"0":e=Terminal.charsets.SCLD;break;case"A":e=Terminal.charsets.UK;break;case"B":e=Terminal.charsets.US;break;case"4":e=Terminal.charsets.Dutch;break;case"C":case"5":e=Terminal.charsets.Finnish;break;case"R":e=Terminal.charsets.French;break;case"Q":e=Terminal.charsets.FrenchCanadian;break;case"K":e=Terminal.charsets.German;break;case"Y":e=Terminal.charsets.Italian;break;case"E":case"6":e=Terminal.charsets.NorwegianDanish;break;case"Z":e=Terminal.charsets.Spanish;break;case"H":case"7":e=Terminal.charsets.Swedish;break;case"=":e=Terminal.charsets.Swiss;break;case"/":e=Terminal.charsets.ISOLatin,l++;break;default:e=Terminal.charsets.US}this.setgCharset(this.gcharset,e),this.gcharset=null,this.state=0;break;case 3:if(""===i||""===i){switch(""===i&&l++,this.params.push(this.currentParam),this.params[0]){case 0:case 1:case 2:this.params[1]&&(this.title=this.params[1],this.handleTitle(this.title))}this.params=[],this.currentParam=0,this.state=0}else this.params.length?this.currentParam+=i:i>="0"&&i<="9"?this.currentParam=10*this.currentParam+i.charCodeAt(0)-48:";"===i&&(this.params.push(this.currentParam),this.currentParam="");break;case 2:if("?"===i||">"===i||"!"===i){this.prefix=i;break}if(i>="0"&&i<="9"){this.currentParam=10*this.currentParam+i.charCodeAt(0)-48;break}if("$"===i||'"'===i||" "===i||"'"===i){this.postfix=i;break}if(this.params.push(this.currentParam),this.currentParam=0,";"===i)break;switch(this.state=0,i){case"A":this.cursorUp(this.params);break;case"B":this.cursorDown(this.params);break;case"C":this.cursorForward(this.params);break;case"D":this.cursorBackward(this.params);break;case"H":this.cursorPos(this.params);break;case"J":this.eraseInDisplay(this.params);break;case"K":this.eraseInLine(this.params);break;case"m":this.prefix||this.charAttributes(this.params);break;case"n":this.prefix||this.deviceStatus(this.params);break;case"@":this.insertChars(this.params);break;case"E":this.cursorNextLine(this.params);break;case"F":this.cursorPrecedingLine(this.params);break;case"G":this.cursorCharAbsolute(this.params);break;case"L":this.insertLines(this.params);break;case"M":this.deleteLines(this.params);break;case"P":this.deleteChars(this.params);break;case"X":this.eraseChars(this.params);break;case"`":this.charPosAbsolute(this.params);break;case"a":this.HPositionRelative(this.params);break;case"c":this.sendDeviceAttributes(this.params);break;case"d":this.linePosAbsolute(this.params);break;case"e":this.VPositionRelative(this.params);break;case"f":this.HVPosition(this.params);break;case"h":this.setMode(this.params);break;case"l":this.resetMode(this.params);break;case"r":this.setScrollRegion(this.params);break;case"s":this.saveCursor(this.params);break;case"u":this.restoreCursor(this.params);break;case"I":this.cursorForwardTab(this.params);break;case"S":this.scrollUp(this.params);break;case"T":this.params.length<2&&!this.prefix&&this.scrollDown(this.params);break;case"Z":this.cursorBackwardTab(this.params);break;case"b":this.repeatPrecedingCharacter(this.params);break;case"g":this.tabClear(this.params);break;case"p":switch(this.prefix){case"!":this.softReset(this.params)}break;default:this.error("Unknown CSI code: %s.",i)}this.prefix="",this.postfix="";break;case 5:if(""===i||""===i){switch(""===i&&l++,this.prefix){case"":break;case"$q":var u=!1;switch(p=this.currentParam){case'"q':p='0"q';break;case'"p':p='61"p';break;case"r":p=this.scrollTop+1+";"+(this.scrollBottom+1)+"r";break;case"m":p="0m";break;default:this.error("Unknown DCS Pt: %s.",p),p=""}this.send("P"+ +u+"$r"+p+"\\");break;case"+p":break;case"+q":var p=this.currentParam;u=!1;this.send("P"+ +u+"+r"+p+"\\");break;default:this.error("Unknown DCS prefix: %s.",this.prefix)}this.currentParam=0,this.prefix="",this.state=0}else this.currentParam?this.currentParam+=i:this.prefix||"$"===i||"+"===i?2===this.prefix.length?this.currentParam=i:this.prefix+=i:this.currentParam=i;break;case 6:""!==i&&""!==i||(""===i&&l++,this.state=0)}}this.updateRange(this.y),this.refresh(this.refreshStart,this.refreshEnd)},Terminal.prototype.writeln=function(t){this.write(t+"\r\n")},Terminal.prototype.attachCustomKeydownHandler=function(t){this.customKeydownHandler=t},Terminal.prototype.keyDown=function(t){if(this.customKeydownHandler&&!1===this.customKeydownHandler(t))return!1;if(!this.compositionHelper.keydown.bind(this.compositionHelper)(t))return this.ybase!==this.ydisp&&this.scrollToBottom(),!1;var e=this.evaluateKeyEscapeSequence(t);return e.scrollDisp?(this.scrollDisp(e.scrollDisp),this.cancel(t,!0)):!!isThirdLevelShift(this,t)||(e.cancel&&this.cancel(t,!0),!e.key||(this.emit("keydown",t),this.emit("key",e.key,t),this.showCursor(),this.handler(e.key),this.cancel(t,!0)))},Terminal.prototype.evaluateKeyEscapeSequence=function(t){var e={cancel:!1,key:void 0,scrollDisp:void 0},i=t.shiftKey<<0|t.altKey<<1|t.ctrlKey<<2|t.metaKey<<3;switch(t.keyCode){case 8:if(t.shiftKey){e.key="\b";break}e.key="";break;case 9:if(t.shiftKey){e.key="[Z";break}e.key="\t",e.cancel=!0;break;case 13:e.key="\r",e.cancel=!0;break;case 27:e.key="",e.cancel=!0;break;case 37:i?(e.key="[1;"+(i+1)+"D","[1;3D"==e.key&&(e.key="[1;5D")):this.applicationCursor?e.key="OD":e.key="[D";break;case 39:i?(e.key="[1;"+(i+1)+"C","[1;3C"==e.key&&(e.key="[1;5C")):this.applicationCursor?e.key="OC":e.key="[C";break;case 38:i?(e.key="[1;"+(i+1)+"A","[1;3A"==e.key&&(e.key="[1;5A")):this.applicationCursor?e.key="OA":e.key="[A";break;case 40:i?(e.key="[1;"+(i+1)+"B","[1;3B"==e.key&&(e.key="[1;5B")):this.applicationCursor?e.key="OB":e.key="[B";break;case 45:t.shiftKey||t.ctrlKey||(e.key="[2~");break;case 46:e.key=i?"[3;"+(i+1)+"~":"[3~";break;case 36:i?e.key="[1;"+(i+1)+"H":this.applicationCursor?e.key="OH":e.key="[H";break;case 35:i?e.key="[1;"+(i+1)+"F":this.applicationCursor?e.key="OF":e.key="[F";break;case 33:t.shiftKey?e.scrollDisp=-(this.rows-1):e.key="[5~";break;case 34:t.shiftKey?e.scrollDisp=this.rows-1:e.key="[6~";break;case 112:e.key=i?"[1;"+(i+1)+"P":"OP";break;case 113:e.key=i?"[1;"+(i+1)+"Q":"OQ";break;case 114:e.key=i?"[1;"+(i+1)+"R":"OR";break;case 115:e.key=i?"[1;"+(i+1)+"S":"OS";break;case 116:e.key=i?"[15;"+(i+1)+"~":"[15~";break;case 117:e.key=i?"[17;"+(i+1)+"~":"[17~";break;case 118:e.key=i?"[18;"+(i+1)+"~":"[18~";break;case 119:e.key=i?"[19;"+(i+1)+"~":"[19~";break;case 120:e.key=i?"[20;"+(i+1)+"~":"[20~";break;case 121:e.key=i?"[21;"+(i+1)+"~":"[21~";break;case 122:e.key=i?"[23;"+(i+1)+"~":"[23~";break;case 123:e.key=i?"[24;"+(i+1)+"~":"[24~";break;default:!t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?this.browser.isMac||!t.altKey||t.ctrlKey||t.metaKey||(t.keyCode>=65&&t.keyCode<=90?e.key=""+String.fromCharCode(t.keyCode+32):192===t.keyCode?e.key="`":t.keyCode>=48&&t.keyCode<=57&&(e.key=""+(t.keyCode-48))):t.keyCode>=65&&t.keyCode<=90?e.key=String.fromCharCode(t.keyCode-64):32===t.keyCode?e.key=String.fromCharCode(0):t.keyCode>=51&&t.keyCode<=55?e.key=String.fromCharCode(t.keyCode-51+27):56===t.keyCode?e.key=String.fromCharCode(127):219===t.keyCode?e.key=String.fromCharCode(27):220===t.keyCode?e.key=String.fromCharCode(28):221===t.keyCode&&(e.key=String.fromCharCode(29))}return e},Terminal.prototype.setgLevel=function(t){this.glevel=t,this.charset=this.charsets[t]},Terminal.prototype.setgCharset=function(t,e){this.charsets[t]=e,this.glevel===t&&(this.charset=e)},Terminal.prototype.keyPress=function(t){var e;if(this.cancel(t),t.charCode)e=t.charCode;else if(null==t.which)e=t.keyCode;else{if(0===t.which||0===t.charCode)return!1;e=t.which}return!(!e||(t.altKey||t.ctrlKey||t.metaKey)&&!isThirdLevelShift(this,t))&&(e=String.fromCharCode(e),this.emit("keypress",e,t),this.emit("key",e,t),this.showCursor(),this.handler(e),!1)},Terminal.prototype.send=function(t){var e=this;this.queue||setTimeout(function(){e.handler(e.queue),e.queue=""},1),this.queue+=t},Terminal.prototype.bell=function(){if(this.visualBell){var t=this;this.element.style.borderColor="white",setTimeout(function(){t.element.style.borderColor=""},10),this.popOnBell&&this.focus()}},Terminal.prototype.log=function(){if(this.debug&&this.context.console&&this.context.console.log){var t=Array.prototype.slice.call(arguments);this.context.console.log.apply(this.context.console,t)}},Terminal.prototype.error=function(){if(this.debug&&this.context.console&&this.context.console.error){var t=Array.prototype.slice.call(arguments);this.context.console.error.apply(this.context.console,t)}},Terminal.prototype.resize=function(t,e){var i,r,s,n,o;if(t!==this.cols||e!==this.rows){if(t<1&&(t=1),e<1&&(e=1),(s=this.cols)<t)for(n=[this.defAttr," ",1],r=this.lines.length;r--;)for(;this.lines[r].length<t;)this.lines[r].push(n);else for(r=this.lines.length;r--;)for(;this.lines[r].length>t;)this.lines[r].pop();if(this.setupStops(s),this.cols=t,o=0,(s=this.rows)<e)for(i=this.element;s++<e;)this.lines.length<e+this.ybase&&(this.ybase>0&&this.lines.length<=this.ybase+this.y+o+1?(this.ybase--,o++,this.ydisp>0&&this.ydisp--):this.lines.push(this.blankLine())),this.children.length<e&&this.insertRow();else for(;s-- >e;)if(this.lines.length>e+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++)),this.children.length>e){if(!(i=this.children.shift()))continue;i.parentNode.removeChild(i)}this.rows=e,this.y>=e&&(this.y=e-1),o&&(this.y+=o),this.x>=t&&(this.x=t-1),this.scrollTop=0,this.scrollBottom=e-1,this.refresh(0,this.rows-1),this.normal=null,this.geometry=[this.cols,this.rows],this.emit("resize",{terminal:this,cols:t,rows:e})}},Terminal.prototype.updateRange=function(t){t<this.refreshStart&&(this.refreshStart=t),t>this.refreshEnd&&(this.refreshEnd=t)},Terminal.prototype.maxRange=function(){this.refreshStart=0,this.refreshEnd=this.rows-1},Terminal.prototype.setupStops=function(t){for(null!=t?this.tabs[t]||(t=this.prevStop(t)):(this.tabs={},t=0);t<this.cols;t+=8)this.tabs[t]=!0},Terminal.prototype.prevStop=function(t){for(null==t&&(t=this.x);!this.tabs[--t]&&t>0;);return t>=this.cols?this.cols-1:t<0?0:t},Terminal.prototype.nextStop=function(t){for(null==t&&(t=this.x);!this.tabs[++t]&&t<this.cols;);return t>=this.cols?this.cols-1:t<0?0:t},Terminal.prototype.eraseRight=function(t,e){for(var i=this.lines[this.ybase+e],r=[this.eraseAttr()," ",1];t<this.cols;t++)i[t]=r;this.updateRange(e)},Terminal.prototype.eraseLeft=function(t,e){var i=this.lines[this.ybase+e],r=[this.eraseAttr()," ",1];for(t++;t--;)i[t]=r;this.updateRange(e)},Terminal.prototype.clear=function(){if(0!==this.ybase||0!==this.y){this.lines=[this.lines[this.ybase+this.y]],this.ydisp=0,this.ybase=0,this.y=0;for(var t=1;t<this.rows;t++)this.lines.push(this.blankLine());this.refresh(0,this.rows-1),this.emit("scroll",this.ydisp)}},Terminal.prototype.eraseLine=function(t){this.eraseRight(0,t)},Terminal.prototype.blankLine=function(t){for(var e=[t?this.eraseAttr():this.defAttr," ",1],i=[],r=0;r<this.cols;r++)i[r]=e;return i},Terminal.prototype.ch=function(t){return t?[this.eraseAttr()," ",1]:[this.defAttr," ",1]},Terminal.prototype.is=function(t){return 0===(this.termName+"").indexOf(t)},Terminal.prototype.handler=function(t){this.ybase!==this.ydisp&&this.scrollToBottom(),this.emit("data",t)},Terminal.prototype.handleTitle=function(t){this.emit("title",t)},Terminal.prototype.index=function(){this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll()),this.state=0},Terminal.prototype.reverseIndex=function(){var t;this.y--,this.y<this.scrollTop&&(this.y++,this.lines.splice(this.y+this.ybase,0,this.blankLine(!0)),t=this.rows-1-this.scrollBottom,this.lines.splice(this.rows-1+this.ybase-t+1,1),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)),this.state=0},Terminal.prototype.reset=function(){this.options.rows=this.rows,this.options.cols=this.cols;var t=this.customKeydownHandler;Terminal.call(this,this.options),this.customKeydownHandler=t,this.refresh(0,this.rows-1),this.viewport.syncScrollArea()},Terminal.prototype.tabSet=function(){this.tabs[this.x]=!0,this.state=0},Terminal.prototype.cursorUp=function(t){var e=t[0];e<1&&(e=1),this.y-=e,this.y<0&&(this.y=0)},Terminal.prototype.cursorDown=function(t){var e=t[0];e<1&&(e=1),this.y+=e,this.y>=this.rows&&(this.y=this.rows-1)},Terminal.prototype.cursorForward=function(t){var e=t[0];e<1&&(e=1),this.x+=e,this.x>=this.cols&&(this.x=this.cols-1)},Terminal.prototype.cursorBackward=function(t){var e=t[0];e<1&&(e=1),this.x-=e,this.x<0&&(this.x=0)},Terminal.prototype.cursorPos=function(t){var e,i;e=t[0]-1,i=t.length>=2?t[1]-1:0,e<0?e=0:e>=this.rows&&(e=this.rows-1),i<0?i=0:i>=this.cols&&(i=this.cols-1),this.x=i,this.y=e},Terminal.prototype.eraseInDisplay=function(t){var e;switch(t[0]){case 0:for(this.eraseRight(this.x,this.y),e=this.y+1;e<this.rows;e++)this.eraseLine(e);break;case 1:for(this.eraseLeft(this.x,this.y),e=this.y;e--;)this.eraseLine(e);break;case 2:for(e=this.rows;e--;)this.eraseLine(e)}},Terminal.prototype.eraseInLine=function(t){switch(t[0]){case 0:this.eraseRight(this.x,this.y);break;case 1:this.eraseLeft(this.x,this.y);break;case 2:this.eraseLine(this.y)}},Terminal.prototype.charAttributes=function(t){if(1!==t.length||0!==t[0]){for(var e,i=t.length,r=0,s=this.curAttr>>18,n=this.curAttr>>9&511,o=511&this.curAttr;r<i;r++)(e=t[r])>=30&&e<=37?n=e-30:e>=40&&e<=47?o=e-40:e>=90&&e<=97?n=(e+=8)-90:e>=100&&e<=107?o=(e+=8)-100:0===e?(s=this.defAttr>>18,n=this.defAttr>>9&511,o=511&this.defAttr):1===e?s|=1:4===e?s|=2:5===e?s|=4:7===e?s|=8:8===e?s|=16:22===e?s&=-2:24===e?s&=-3:25===e?s&=-5:27===e?s&=-9:28===e?s&=-17:39===e?n=this.defAttr>>9&511:49===e?o=511&this.defAttr:38===e?2===t[r+1]?(-1===(n=matchColor(255&t[r+=2],255&t[r+1],255&t[r+2]))&&(n=511),r+=2):5===t[r+1]&&(n=e=255&t[r+=2]):48===e?2===t[r+1]?(-1===(o=matchColor(255&t[r+=2],255&t[r+1],255&t[r+2]))&&(o=511),r+=2):5===t[r+1]&&(o=e=255&t[r+=2]):100===e?(n=this.defAttr>>9&511,o=511&this.defAttr):this.error("Unknown SGR attribute: %d.",e);this.curAttr=s<<18|n<<9|o}else this.curAttr=this.defAttr},Terminal.prototype.deviceStatus=function(t){if(this.prefix){if("?"===this.prefix)switch(t[0]){case 6:this.send("[?"+(this.y+1)+";"+(this.x+1)+"R")}}else switch(t[0]){case 5:this.send("[0n");break;case 6:this.send("["+(this.y+1)+";"+(this.x+1)+"R")}},Terminal.prototype.insertChars=function(t){var e,i,r,s;for((e=t[0])<1&&(e=1),i=this.y+this.ybase,r=this.x,s=[this.eraseAttr()," ",1];e--&&r<this.cols;)this.lines[i].splice(r++,0,s),this.lines[i].pop()},Terminal.prototype.cursorNextLine=function(t){var e=t[0];e<1&&(e=1),this.y+=e,this.y>=this.rows&&(this.y=this.rows-1),this.x=0},Terminal.prototype.cursorPrecedingLine=function(t){var e=t[0];e<1&&(e=1),this.y-=e,this.y<0&&(this.y=0),this.x=0},Terminal.prototype.cursorCharAbsolute=function(t){var e=t[0];e<1&&(e=1),this.x=e-1},Terminal.prototype.insertLines=function(t){var e,i,r;for((e=t[0])<1&&(e=1),i=this.y+this.ybase,r=this.rows-1-this.scrollBottom,r=this.rows-1+this.ybase-r+1;e--;)this.lines.splice(i,0,this.blankLine(!0)),this.lines.splice(r,1);this.updateRange(this.y),this.updateRange(this.scrollBottom)},Terminal.prototype.deleteLines=function(t){var e,i,r;for((e=t[0])<1&&(e=1),i=this.y+this.ybase,r=this.rows-1-this.scrollBottom,r=this.rows-1+this.ybase-r;e--;)this.lines.splice(r+1,0,this.blankLine(!0)),this.lines.splice(i,1);this.updateRange(this.y),this.updateRange(this.scrollBottom)},Terminal.prototype.deleteChars=function(t){var e,i,r;for((e=t[0])<1&&(e=1),i=this.y+this.ybase,r=[this.eraseAttr()," ",1];e--;)this.lines[i].splice(this.x,1),this.lines[i].push(r)},Terminal.prototype.eraseChars=function(t){var e,i,r,s;for((e=t[0])<1&&(e=1),i=this.y+this.ybase,r=this.x,s=[this.eraseAttr()," ",1];e--&&r<this.cols;)this.lines[i][r++]=s},Terminal.prototype.charPosAbsolute=function(t){var e=t[0];e<1&&(e=1),this.x=e-1,this.x>=this.cols&&(this.x=this.cols-1)},Terminal.prototype.HPositionRelative=function(t){var e=t[0];e<1&&(e=1),this.x+=e,this.x>=this.cols&&(this.x=this.cols-1)},Terminal.prototype.sendDeviceAttributes=function(t){t[0]>0||(this.prefix?">"===this.prefix&&(this.is("xterm")?this.send("[>0;276;0c"):this.is("rxvt-unicode")?this.send("[>85;95;0c"):this.is("linux")?this.send(t[0]+"c"):this.is("screen")&&this.send("[>83;40003;0c")):this.is("xterm")||this.is("rxvt-unicode")||this.is("screen")?this.send("[?1;2c"):this.is("linux")&&this.send("[?6c"))},Terminal.prototype.linePosAbsolute=function(t){var e=t[0];e<1&&(e=1),this.y=e-1,this.y>=this.rows&&(this.y=this.rows-1)},Terminal.prototype.VPositionRelative=function(t){var e=t[0];e<1&&(e=1),this.y+=e,this.y>=this.rows&&(this.y=this.rows-1)},Terminal.prototype.HVPosition=function(t){t[0]<1&&(t[0]=1),t[1]<1&&(t[1]=1),this.y=t[0]-1,this.y>=this.rows&&(this.y=this.rows-1),this.x=t[1]-1,this.x>=this.cols&&(this.x=this.cols-1)},Terminal.prototype.setMode=function(t){if("object"!=typeof t)if(this.prefix){if("?"===this.prefix)switch(t){case 1:this.applicationCursor=!0;break;case 2:this.setgCharset(0,Terminal.charsets.US),this.setgCharset(1,Terminal.charsets.US),this.setgCharset(2,Terminal.charsets.US),this.setgCharset(3,Terminal.charsets.US);break;case 3:this.savedCols=this.cols,this.resize(132,this.rows);break;case 6:this.originMode=!0;break;case 7:this.wraparoundMode=!0;break;case 12:break;case 66:this.log("Serial port requested application keypad."),this.applicationKeypad=!0,this.viewport.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=9===t,this.vt200Mouse=1e3===t,this.normalMouse=t>1e3,this.mouseEvents=!0,this.element.style.cursor="default",this.log("Binding to mouse events.");break;case 1004:this.sendFocus=!0;break;case 1005:this.utfMouse=!0;break;case 1006:this.sgrMouse=!0;break;case 1015:this.urxvtMouse=!0;break;case 25:this.cursorHidden=!1;break;case 1049:case 47:case 1047:if(!this.normal){var e={lines:this.lines,ybase:this.ybase,ydisp:this.ydisp,x:this.x,y:this.y,scrollTop:this.scrollTop,scrollBottom:this.scrollBottom,tabs:this.tabs};this.reset(),this.normal=e,this.showCursor()}}}else switch(t){case 4:this.insertMode=!0}else for(var i=t.length,r=0;r<i;r++)this.setMode(t[r])},Terminal.prototype.resetMode=function(t){if("object"!=typeof t)if(this.prefix){if("?"===this.prefix)switch(t){case 1:this.applicationCursor=!1;break;case 3:132===this.cols&&this.savedCols&&this.resize(this.savedCols,this.rows),delete this.savedCols;break;case 6:this.originMode=!1;break;case 7:this.wraparoundMode=!1;break;case 12:break;case 66:this.log("Switching back to normal keypad."),this.applicationKeypad=!1,this.viewport.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=!1,this.vt200Mouse=!1,this.normalMouse=!1,this.mouseEvents=!1,this.element.style.cursor="";break;case 1004:this.sendFocus=!1;break;case 1005:this.utfMouse=!1;break;case 1006:this.sgrMouse=!1;break;case 1015:this.urxvtMouse=!1;break;case 25:this.cursorHidden=!0;break;case 1049:case 47:case 1047:this.normal&&(this.lines=this.normal.lines,this.ybase=this.normal.ybase,this.ydisp=this.normal.ydisp,this.x=this.normal.x,this.y=this.normal.y,this.scrollTop=this.normal.scrollTop,this.scrollBottom=this.normal.scrollBottom,this.tabs=this.normal.tabs,this.normal=null,this.refresh(0,this.rows-1),this.showCursor())}}else switch(t){case 4:this.insertMode=!1}else for(var e=t.length,i=0;i<e;i++)this.resetMode(t[i])},Terminal.prototype.setScrollRegion=function(t){this.prefix||(this.scrollTop=(t[0]||1)-1,this.scrollBottom=(t[1]||this.rows)-1,this.x=0,this.y=0)},Terminal.prototype.saveCursor=function(t){this.savedX=this.x,this.savedY=this.y},Terminal.prototype.restoreCursor=function(t){this.x=this.savedX||0,this.y=this.savedY||0},Terminal.prototype.cursorForwardTab=function(t){for(var e=t[0]||1;e--;)this.x=this.nextStop()},Terminal.prototype.scrollUp=function(t){for(var e=t[0]||1;e--;)this.lines.splice(this.ybase+this.scrollTop,1),this.lines.splice(this.ybase+this.scrollBottom,0,this.blankLine());this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},Terminal.prototype.scrollDown=function(t){for(var e=t[0]||1;e--;)this.lines.splice(this.ybase+this.scrollBottom,1),this.lines.splice(this.ybase+this.scrollTop,0,this.blankLine());this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},Terminal.prototype.initMouseTracking=function(t){},Terminal.prototype.resetTitleModes=function(t){},Terminal.prototype.cursorBackwardTab=function(t){for(var e=t[0]||1;e--;)this.x=this.prevStop()},Terminal.prototype.repeatPrecedingCharacter=function(t){for(var e=t[0]||1,i=this.lines[this.ybase+this.y],r=i[this.x-1]||[this.defAttr," ",1];e--;)i[this.x++]=r},Terminal.prototype.tabClear=function(t){var e=t[0];e<=0?delete this.tabs[this.x]:3===e&&(this.tabs={})},Terminal.prototype.mediaCopy=function(t){},Terminal.prototype.setResources=function(t){},Terminal.prototype.disableModifiers=function(t){},Terminal.prototype.setPointerMode=function(t){},Terminal.prototype.softReset=function(t){this.cursorHidden=!1,this.insertMode=!1,this.originMode=!1,this.wraparoundMode=!1,this.applicationKeypad=!1,this.viewport.syncScrollArea(),this.applicationCursor=!1,this.scrollTop=0,this.scrollBottom=this.rows-1,this.curAttr=this.defAttr,this.x=this.y=0,this.charset=null,this.glevel=0,this.charsets=[null]},Terminal.prototype.requestAnsiMode=function(t){},Terminal.prototype.requestPrivateMode=function(t){},Terminal.prototype.setConformanceLevel=function(t){},Terminal.prototype.loadLEDs=function(t){},Terminal.prototype.setCursorStyle=function(t){},Terminal.prototype.setCharProtectionAttr=function(t){},Terminal.prototype.restorePrivateValues=function(t){},Terminal.prototype.setAttrInRectangle=function(t){for(var e,i,r=t[0],s=t[1],n=t[2],o=t[3],a=t[4];r<n+1;r++)for(e=this.lines[this.ybase+r],i=s;i<o;i++)e[i]=[a,e[i][1]];this.updateRange(t[0]),this.updateRange(t[2])},Terminal.prototype.fillRectangle=function(t){for(var e,i,r=t[0],s=t[1],n=t[2],o=t[3],a=t[4];s<o+1;s++)for(e=this.lines[this.ybase+s],i=n;i<a;i++)e[i]=[e[i][0],String.fromCharCode(r)];this.updateRange(t[1]),this.updateRange(t[3])},Terminal.prototype.enableLocatorReporting=function(t){t[0]},Terminal.prototype.eraseRectangle=function(t){var e,i,r,s=t[0],n=t[1],o=t[2],a=t[3];for(r=[this.eraseAttr()," ",1];s<o+1;s++)for(e=this.lines[this.ybase+s],i=n;i<a;i++)e[i]=r;this.updateRange(t[0]),this.updateRange(t[2])},Terminal.prototype.insertColumns=function(){for(var t,e=params[0],i=this.ybase+this.rows,r=[this.eraseAttr()," ",1];e--;)for(t=this.ybase;t<i;t++)this.lines[t].splice(this.x+1,0,r),this.lines[t].pop();this.maxRange()},Terminal.prototype.deleteColumns=function(){for(var t,e=params[0],i=this.ybase+this.rows,r=[this.eraseAttr()," ",1];e--;)for(t=this.ybase;t<i;t++)this.lines[t].splice(this.x,1),this.lines[t].push(r);this.maxRange()},Terminal.charsets={},Terminal.charsets.SCLD={"`":"",a:"",b:"\t",c:"\f",d:"\r",e:"\n",f:"",g:"",h:"",i:"\v",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},Terminal.charsets.UK=null,Terminal.charsets.US=null,Terminal.charsets.Dutch=null,Terminal.charsets.Finnish=null,Terminal.charsets.French=null,Terminal.charsets.FrenchCanadian=null,Terminal.charsets.German=null,Terminal.charsets.Italian=null,Terminal.charsets.NorwegianDanish=null,Terminal.charsets.Spanish=null,Terminal.charsets.Swedish=null,Terminal.charsets.Swiss=null,Terminal.charsets.ISOLatin=null,matchColor._cache={},matchColor.distance=function(t,e,i,r,s,n){return Math.pow(30*(t-r),2)+Math.pow(59*(e-s),2)+Math.pow(11*(i-n),2)};var h=function(t){var e=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];return function wcwidth(i){return 0===i?t.nul:i<32||i>=127&&i<160?t.control:function bisearch(t){var i,r=0,s=e.length-1;if(t<e[0][0]||t>e[s][1])return!1;for(;s>=r;)if(i=Math.floor((r+s)/2),t>e[i][1])r=i+1;else{if(!(t<e[i][0]))return!0;s=i-1}return!1}(i)?0:1+(i>=4352&&(i<=4447||9001==i||9002==i||i>=11904&&i<=42191&&12351!=i||i>=44032&&i<=55203||i>=63744&&i<=64255||i>=65040&&i<=65049||i>=65072&&i<=65135||i>=65280&&i<=65376||i>=65504&&i<=65510||i>=131072&&i<=196605||i>=196608&&i<=262141))}}({nul:0,control:0});Terminal.EventEmitter=s.EventEmitter,Terminal.inherits=inherits,Terminal.on=on,Terminal.off=off,Terminal.cancel=function cancel(t,e){if(this.cancelEvents||e)return t.preventDefault(),t.stopPropagation(),!1},e.exports=Terminal},{"./CompositionHelper.js":1,"./EventEmitter.js":2,"./Viewport.js":3,"./handlers/Clipboard.js":4,"./utils/Browser":5}]},{},[7])(7)})},"./node_modules/xterm/src/xterm.css":function(t,e,i){}}]);
//# sourceMappingURL=da31f3ec390e419b1c7c-0472d8a77afb5a13b3d8.js.map